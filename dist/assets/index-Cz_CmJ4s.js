function Ky(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},Ts={},rp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=Symbol.for("react.element"),Qy=Symbol.for("react.portal"),Xy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),iv=Symbol.for("react.memo"),sv=Symbol.for("react.lazy"),Ic=Symbol.iterator;function av(t){return t===null||typeof t!="object"?null:(t=Ic&&t[Ic]||t["@@iterator"],typeof t=="function"?t:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ip=Object.assign,sp={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||op}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ap(){}ap.prototype=Ur.prototype;function cu(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||op}var du=cu.prototype=new ap;du.constructor=cu;ip(du,Ur.prototype);du.isPureReactComponent=!0;var bc=Array.isArray,lp=Object.prototype.hasOwnProperty,fu={current:null},up={key:!0,ref:!0,__self:!0,__source:!0};function cp(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)lp.call(e,r)&&!up.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ho,type:t,key:i,ref:s,props:o,_owner:fu.current}}function lv(t,e){return{$$typeof:Ho,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ho}function uv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kc=/\/+/g;function ea(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uv(""+t.key):e.toString(36)}function Ni(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ho:case Qy:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+ea(s,0):r,bc(o)?(n="",t!=null&&(n=t.replace(kc,"$&/")+"/"),Ni(o,e,n,"",function(c){return c})):o!=null&&(hu(o)&&(o=lv(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(kc,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",bc(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+ea(i,a);s+=Ni(i,e,n,u,o)}else if(u=av(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+ea(i,a++),s+=Ni(i,e,n,u,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ei(t,e,n){if(t==null)return t;var r=[],o=0;return Ni(t,r,"","",function(i){return e.call(n,i,o++)}),r}function cv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Ai={transition:null},dv={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ai,ReactCurrentOwner:fu};function dp(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ei,forEach:function(t,e,n){ei(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ei(t,function(){e++}),e},toArray:function(t){return ei(t,function(e){return e})||[]},only:function(t){if(!hu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Ur;B.Fragment=Xy;B.Profiler=ev;B.PureComponent=cu;B.StrictMode=Zy;B.Suspense=ov;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv;B.act=dp;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ip({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=fu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)lp.call(e,u)&&!up.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ho,type:t.type,key:o,ref:i,props:r,_owner:s}};B.createContext=function(t){return t={$$typeof:nv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tv,_context:t},t.Consumer=t};B.createElement=cp;B.createFactory=function(t){var e=cp.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:rv,render:t}};B.isValidElement=hu;B.lazy=function(t){return{$$typeof:sv,_payload:{_status:-1,_result:t},_init:cv}};B.memo=function(t,e){return{$$typeof:iv,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Ai.transition;Ai.transition={};try{t()}finally{Ai.transition=e}};B.unstable_act=dp;B.useCallback=function(t,e){return Pe.current.useCallback(t,e)};B.useContext=function(t){return Pe.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};B.useEffect=function(t,e){return Pe.current.useEffect(t,e)};B.useId=function(){return Pe.current.useId()};B.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Pe.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};B.useRef=function(t){return Pe.current.useRef(t)};B.useState=function(t){return Pe.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Pe.current.useTransition()};B.version="18.3.1";rp.exports=B;var A=rp.exports;const fp=Yy(A),fv=Ky({__proto__:null,default:fp},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=A,pv=Symbol.for("react.element"),mv=Symbol.for("react.fragment"),gv=Object.prototype.hasOwnProperty,yv=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vv={key:!0,ref:!0,__self:!0,__source:!0};function hp(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)gv.call(e,r)&&!vv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:pv,type:t,key:i,ref:s,props:o,_owner:yv.current}}Ts.Fragment=mv;Ts.jsx=hp;Ts.jsxs=hp;np.exports=Ts;var h=np.exports,Fa={},pp={exports:{}},Ke={},mp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var G=D.length;D.push(V);e:for(;0<G;){var se=G-1>>>1,pe=D[se];if(0<o(pe,V))D[se]=V,D[G]=pe,G=se;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],G=D.pop();if(G!==V){D[0]=G;e:for(var se=0,pe=D.length,Xo=pe>>>1;se<Xo;){var wn=2*(se+1)-1,Zs=D[wn],xn=wn+1,Zo=D[xn];if(0>o(Zs,G))xn<pe&&0>o(Zo,Zs)?(D[se]=Zo,D[xn]=G,se=xn):(D[se]=Zs,D[wn]=G,se=wn);else if(xn<pe&&0>o(Zo,G))D[se]=Zo,D[xn]=G,se=xn;else break e}}return V}function o(D,V){var G=D.sortIndex-V.sortIndex;return G!==0?G:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],f=1,m=null,p=3,g=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=D)r(c),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(c)}}function S(D){if(_=!1,x(D),!y)if(n(u)!==null)y=!0,Ge(T);else{var V=n(c);V!==null&&vn(S,V.startTime-D)}}function T(D,V){y=!1,_&&(_=!1,v(b),b=-1),g=!0;var G=p;try{for(x(V),m=n(u);m!==null&&(!(m.expirationTime>V)||D&&!H());){var se=m.callback;if(typeof se=="function"){m.callback=null,p=m.priorityLevel;var pe=se(m.expirationTime<=V);V=t.unstable_now(),typeof pe=="function"?m.callback=pe:m===n(u)&&r(u),x(V)}else r(u);m=n(u)}if(m!==null)var Xo=!0;else{var wn=n(c);wn!==null&&vn(S,wn.startTime-V),Xo=!1}return Xo}finally{m=null,p=G,g=!1}}var C=!1,N=null,b=-1,k=5,M=-1;function H(){return!(t.unstable_now()-M<k)}function De(){if(N!==null){var D=t.unstable_now();M=D;var V=!0;try{V=N(!0,D)}finally{V?J():(C=!1,N=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(De)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Qo=Ve.port2;Ve.port1.onmessage=De,J=function(){Qo.postMessage(null)}}else J=function(){E(De,0)};function Ge(D){N=D,C||(C=!0,J())}function vn(D,V){b=E(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Ge(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return D()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(D,V,G){var se=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=G+pe,D={id:f++,callback:V,priorityLevel:D,startTime:G,expirationTime:pe,sortIndex:-1},G>se?(D.sortIndex=G,e(c,D),n(u)===null&&D===n(c)&&(_?(v(b),b=-1):_=!0,vn(S,G-se))):(D.sortIndex=pe,e(u,D),y||g||(y=!0,Ge(T))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var V=p;return function(){var G=p;p=V;try{return D.apply(this,arguments)}finally{p=G}}}})(gp);mp.exports=gp;var wv=mp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=A,We=wv;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yp=new Set,wo={};function Gn(t,e){Ar(t,e),Ar(t+"Capture",e)}function Ar(t,e){for(wo[t]=e,t=0;t<e.length;t++)yp.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,_v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rc={},Pc={};function Ev(t){return $a.call(Pc,t)?!0:$a.call(Rc,t)?!1:_v.test(t)?Pc[t]=!0:(Rc[t]=!0,!1)}function Sv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tv(t,e,n,r){if(e===null||typeof e>"u"||Sv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pu,mu);Ee[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pu,mu);Ee[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pu,mu);Ee[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function gu(t,e,n,r){var o=Ee.hasOwnProperty(e)?Ee[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tv(e,n,o,r)&&(n=null),r||o===null?Ev(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ot=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),yu=Symbol.for("react.strict_mode"),Va=Symbol.for("react.profiler"),vp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),vu=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Ba=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),xp=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function jr(t){return t===null||typeof t!="object"?null:(t=Mc&&t[Mc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,ta;function Zr(t){if(ta===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ta=e&&e[1]||""}return`
`+ta+t}var na=!1;function ra(t,e){if(!t||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var u=`
`+o[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{na=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zr(t):""}function Cv(t){switch(t.tag){case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return t=ra(t.type,!1),t;case 11:return t=ra(t.type.render,!1),t;case 1:return t=ra(t.type,!0),t;default:return""}}function ja(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rr:return"Fragment";case nr:return"Portal";case Va:return"Profiler";case yu:return"StrictMode";case Ga:return"Suspense";case Ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wp:return(t.displayName||"Context")+".Consumer";case vp:return(t._context.displayName||"Context")+".Provider";case vu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wu:return e=t.displayName||null,e!==null?e:ja(t.type)||"Memo";case jt:e=t._payload,t=t._init;try{return ja(t(e))}catch{}}return null}function Nv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ja(e);case 8:return e===yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Av(t){var e=_p(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ni(t){t._valueTracker||(t._valueTracker=Av(t))}function Ep(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_p(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qa(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sp(t,e){e=e.checked,e!=null&&gu(t,"checked",e,!1)}function Ha(t,e){Sp(t,e);var n=un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?za(t,e.type,n):e.hasOwnProperty("defaultValue")&&za(t,e.type,un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function za(t,e,n){(e!=="number"||Bi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eo=Array.isArray;function yr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ja(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(eo(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:un(n)}}function Tp(t,e){var n=un(e.value),r=un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ri,Np=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){Iv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function Ap(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function Ip(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ap(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var bv=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(t,e){if(e){if(bv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Ya(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xa=null,vr=null,wr=null;function Fc(t){if(t=Wo(t)){if(typeof Xa!="function")throw Error(I(280));var e=t.stateNode;e&&(e=bs(e),Xa(t.stateNode,t.type,e))}}function bp(t){vr?wr?wr.push(t):wr=[t]:vr=t}function kp(){if(vr){var t=vr,e=wr;if(wr=vr=null,Fc(t),e)for(t=0;t<e.length;t++)Fc(e[t])}}function Rp(t,e){return t(e)}function Pp(){}var oa=!1;function Mp(t,e,n){if(oa)return t(e,n);oa=!0;try{return Rp(t,e,n)}finally{oa=!1,(vr!==null||wr!==null)&&(Pp(),kp())}}function _o(t,e){var n=t.stateNode;if(n===null)return null;var r=bs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Za=!1;if(Pt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Za=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Za=!1}function kv(t,e,n,r,o,i,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ao=!1,ji=null,qi=!1,el=null,Rv={onError:function(t){ao=!0,ji=t}};function Pv(t,e,n,r,o,i,s,a,u){ao=!1,ji=null,kv.apply(Rv,arguments)}function Mv(t,e,n,r,o,i,s,a,u){if(Pv.apply(this,arguments),ao){if(ao){var c=ji;ao=!1,ji=null}else throw Error(I(198));qi||(qi=!0,el=c)}}function Bn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $c(t){if(Bn(t)!==t)throw Error(I(188))}function Dv(t){var e=t.alternate;if(!e){if(e=Bn(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return $c(o),t;if(i===r)return $c(o),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Up(t){return t=Dv(t),t!==null?Lp(t):null}function Lp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lp(t);if(e!==null)return e;t=t.sibling}return null}var Op=We.unstable_scheduleCallback,Vc=We.unstable_cancelCallback,Uv=We.unstable_shouldYield,Lv=We.unstable_requestPaint,ae=We.unstable_now,Ov=We.unstable_getCurrentPriorityLevel,_u=We.unstable_ImmediatePriority,Fp=We.unstable_UserBlockingPriority,Hi=We.unstable_NormalPriority,Fv=We.unstable_LowPriority,$p=We.unstable_IdlePriority,Cs=null,Et=null;function $v(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Cs,t,void 0,(t.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Bv,Vv=Math.log,Gv=Math.LN2;function Bv(t){return t>>>=0,t===0?32:31-(Vv(t)/Gv|0)|0}var oi=64,ii=4194304;function to(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=to(a):(i&=s,i!==0&&(r=to(i)))}else s=n&~o,s!==0?r=to(s):i!==0&&(r=to(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ht(e),o=1<<n,r|=t[n],e&=~o;return r}function jv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-ht(i),a=1<<s,u=o[s];u===-1?(!(a&n)||a&r)&&(o[s]=jv(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function tl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vp(){var t=oi;return oi<<=1,!(oi&4194240)&&(oi=64),t}function ia(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ht(e),t[e]=n}function Hv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ht(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Eu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ht(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var z=0;function Gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bp,Su,jp,qp,Hp,nl=!1,si=[],Zt=null,en=null,tn=null,Eo=new Map,So=new Map,zt=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(t,e){switch(t){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function Hr(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Wo(e),e!==null&&Su(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Jv(t,e,n,r,o){switch(e){case"focusin":return Zt=Hr(Zt,t,e,n,r,o),!0;case"dragenter":return en=Hr(en,t,e,n,r,o),!0;case"mouseover":return tn=Hr(tn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Eo.set(i,Hr(Eo.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,So.set(i,Hr(So.get(i)||null,t,e,n,r,o)),!0}return!1}function zp(t){var e=kn(t.target);if(e!==null){var n=Bn(e);if(n!==null){if(e=n.tag,e===13){if(e=Dp(n),e!==null){t.blockedOn=e,Hp(t.priority,function(){jp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ii(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qa=r,n.target.dispatchEvent(r),Qa=null}else return e=Wo(n),e!==null&&Su(e),t.blockedOn=n,!1;e.shift()}return!0}function Bc(t,e,n){Ii(t)&&n.delete(e)}function Wv(){nl=!1,Zt!==null&&Ii(Zt)&&(Zt=null),en!==null&&Ii(en)&&(en=null),tn!==null&&Ii(tn)&&(tn=null),Eo.forEach(Bc),So.forEach(Bc)}function zr(t,e){t.blockedOn===e&&(t.blockedOn=null,nl||(nl=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Wv)))}function To(t){function e(o){return zr(o,t)}if(0<si.length){zr(si[0],t);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zt!==null&&zr(Zt,t),en!==null&&zr(en,t),tn!==null&&zr(tn,t),Eo.forEach(e),So.forEach(e),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)zp(n),n.blockedOn===null&&zt.shift()}var xr=Ot.ReactCurrentBatchConfig,Ji=!0;function Kv(t,e,n,r){var o=z,i=xr.transition;xr.transition=null;try{z=1,Tu(t,e,n,r)}finally{z=o,xr.transition=i}}function Yv(t,e,n,r){var o=z,i=xr.transition;xr.transition=null;try{z=4,Tu(t,e,n,r)}finally{z=o,xr.transition=i}}function Tu(t,e,n,r){if(Ji){var o=rl(t,e,n,r);if(o===null)ma(t,e,r,Wi,n),Gc(t,r);else if(Jv(o,t,e,n,r))r.stopPropagation();else if(Gc(t,r),e&4&&-1<zv.indexOf(t)){for(;o!==null;){var i=Wo(o);if(i!==null&&Bp(i),i=rl(t,e,n,r),i===null&&ma(t,e,r,Wi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ma(t,e,r,null,n)}}var Wi=null;function rl(t,e,n,r){if(Wi=null,t=xu(r),t=kn(t),t!==null)if(e=Bn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wi=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ov()){case _u:return 1;case Fp:return 4;case Hi:case Fv:return 16;case $p:return 536870912;default:return 16}default:return 16}}var Kt=null,Cu=null,bi=null;function Wp(){if(bi)return bi;var t,e=Cu,n=e.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return bi=o.slice(t,1<r?1-r:void 0)}function ki(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function jc(){return!1}function Ye(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:jc,this.isPropagationStopped=jc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),e}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Ye(Lr),Jo=re({},Lr,{view:0,detail:0}),Qv=Ye(Jo),sa,aa,Jr,Ns=re({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jr&&(Jr&&t.type==="mousemove"?(sa=t.screenX-Jr.screenX,aa=t.screenY-Jr.screenY):aa=sa=0,Jr=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),qc=Ye(Ns),Xv=re({},Ns,{dataTransfer:0}),Zv=Ye(Xv),e0=re({},Jo,{relatedTarget:0}),la=Ye(e0),t0=re({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=Ye(t0),r0=re({},Lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o0=Ye(r0),i0=re({},Lr,{data:0}),Hc=Ye(i0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l0[t])?!!e[t]:!1}function Au(){return u0}var c0=re({},Jo,{key:function(t){if(t.key){var e=s0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d0=Ye(c0),f0=re({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=Ye(f0),h0=re({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),p0=Ye(h0),m0=re({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=Ye(m0),y0=re({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=Ye(y0),w0=[9,13,27,32],Iu=Pt&&"CompositionEvent"in window,lo=null;Pt&&"documentMode"in document&&(lo=document.documentMode);var x0=Pt&&"TextEvent"in window&&!lo,Kp=Pt&&(!Iu||lo&&8<lo&&11>=lo),Jc=" ",Wc=!1;function Yp(t,e){switch(t){case"keyup":return w0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function _0(t,e){switch(t){case"compositionend":return Qp(e);case"keypress":return e.which!==32?null:(Wc=!0,Jc);case"textInput":return t=e.data,t===Jc&&Wc?null:t;default:return null}}function E0(t,e){if(or)return t==="compositionend"||!Iu&&Yp(t,e)?(t=Wp(),bi=Cu=Kt=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kp&&e.locale!=="ko"?null:e.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S0[t.type]:e==="textarea"}function Xp(t,e,n,r){bp(r),e=Ki(e,"onChange"),0<e.length&&(n=new Nu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,Co=null;function T0(t){um(t,0)}function As(t){var e=ar(t);if(Ep(e))return t}function C0(t,e){if(t==="change")return e}var Zp=!1;if(Pt){var ua;if(Pt){var ca="oninput"in document;if(!ca){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),ca=typeof Yc.oninput=="function"}ua=ca}else ua=!1;Zp=ua&&(!document.documentMode||9<document.documentMode)}function Qc(){uo&&(uo.detachEvent("onpropertychange",em),Co=uo=null)}function em(t){if(t.propertyName==="value"&&As(Co)){var e=[];Xp(e,Co,t,xu(t)),Mp(T0,e)}}function N0(t,e,n){t==="focusin"?(Qc(),uo=e,Co=n,uo.attachEvent("onpropertychange",em)):t==="focusout"&&Qc()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return As(Co)}function I0(t,e){if(t==="click")return As(e)}function b0(t,e){if(t==="input"||t==="change")return As(e)}function k0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:k0;function No(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$a.call(e,o)||!yt(t[o],e[o]))return!1}return!0}function Xc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zc(t,e){var n=Xc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xc(n)}}function tm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nm(){for(var t=window,e=Bi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bi(t.document)}return e}function bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R0(t){var e=nm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tm(n.ownerDocument.documentElement,n)){if(r!==null&&bu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Zc(n,i);var s=Zc(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P0=Pt&&"documentMode"in document&&11>=document.documentMode,ir=null,ol=null,co=null,il=!1;function ed(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||ir==null||ir!==Bi(r)||(r=ir,"selectionStart"in r&&bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&No(co,r)||(co=r,r=Ki(ol,"onSelect"),0<r.length&&(e=new Nu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ir)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},da={},rm={};Pt&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Is(t){if(da[t])return da[t];if(!sr[t])return t;var e=sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rm)return da[t]=e[n];return t}var om=Is("animationend"),im=Is("animationiteration"),sm=Is("animationstart"),am=Is("transitionend"),lm=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(t,e){lm.set(t,e),Gn(e,[t])}for(var fa=0;fa<td.length;fa++){var ha=td[fa],M0=ha.toLowerCase(),D0=ha[0].toUpperCase()+ha.slice(1);dn(M0,"on"+D0)}dn(om,"onAnimationEnd");dn(im,"onAnimationIteration");dn(sm,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(am,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function nd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mv(r,e,void 0,t),t.currentTarget=null}function um(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&o.isPropagationStopped())break e;nd(o,a,c),i=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&o.isPropagationStopped())break e;nd(o,a,c),i=u}}}if(qi)throw t=el,qi=!1,el=null,t}function Q(t,e){var n=e[cl];n===void 0&&(n=e[cl]=new Set);var r=t+"__bubble";n.has(r)||(cm(e,t,2,!1),n.add(r))}function pa(t,e,n){var r=0;e&&(r|=4),cm(n,t,r,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[ui]){t[ui]=!0,yp.forEach(function(n){n!=="selectionchange"&&(U0.has(n)||pa(n,!1,t),pa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ui]||(e[ui]=!0,pa("selectionchange",!1,e))}}function cm(t,e,n,r){switch(Jp(e)){case 1:var o=Kv;break;case 4:o=Yv;break;default:o=Tu}n=o.bind(null,e,n,t),o=void 0,!Za||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function ma(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;a!==null;){if(s=kn(a),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Mp(function(){var c=i,f=xu(n),m=[];e:{var p=lm.get(t);if(p!==void 0){var g=Nu,y=t;switch(t){case"keypress":if(ki(n)===0)break e;case"keydown":case"keyup":g=d0;break;case"focusin":y="focus",g=la;break;case"focusout":y="blur",g=la;break;case"beforeblur":case"afterblur":g=la;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=p0;break;case om:case im:case sm:g=n0;break;case am:g=g0;break;case"scroll":g=Qv;break;case"wheel":g=v0;break;case"copy":case"cut":case"paste":g=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zc}var _=(e&4)!==0,E=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var w=c,x;w!==null;){x=w;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=_o(w,v),S!=null&&_.push(Io(w,S,x)))),E)break;w=w.return}0<_.length&&(p=new g(p,y,null,n,f),m.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Qa&&(y=n.relatedTarget||n.fromElement)&&(kn(y)||y[Mt]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?kn(y):null,y!==null&&(E=Bn(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(_=qc,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=zc,S="onPointerLeave",v="onPointerEnter",w="pointer"),E=g==null?p:ar(g),x=y==null?p:ar(y),p=new _(S,w+"leave",g,n,f),p.target=E,p.relatedTarget=x,S=null,kn(f)===c&&(_=new _(v,w+"enter",y,n,f),_.target=x,_.relatedTarget=E,S=_),E=S,g&&y)t:{for(_=g,v=y,w=0,x=_;x;x=Hn(x))w++;for(x=0,S=v;S;S=Hn(S))x++;for(;0<w-x;)_=Hn(_),w--;for(;0<x-w;)v=Hn(v),x--;for(;w--;){if(_===v||v!==null&&_===v.alternate)break t;_=Hn(_),v=Hn(v)}_=null}else _=null;g!==null&&rd(m,p,g,_,!1),y!==null&&E!==null&&rd(m,E,y,_,!0)}}e:{if(p=c?ar(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var T=C0;else if(Kc(p))if(Zp)T=b0;else{T=A0;var C=N0}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=I0);if(T&&(T=T(t,c))){Xp(m,T,n,f);break e}C&&C(t,p,c),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&za(p,"number",p.value)}switch(C=c?ar(c):window,t){case"focusin":(Kc(C)||C.contentEditable==="true")&&(ir=C,ol=c,co=null);break;case"focusout":co=ol=ir=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,ed(m,n,f);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":ed(m,n,f)}var N;if(Iu)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else or?Yp(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Kp&&n.locale!=="ko"&&(or||b!=="onCompositionStart"?b==="onCompositionEnd"&&or&&(N=Wp()):(Kt=f,Cu="value"in Kt?Kt.value:Kt.textContent,or=!0)),C=Ki(c,b),0<C.length&&(b=new Hc(b,t,null,n,f),m.push({event:b,listeners:C}),N?b.data=N:(N=Qp(n),N!==null&&(b.data=N)))),(N=x0?_0(t,n):E0(t,n))&&(c=Ki(c,"onBeforeInput"),0<c.length&&(f=new Hc("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=N))}um(m,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ki(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=_o(t,n),i!=null&&r.unshift(Io(t,i,o)),i=_o(t,e),i!=null&&r.push(Io(t,i,o))),t=t.return}return r}function Hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rd(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,o?(u=_o(n,i),u!=null&&s.unshift(Io(n,u,a))):o||(u=_o(n,i),u!=null&&s.push(Io(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var L0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function od(t){return(typeof t=="string"?t:""+t).replace(L0,`
`).replace(O0,"")}function ci(t,e,n){if(e=od(e),od(t)!==e&&n)throw Error(I(425))}function Yi(){}var sl=null,al=null;function ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,id=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof id<"u"?function(t){return id.resolve(null).then(t).catch(V0)}:ul;function V0(t){setTimeout(function(){throw t})}function ga(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),To(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);To(e)}function nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Or=Math.random().toString(36).slice(2),_t="__reactFiber$"+Or,bo="__reactProps$"+Or,Mt="__reactContainer$"+Or,cl="__reactEvents$"+Or,G0="__reactListeners$"+Or,B0="__reactHandles$"+Or;function kn(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mt]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sd(t);t!==null;){if(n=t[_t])return n;t=sd(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[_t]||t[Mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function bs(t){return t[bo]||null}var dl=[],lr=-1;function fn(t){return{current:t}}function X(t){0>lr||(t.current=dl[lr],dl[lr]=null,lr--)}function Y(t,e){lr++,dl[lr]=t.current,t.current=e}var cn={},Ae=fn(cn),Oe=fn(!1),Ln=cn;function Ir(t,e){var n=t.type.contextTypes;if(!n)return cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Fe(t){return t=t.childContextTypes,t!=null}function Qi(){X(Oe),X(Ae)}function ad(t,e,n){if(Ae.current!==cn)throw Error(I(168));Y(Ae,e),Y(Oe,n)}function dm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(I(108,Nv(t)||"Unknown",o));return re({},n,r)}function Xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,Ln=Ae.current,Y(Ae,t),Y(Oe,Oe.current),!0}function ld(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=dm(t,e,Ln),r.__reactInternalMemoizedMergedChildContext=t,X(Oe),X(Ae),Y(Ae,t)):X(Oe),Y(Oe,n)}var At=null,ks=!1,ya=!1;function fm(t){At===null?At=[t]:At.push(t)}function j0(t){ks=!0,fm(t)}function hn(){if(!ya&&At!==null){ya=!0;var t=0,e=z;try{var n=At;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}At=null,ks=!1}catch(o){throw At!==null&&(At=At.slice(t+1)),Op(_u,hn),o}finally{z=e,ya=!1}}return null}var ur=[],cr=0,Zi=null,es=0,Qe=[],Xe=0,On=null,It=1,bt="";function Tn(t,e){ur[cr++]=es,ur[cr++]=Zi,Zi=t,es=e}function hm(t,e,n){Qe[Xe++]=It,Qe[Xe++]=bt,Qe[Xe++]=On,On=t;var r=It;t=bt;var o=32-ht(r)-1;r&=~(1<<o),n+=1;var i=32-ht(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,It=1<<32-ht(e)+o|n<<o|r,bt=i+t}else It=1<<i|n<<o|r,bt=t}function ku(t){t.return!==null&&(Tn(t,1),hm(t,1,0))}function Ru(t){for(;t===Zi;)Zi=ur[--cr],ur[cr]=null,es=ur[--cr],ur[cr]=null;for(;t===On;)On=Qe[--Xe],Qe[Xe]=null,bt=Qe[--Xe],Qe[Xe]=null,It=Qe[--Xe],Qe[Xe]=null}var Je=null,ze=null,Z=!1,ft=null;function pm(t,e){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ud(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,ze=nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=On!==null?{id:It,overflow:bt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,ze=null,!0):!1;default:return!1}}function fl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hl(t){if(Z){var e=ze;if(e){var n=e;if(!ud(t,e)){if(fl(t))throw Error(I(418));e=nn(n.nextSibling);var r=Je;e&&ud(t,e)?pm(r,n):(t.flags=t.flags&-4097|2,Z=!1,Je=t)}}else{if(fl(t))throw Error(I(418));t.flags=t.flags&-4097|2,Z=!1,Je=t}}}function cd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function di(t){if(t!==Je)return!1;if(!Z)return cd(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ll(t.type,t.memoizedProps)),e&&(e=ze)){if(fl(t))throw mm(),Error(I(418));for(;e;)pm(t,e),e=nn(e.nextSibling)}if(cd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Je?nn(t.stateNode.nextSibling):null;return!0}function mm(){for(var t=ze;t;)t=nn(t.nextSibling)}function br(){ze=Je=null,Z=!1}function Pu(t){ft===null?ft=[t]:ft.push(t)}var q0=Ot.ReactCurrentBatchConfig;function Wr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function fi(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dd(t){var e=t._init;return e(t._payload)}function gm(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function o(v,w){return v=an(v,w),v.index=0,v.sibling=null,v}function i(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,S){return w===null||w.tag!==6?(w=Ta(x,v.mode,S),w.return=v,w):(w=o(w,x),w.return=v,w)}function u(v,w,x,S){var T=x.type;return T===rr?f(v,w,x.props.children,S,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jt&&dd(T)===w.type)?(S=o(w,x.props),S.ref=Wr(v,w,x),S.return=v,S):(S=Oi(x.type,x.key,x.props,null,v.mode,S),S.ref=Wr(v,w,x),S.return=v,S)}function c(v,w,x,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Ca(x,v.mode,S),w.return=v,w):(w=o(w,x.children||[]),w.return=v,w)}function f(v,w,x,S,T){return w===null||w.tag!==7?(w=Un(x,v.mode,S,T),w.return=v,w):(w=o(w,x),w.return=v,w)}function m(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ta(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ti:return x=Oi(w.type,w.key,w.props,null,v.mode,x),x.ref=Wr(v,null,w),x.return=v,x;case nr:return w=Ca(w,v.mode,x),w.return=v,w;case jt:var S=w._init;return m(v,S(w._payload),x)}if(eo(w)||jr(w))return w=Un(w,v.mode,x,null),w.return=v,w;fi(v,w)}return null}function p(v,w,x,S){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(v,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:return x.key===T?u(v,w,x,S):null;case nr:return x.key===T?c(v,w,x,S):null;case jt:return T=x._init,p(v,w,T(x._payload),S)}if(eo(x)||jr(x))return T!==null?null:f(v,w,x,S,null);fi(v,x)}return null}function g(v,w,x,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,a(w,v,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ti:return v=v.get(S.key===null?x:S.key)||null,u(w,v,S,T);case nr:return v=v.get(S.key===null?x:S.key)||null,c(w,v,S,T);case jt:var C=S._init;return g(v,w,x,C(S._payload),T)}if(eo(S)||jr(S))return v=v.get(x)||null,f(w,v,S,T,null);fi(w,S)}return null}function y(v,w,x,S){for(var T=null,C=null,N=w,b=w=0,k=null;N!==null&&b<x.length;b++){N.index>b?(k=N,N=null):k=N.sibling;var M=p(v,N,x[b],S);if(M===null){N===null&&(N=k);break}t&&N&&M.alternate===null&&e(v,N),w=i(M,w,b),C===null?T=M:C.sibling=M,C=M,N=k}if(b===x.length)return n(v,N),Z&&Tn(v,b),T;if(N===null){for(;b<x.length;b++)N=m(v,x[b],S),N!==null&&(w=i(N,w,b),C===null?T=N:C.sibling=N,C=N);return Z&&Tn(v,b),T}for(N=r(v,N);b<x.length;b++)k=g(N,v,b,x[b],S),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?b:k.key),w=i(k,w,b),C===null?T=k:C.sibling=k,C=k);return t&&N.forEach(function(H){return e(v,H)}),Z&&Tn(v,b),T}function _(v,w,x,S){var T=jr(x);if(typeof T!="function")throw Error(I(150));if(x=T.call(x),x==null)throw Error(I(151));for(var C=T=null,N=w,b=w=0,k=null,M=x.next();N!==null&&!M.done;b++,M=x.next()){N.index>b?(k=N,N=null):k=N.sibling;var H=p(v,N,M.value,S);if(H===null){N===null&&(N=k);break}t&&N&&H.alternate===null&&e(v,N),w=i(H,w,b),C===null?T=H:C.sibling=H,C=H,N=k}if(M.done)return n(v,N),Z&&Tn(v,b),T;if(N===null){for(;!M.done;b++,M=x.next())M=m(v,M.value,S),M!==null&&(w=i(M,w,b),C===null?T=M:C.sibling=M,C=M);return Z&&Tn(v,b),T}for(N=r(v,N);!M.done;b++,M=x.next())M=g(N,v,b,M.value,S),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?b:M.key),w=i(M,w,b),C===null?T=M:C.sibling=M,C=M);return t&&N.forEach(function(De){return e(v,De)}),Z&&Tn(v,b),T}function E(v,w,x,S){if(typeof x=="object"&&x!==null&&x.type===rr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:e:{for(var T=x.key,C=w;C!==null;){if(C.key===T){if(T=x.type,T===rr){if(C.tag===7){n(v,C.sibling),w=o(C,x.props.children),w.return=v,v=w;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jt&&dd(T)===C.type){n(v,C.sibling),w=o(C,x.props),w.ref=Wr(v,C,x),w.return=v,v=w;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===rr?(w=Un(x.props.children,v.mode,S,x.key),w.return=v,v=w):(S=Oi(x.type,x.key,x.props,null,v.mode,S),S.ref=Wr(v,w,x),S.return=v,v=S)}return s(v);case nr:e:{for(C=x.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=o(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Ca(x,v.mode,S),w.return=v,v=w}return s(v);case jt:return C=x._init,E(v,w,C(x._payload),S)}if(eo(x))return y(v,w,x,S);if(jr(x))return _(v,w,x,S);fi(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=o(w,x),w.return=v,v=w):(n(v,w),w=Ta(x,v.mode,S),w.return=v,v=w),s(v)):n(v,w)}return E}var kr=gm(!0),ym=gm(!1),ts=fn(null),ns=null,dr=null,Mu=null;function Du(){Mu=dr=ns=null}function Uu(t){var e=ts.current;X(ts),t._currentValue=e}function pl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _r(t,e){ns=t,Mu=dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(Mu!==t)if(t={context:t,memoizedValue:e,next:null},dr===null){if(ns===null)throw Error(I(308));dr=t,ns.dependencies={lanes:0,firstContext:t}}else dr=dr.next=t;return e}var Rn=null;function Lu(t){Rn===null?Rn=[t]:Rn.push(t)}function vm(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Lu(e)):(n.next=o.next,o.next=n),e.interleaved=n,Dt(t,r)}function Dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qt=!1;function Ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Dt(t,n)}return o=r.interleaved,o===null?(e.next=e,Lu(r)):(e.next=o.next,o.next=e),r.interleaved=e,Dt(t,n)}function Ri(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}function fd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rs(t,e,n,r){var o=t.updateQueue;qt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(i!==null){var m=o.baseState;s=0,f=c=u=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(p=e,g=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){m=y.call(g,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(g,m,p):y,p==null)break e;m=re({},m,p);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,u=m):f=f.next=g,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(f===null&&(u=m),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);$n|=s,t.lanes=s,t.memoizedState=m}}function hd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var Ko={},St=fn(Ko),ko=fn(Ko),Ro=fn(Ko);function Pn(t){if(t===Ko)throw Error(I(174));return t}function Fu(t,e){switch(Y(Ro,e),Y(ko,t),Y(St,Ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wa(e,t)}X(St),Y(St,e)}function Rr(){X(St),X(ko),X(Ro)}function xm(t){Pn(Ro.current);var e=Pn(St.current),n=Wa(e,t.type);e!==n&&(Y(ko,t),Y(St,n))}function $u(t){ko.current===t&&(X(St),X(ko))}var te=fn(0);function os(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var va=[];function Vu(){for(var t=0;t<va.length;t++)va[t]._workInProgressVersionPrimary=null;va.length=0}var Pi=Ot.ReactCurrentDispatcher,wa=Ot.ReactCurrentBatchConfig,Fn=0,ne=null,fe=null,me=null,is=!1,fo=!1,Po=0,H0=0;function Se(){throw Error(I(321))}function Gu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function Bu(t,e,n,r,o,i){if(Fn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pi.current=t===null||t.memoizedState===null?K0:Y0,t=n(r,o),fo){i=0;do{if(fo=!1,Po=0,25<=i)throw Error(I(301));i+=1,me=fe=null,e.updateQueue=null,Pi.current=Q0,t=n(r,o)}while(fo)}if(Pi.current=ss,e=fe!==null&&fe.next!==null,Fn=0,me=fe=ne=null,is=!1,e)throw Error(I(300));return t}function ju(){var t=Po!==0;return Po=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function rt(){if(fe===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,fe=t;else{if(t===null)throw Error(I(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function Mo(t,e){return typeof e=="function"?e(t):e}function xa(t){var e=rt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=fe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,u=null,c=i;do{var f=c.lane;if((Fn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,s=r):u=u.next=m,ne.lanes|=f,$n|=f}c=c.next}while(c!==null&&c!==i);u===null?s=r:u.next=a,yt(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ne.lanes|=i,$n|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _a(t){var e=rt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);yt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _m(){}function Em(t,e){var n=ne,r=rt(),o=e(),i=!yt(r.memoizedState,o);if(i&&(r.memoizedState=o,Le=!0),r=r.queue,qu(Cm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Do(9,Tm.bind(null,n,r,o,e),void 0,null),ge===null)throw Error(I(349));Fn&30||Sm(n,e,o)}return o}function Sm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tm(t,e,n,r){e.value=n,e.getSnapshot=r,Nm(e)&&Am(t)}function Cm(t,e,n){return n(function(){Nm(e)&&Am(t)})}function Nm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function Am(t){var e=Dt(t,1);e!==null&&pt(e,t,1,-1)}function pd(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=W0.bind(null,ne,t),[e.memoizedState,t]}function Do(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Im(){return rt().memoizedState}function Mi(t,e,n,r){var o=xt();ne.flags|=t,o.memoizedState=Do(1|e,n,void 0,r===void 0?null:r)}function Rs(t,e,n,r){var o=rt();r=r===void 0?null:r;var i=void 0;if(fe!==null){var s=fe.memoizedState;if(i=s.destroy,r!==null&&Gu(r,s.deps)){o.memoizedState=Do(e,n,i,r);return}}ne.flags|=t,o.memoizedState=Do(1|e,n,i,r)}function md(t,e){return Mi(8390656,8,t,e)}function qu(t,e){return Rs(2048,8,t,e)}function bm(t,e){return Rs(4,2,t,e)}function km(t,e){return Rs(4,4,t,e)}function Rm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pm(t,e,n){return n=n!=null?n.concat([t]):null,Rs(4,4,Rm.bind(null,e,t),n)}function Hu(){}function Mm(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dm(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Um(t,e,n){return Fn&21?(yt(n,e)||(n=Vp(),ne.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function z0(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=wa.transition;wa.transition={};try{t(!1),e()}finally{z=n,wa.transition=r}}function Lm(){return rt().memoizedState}function J0(t,e,n){var r=sn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Om(t))Fm(e,n);else if(n=vm(t,e,n,r),n!==null){var o=ke();pt(n,t,r,o),$m(n,e,r)}}function W0(t,e,n){var r=sn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Om(t))Fm(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,yt(a,s)){var u=e.interleaved;u===null?(o.next=o,Lu(e)):(o.next=u.next,u.next=o),e.interleaved=o;return}}catch{}finally{}n=vm(t,e,o,r),n!==null&&(o=ke(),pt(n,t,r,o),$m(n,e,r))}}function Om(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Fm(t,e){fo=is=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $m(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}var ss={readContext:nt,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},K0={readContext:nt,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:md,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mi(4194308,4,Rm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mi(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J0.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:pd,useDebugValue:Hu,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=pd(!1),e=t[0];return t=z0.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,o=xt();if(Z){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),ge===null)throw Error(I(349));Fn&30||Sm(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,md(Cm.bind(null,r,i,t),[t]),r.flags|=2048,Do(9,Tm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xt(),e=ge.identifierPrefix;if(Z){var n=bt,r=It;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y0={readContext:nt,useCallback:Mm,useContext:nt,useEffect:qu,useImperativeHandle:Pm,useInsertionEffect:bm,useLayoutEffect:km,useMemo:Dm,useReducer:xa,useRef:Im,useState:function(){return xa(Mo)},useDebugValue:Hu,useDeferredValue:function(t){var e=rt();return Um(e,fe.memoizedState,t)},useTransition:function(){var t=xa(Mo)[0],e=rt().memoizedState;return[t,e]},useMutableSource:_m,useSyncExternalStore:Em,useId:Lm,unstable_isNewReconciler:!1},Q0={readContext:nt,useCallback:Mm,useContext:nt,useEffect:qu,useImperativeHandle:Pm,useInsertionEffect:bm,useLayoutEffect:km,useMemo:Dm,useReducer:_a,useRef:Im,useState:function(){return _a(Mo)},useDebugValue:Hu,useDeferredValue:function(t){var e=rt();return fe===null?e.memoizedState=t:Um(e,fe.memoizedState,t)},useTransition:function(){var t=_a(Mo)[0],e=rt().memoizedState;return[t,e]},useMutableSource:_m,useSyncExternalStore:Em,useId:Lm,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ml(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ps={isMounted:function(t){return(t=t._reactInternals)?Bn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),o=sn(t),i=kt(r,o);i.payload=e,n!=null&&(i.callback=n),e=rn(t,i,o),e!==null&&(pt(e,t,o,r),Ri(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),o=sn(t),i=kt(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rn(t,i,o),e!==null&&(pt(e,t,o,r),Ri(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=sn(t),o=kt(n,r);o.tag=2,e!=null&&(o.callback=e),e=rn(t,o,r),e!==null&&(pt(e,t,r,n),Ri(e,t,r))}};function gd(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!No(n,r)||!No(o,i):!0}function Vm(t,e,n){var r=!1,o=cn,i=e.contextType;return typeof i=="object"&&i!==null?i=nt(i):(o=Fe(e)?Ln:Ae.current,r=e.contextTypes,i=(r=r!=null)?Ir(t,o):cn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ps,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function yd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ps.enqueueReplaceState(e,e.state,null)}function gl(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Ou(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=nt(i):(i=Fe(e)?Ln:Ae.current,o.context=Ir(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ml(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ps.enqueueReplaceState(o,o.state,null),rs(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Pr(t,e){try{var n="",r=e;do n+=Cv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ea(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X0=typeof WeakMap=="function"?WeakMap:Map;function Gm(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ls||(ls=!0,Al=r),yl(t,e)},n}function Bm(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){yl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yl(t,e),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function vd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X0;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=fw.bind(null,t,e,n),e.then(t,t))}function wd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xd(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,rn(n,e,1))),n.lanes|=1),t)}var Z0=Ot.ReactCurrentOwner,Le=!1;function be(t,e,n,r){e.child=t===null?ym(e,null,n,r):kr(e,t.child,n,r)}function _d(t,e,n,r,o){n=n.render;var i=e.ref;return _r(e,o),r=Bu(t,e,n,r,i,o),n=ju(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ut(t,e,o)):(Z&&n&&ku(e),e.flags|=1,be(t,e,r,o),e.child)}function Ed(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Zu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jm(t,e,i,r,o)):(t=Oi(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(s,r)&&t.ref===e.ref)return Ut(t,e,o)}return e.flags|=1,t=an(i,r),t.ref=e.ref,t.return=e,e.child=t}function jm(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(No(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Ut(t,e,o)}return vl(t,e,n,r,o)}function qm(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(hr,je),je|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(hr,je),je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(hr,je),je|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Y(hr,je),je|=r;return be(t,e,o,n),e.child}function Hm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vl(t,e,n,r,o){var i=Fe(n)?Ln:Ae.current;return i=Ir(e,i),_r(e,o),n=Bu(t,e,n,r,i,o),r=ju(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ut(t,e,o)):(Z&&r&&ku(e),e.flags|=1,be(t,e,n,o),e.child)}function Sd(t,e,n,r,o){if(Fe(n)){var i=!0;Xi(e)}else i=!1;if(_r(e,o),e.stateNode===null)Di(t,e),Vm(e,n,r),gl(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Fe(n)?Ln:Ae.current,c=Ir(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&yd(e,s,r,c),qt=!1;var p=e.memoizedState;s.state=p,rs(e,r,s,o),u=e.memoizedState,a!==r||p!==u||Oe.current||qt?(typeof f=="function"&&(ml(e,n,f,r),u=e.memoizedState),(a=qt||gd(e,n,a,r,p,u,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wm(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:lt(e.type,a),s.props=c,m=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=nt(u):(u=Fe(n)?Ln:Ae.current,u=Ir(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&yd(e,s,r,u),qt=!1,p=e.memoizedState,s.state=p,rs(e,r,s,o);var y=e.memoizedState;a!==m||p!==y||Oe.current||qt?(typeof g=="function"&&(ml(e,n,g,r),y=e.memoizedState),(c=qt||gd(e,n,c,r,p,y,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return wl(t,e,n,r,i,o)}function wl(t,e,n,r,o,i){Hm(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&ld(e,n,!1),Ut(t,e,i);r=e.stateNode,Z0.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=kr(e,t.child,null,i),e.child=kr(e,null,a,i)):be(t,e,a,i),e.memoizedState=r.state,o&&ld(e,n,!0),e.child}function zm(t){var e=t.stateNode;e.pendingContext?ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ad(t,e.context,!1),Fu(t,e.containerInfo)}function Td(t,e,n,r,o){return br(),Pu(o),e.flags|=256,be(t,e,n,r),e.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function _l(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jm(t,e,n){var r=e.pendingProps,o=te.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Y(te,o&1),t===null)return hl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Us(s,r,0,null),t=Un(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_l(n),e.memoizedState=xl,t):zu(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return ew(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=an(o,u),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=an(a,i):(i=Un(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?_l(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=xl,r}return i=t.child,t=i.sibling,r=an(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zu(t,e){return e=Us({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hi(t,e,n,r){return r!==null&&Pu(r),kr(e,t.child,null,n),t=zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ew(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Ea(Error(I(422))),hi(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Us({mode:"visible",children:r.children},o,0,null),i=Un(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&kr(e,t.child,null,s),e.child.memoizedState=_l(s),e.memoizedState=xl,i);if(!(e.mode&1))return hi(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Ea(i,r,void 0),hi(t,e,s,r)}if(a=(s&t.childLanes)!==0,Le||a){if(r=ge,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Dt(t,o),pt(r,t,o,-1))}return Xu(),r=Ea(Error(I(421))),hi(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=hw.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,ze=nn(o.nextSibling),Je=e,Z=!0,ft=null,t!==null&&(Qe[Xe++]=It,Qe[Xe++]=bt,Qe[Xe++]=On,It=t.id,bt=t.overflow,On=e),e=zu(e,r.children),e.flags|=4096,e)}function Cd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pl(t.return,e,n)}function Sa(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Wm(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(be(t,e,r.children,n),r=te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cd(t,n,e);else if(t.tag===19)Cd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(te,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&os(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Sa(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&os(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Sa(e,!0,n,null,i);break;case"together":Sa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Di(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=an(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=an(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tw(t,e,n){switch(e.tag){case 3:zm(e),br();break;case 5:xm(e);break;case 1:Fe(e.type)&&Xi(e);break;case 4:Fu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Y(ts,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(te,te.current&1),e.flags|=128,null):n&e.child.childLanes?Jm(t,e,n):(Y(te,te.current&1),t=Ut(t,e,n),t!==null?t.sibling:null);Y(te,te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(te,te.current),r)break;return null;case 22:case 23:return e.lanes=0,qm(t,e,n)}return Ut(t,e,n)}var Km,El,Ym,Qm;Km=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};El=function(){};Ym=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Pn(St.current);var i=null;switch(n){case"input":o=qa(t,o),r=qa(t,r),i=[];break;case"select":o=re({},o,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":o=Ja(t,o),r=Ja(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yi)}Ka(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Q("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Qm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kr(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nw(t,e,n){var r=e.pendingProps;switch(Ru(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Fe(e.type)&&Qi(),Te(e),null;case 3:return r=e.stateNode,Rr(),X(Oe),X(Ae),Vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(di(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(kl(ft),ft=null))),El(t,e),Te(e),null;case 5:$u(e);var o=Pn(Ro.current);if(n=e.type,t!==null&&e.stateNode!=null)Ym(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Te(e),null}if(t=Pn(St.current),di(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_t]=e,r[bo]=i,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(o=0;o<no.length;o++)Q(no[o],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Dc(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Lc(r,i),Q("invalid",r)}Ka(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),o=["children",""+a]):wo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Q("scroll",r)}switch(n){case"input":ni(r),Uc(r,i,!0);break;case"textarea":ni(r),Oc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yi)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_t]=e,t[bo]=r,Km(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ya(n,r),n){case"dialog":Q("cancel",t),Q("close",t),o=r;break;case"iframe":case"object":case"embed":Q("load",t),o=r;break;case"video":case"audio":for(o=0;o<no.length;o++)Q(no[o],t);o=r;break;case"source":Q("error",t),o=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),o=r;break;case"details":Q("toggle",t),o=r;break;case"input":Dc(t,r),o=qa(t,r),Q("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=re({},r,{value:void 0}),Q("invalid",t);break;case"textarea":Lc(t,r),o=Ja(t,r),Q("invalid",t);break;default:o=r}Ka(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Ip(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Np(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xo(t,u):typeof u=="number"&&xo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Q("scroll",t):u!=null&&gu(t,i,u,s))}switch(n){case"input":ni(t),Uc(t,r,!1);break;case"textarea":ni(t),Oc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yr(t,!!r.multiple,i,!1):r.defaultValue!=null&&yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)Qm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Pn(Ro.current),Pn(St.current),di(e)){if(r=e.stateNode,n=e.memoizedProps,r[_t]=e,(i=r.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ci(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=e,e.stateNode=r}return Te(e),null;case 13:if(X(te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&ze!==null&&e.mode&1&&!(e.flags&128))mm(),br(),e.flags|=98560,i=!1;else if(i=di(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[_t]=e}else br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else ft!==null&&(kl(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||te.current&1?he===0&&(he=3):Xu())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return Rr(),El(t,e),t===null&&Ao(e.stateNode.containerInfo),Te(e),null;case 10:return Uu(e.type._context),Te(e),null;case 17:return Fe(e.type)&&Qi(),Te(e),null;case 19:if(X(te),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Kr(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=os(t),s!==null){for(e.flags|=128,Kr(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(te,te.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Mr&&(e.flags|=128,r=!0,Kr(i,!1),e.lanes=4194304)}else{if(!r)if(t=os(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Z)return Te(e),null}else 2*ae()-i.renderingStartTime>Mr&&n!==1073741824&&(e.flags|=128,r=!0,Kr(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=te.current,Y(te,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return Qu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?je&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function rw(t,e){switch(Ru(e),e.tag){case 1:return Fe(e.type)&&Qi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rr(),X(Oe),X(Ae),Vu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $u(e),null;case 13:if(X(te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(te),null;case 4:return Rr(),null;case 10:return Uu(e.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var pi=!1,Ce=!1,ow=typeof WeakSet=="function"?WeakSet:Set,P=null;function fr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function Sl(t,e,n){try{n()}catch(r){ie(t,e,r)}}var Nd=!1;function iw(t,e){if(sl=Ji,t=nm(),bu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var g;m!==n||o!==0&&m.nodeType!==3||(a=s+o),m!==i||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++c===o&&(a=s),p===i&&++f===r&&(u=s),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(al={focusedElem:t,selectionRange:n},Ji=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,E=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:lt(e.type,_),E);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ie(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=Nd,Nd=!1,y}function ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Sl(e,n,i)}o=o.next}while(o!==r)}}function Ms(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xm(t){var e=t.alternate;e!==null&&(t.alternate=null,Xm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_t],delete e[bo],delete e[cl],delete e[G0],delete e[B0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zm(t){return t.tag===5||t.tag===3||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yi));else if(r!==4&&(t=t.child,t!==null))for(Cl(t,e,n),t=t.sibling;t!==null;)Cl(t,e,n),t=t.sibling}function Nl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nl(t,e,n),t=t.sibling;t!==null;)Nl(t,e,n),t=t.sibling}var xe=null,ct=!1;function Bt(t,e,n){for(n=n.child;n!==null;)eg(t,e,n),n=n.sibling}function eg(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Cs,n)}catch{}switch(n.tag){case 5:Ce||fr(n,e);case 6:var r=xe,o=ct;xe=null,Bt(t,e,n),xe=r,ct=o,xe!==null&&(ct?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ct?(t=xe,n=n.stateNode,t.nodeType===8?ga(t.parentNode,n):t.nodeType===1&&ga(t,n),To(t)):ga(xe,n.stateNode));break;case 4:r=xe,o=ct,xe=n.stateNode.containerInfo,ct=!0,Bt(t,e,n),xe=r,ct=o;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Sl(n,e,s),o=o.next}while(o!==r)}Bt(t,e,n);break;case 1:if(!Ce&&(fr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,e,a)}Bt(t,e,n);break;case 21:Bt(t,e,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Bt(t,e,n),Ce=r):Bt(t,e,n);break;default:Bt(t,e,n)}}function Id(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ow),e.forEach(function(r){var o=pw.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function st(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ct=!1;break e;case 3:xe=a.stateNode.containerInfo,ct=!0;break e;case 4:xe=a.stateNode.containerInfo,ct=!0;break e}a=a.return}if(xe===null)throw Error(I(160));eg(i,s,o),xe=null,ct=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){ie(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tg(e,t),e=e.sibling}function tg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(st(e,t),wt(t),r&4){try{ho(3,t,t.return),Ms(3,t)}catch(_){ie(t,t.return,_)}try{ho(5,t,t.return)}catch(_){ie(t,t.return,_)}}break;case 1:st(e,t),wt(t),r&512&&n!==null&&fr(n,n.return);break;case 5:if(st(e,t),wt(t),r&512&&n!==null&&fr(n,n.return),t.flags&32){var o=t.stateNode;try{xo(o,"")}catch(_){ie(t,t.return,_)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sp(o,i),Ya(a,s);var c=Ya(a,i);for(s=0;s<u.length;s+=2){var f=u[s],m=u[s+1];f==="style"?Ip(o,m):f==="dangerouslySetInnerHTML"?Np(o,m):f==="children"?xo(o,m):gu(o,f,m,c)}switch(a){case"input":Ha(o,i);break;case"textarea":Tp(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yr(o,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?yr(o,!!i.multiple,i.defaultValue,!0):yr(o,!!i.multiple,i.multiple?[]:"",!1))}o[bo]=i}catch(_){ie(t,t.return,_)}}break;case 6:if(st(e,t),wt(t),r&4){if(t.stateNode===null)throw Error(I(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(_){ie(t,t.return,_)}}break;case 3:if(st(e,t),wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{To(e.containerInfo)}catch(_){ie(t,t.return,_)}break;case 4:st(e,t),wt(t);break;case 13:st(e,t),wt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ku=ae())),r&4&&Id(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(c=Ce)||f,st(e,t),Ce=c):st(e,t),wt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(P=t,f=t.child;f!==null;){for(m=P=f;P!==null;){switch(p=P,g=p.child,p.tag){case 0:case 11:case 14:case 15:ho(4,p,p.return);break;case 1:fr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){ie(r,n,_)}}break;case 5:fr(p,p.return);break;case 22:if(p.memoizedState!==null){kd(m);continue}}g!==null?(g.return=p,P=g):kd(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{o=m.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ap("display",s))}catch(_){ie(t,t.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(_){ie(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:st(e,t),wt(t),r&4&&Id(t);break;case 21:break;default:st(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zm(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(xo(o,""),r.flags&=-33);var i=Ad(t);Nl(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ad(t);Cl(t,a,s);break;default:throw Error(I(161))}}catch(u){ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sw(t,e,n){P=t,ng(t)}function ng(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var o=P,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||pi;if(!s){var a=o.alternate,u=a!==null&&a.memoizedState!==null||Ce;a=pi;var c=Ce;if(pi=s,(Ce=u)&&!c)for(P=o;P!==null;)s=P,u=s.child,s.tag===22&&s.memoizedState!==null?Rd(o):u!==null?(u.return=s,P=u):Rd(o);for(;i!==null;)P=i,ng(i),i=i.sibling;P=o,pi=a,Ce=c}bd(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,P=i):bd(t)}}function bd(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||Ms(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hd(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hd(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&To(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ce||e.flags&512&&Tl(e)}catch(p){ie(e,e.return,p)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function kd(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Rd(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ms(4,e)}catch(u){ie(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(u){ie(e,o,u)}}var i=e.return;try{Tl(e)}catch(u){ie(e,i,u)}break;case 5:var s=e.return;try{Tl(e)}catch(u){ie(e,s,u)}}}catch(u){ie(e,e.return,u)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var aw=Math.ceil,as=Ot.ReactCurrentDispatcher,Ju=Ot.ReactCurrentOwner,et=Ot.ReactCurrentBatchConfig,j=0,ge=null,ce=null,_e=0,je=0,hr=fn(0),he=0,Uo=null,$n=0,Ds=0,Wu=0,po=null,Ue=null,Ku=0,Mr=1/0,Ct=null,ls=!1,Al=null,on=null,mi=!1,Yt=null,us=0,mo=0,Il=null,Ui=-1,Li=0;function ke(){return j&6?ae():Ui!==-1?Ui:Ui=ae()}function sn(t){return t.mode&1?j&2&&_e!==0?_e&-_e:q0.transition!==null?(Li===0&&(Li=Vp()),Li):(t=z,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function pt(t,e,n,r){if(50<mo)throw mo=0,Il=null,Error(I(185));zo(t,n,r),(!(j&2)||t!==ge)&&(t===ge&&(!(j&2)&&(Ds|=n),he===4&&Jt(t,_e)),$e(t,r),n===1&&j===0&&!(e.mode&1)&&(Mr=ae()+500,ks&&hn()))}function $e(t,e){var n=t.callbackNode;qv(t,e);var r=zi(t,t===ge?_e:0);if(r===0)n!==null&&Vc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vc(n),e===1)t.tag===0?j0(Pd.bind(null,t)):fm(Pd.bind(null,t)),$0(function(){!(j&6)&&hn()}),n=null;else{switch(Gp(r)){case 1:n=_u;break;case 4:n=Fp;break;case 16:n=Hi;break;case 536870912:n=$p;break;default:n=Hi}n=cg(n,rg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rg(t,e){if(Ui=-1,Li=0,j&6)throw Error(I(327));var n=t.callbackNode;if(Er()&&t.callbackNode!==n)return null;var r=zi(t,t===ge?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cs(t,r);else{e=r;var o=j;j|=2;var i=ig();(ge!==t||_e!==e)&&(Ct=null,Mr=ae()+500,Dn(t,e));do try{cw();break}catch(a){og(t,a)}while(!0);Du(),as.current=i,j=o,ce!==null?e=0:(ge=null,_e=0,e=he)}if(e!==0){if(e===2&&(o=tl(t),o!==0&&(r=o,e=bl(t,o))),e===1)throw n=Uo,Dn(t,0),Jt(t,r),$e(t,ae()),n;if(e===6)Jt(t,r);else{if(o=t.current.alternate,!(r&30)&&!lw(o)&&(e=cs(t,r),e===2&&(i=tl(t),i!==0&&(r=i,e=bl(t,i))),e===1))throw n=Uo,Dn(t,0),Jt(t,r),$e(t,ae()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:Cn(t,Ue,Ct);break;case 3:if(Jt(t,r),(r&130023424)===r&&(e=Ku+500-ae(),10<e)){if(zi(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ul(Cn.bind(null,t,Ue,Ct),e);break}Cn(t,Ue,Ct);break;case 4:if(Jt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-ht(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aw(r/1960))-r,10<r){t.timeoutHandle=ul(Cn.bind(null,t,Ue,Ct),r);break}Cn(t,Ue,Ct);break;case 5:Cn(t,Ue,Ct);break;default:throw Error(I(329))}}}return $e(t,ae()),t.callbackNode===n?rg.bind(null,t):null}function bl(t,e){var n=po;return t.current.memoizedState.isDehydrated&&(Dn(t,e).flags|=256),t=cs(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&kl(e)),t}function kl(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function lw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!yt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Wu,e&=~Ds,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ht(e),r=1<<n;t[n]=-1,e&=~r}}function Pd(t){if(j&6)throw Error(I(327));Er();var e=zi(t,0);if(!(e&1))return $e(t,ae()),null;var n=cs(t,e);if(t.tag!==0&&n===2){var r=tl(t);r!==0&&(e=r,n=bl(t,r))}if(n===1)throw n=Uo,Dn(t,0),Jt(t,e),$e(t,ae()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cn(t,Ue,Ct),$e(t,ae()),null}function Yu(t,e){var n=j;j|=1;try{return t(e)}finally{j=n,j===0&&(Mr=ae()+500,ks&&hn())}}function Vn(t){Yt!==null&&Yt.tag===0&&!(j&6)&&Er();var e=j;j|=1;var n=et.transition,r=z;try{if(et.transition=null,z=1,t)return t()}finally{z=r,et.transition=n,j=e,!(j&6)&&hn()}}function Qu(){je=hr.current,X(hr)}function Dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F0(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qi();break;case 3:Rr(),X(Oe),X(Ae),Vu();break;case 5:$u(r);break;case 4:Rr();break;case 13:X(te);break;case 19:X(te);break;case 10:Uu(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(ge=t,ce=t=an(t.current,null),_e=je=e,he=0,Uo=null,Wu=Ds=$n=0,Ue=po=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Rn=null}return t}function og(t,e){do{var n=ce;try{if(Du(),Pi.current=ss,is){for(var r=ne.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}is=!1}if(Fn=0,me=fe=ne=null,fo=!1,Po=0,Ju.current=null,n===null||n.return===null){he=1,Uo=e,ce=null;break}e:{var i=t,s=n.return,a=n,u=e;if(e=_e,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=wd(s);if(g!==null){g.flags&=-257,xd(g,s,a,i,e),g.mode&1&&vd(i,c,e),e=g,u=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(u),e.updateQueue=_}else y.add(u);break e}else{if(!(e&1)){vd(i,c,e),Xu();break e}u=Error(I(426))}}else if(Z&&a.mode&1){var E=wd(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xd(E,s,a,i,e),Pu(Pr(u,a));break e}}i=u=Pr(u,a),he!==4&&(he=2),po===null?po=[i]:po.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Gm(i,u,e);fd(i,v);break e;case 1:a=u;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(on===null||!on.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Bm(i,a,e);fd(i,S);break e}}i=i.return}while(i!==null)}ag(n)}catch(T){e=T,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function ig(){var t=as.current;return as.current=ss,t===null?ss:t}function Xu(){(he===0||he===3||he===2)&&(he=4),ge===null||!($n&268435455)&&!(Ds&268435455)||Jt(ge,_e)}function cs(t,e){var n=j;j|=2;var r=ig();(ge!==t||_e!==e)&&(Ct=null,Dn(t,e));do try{uw();break}catch(o){og(t,o)}while(!0);if(Du(),j=n,as.current=r,ce!==null)throw Error(I(261));return ge=null,_e=0,he}function uw(){for(;ce!==null;)sg(ce)}function cw(){for(;ce!==null&&!Uv();)sg(ce)}function sg(t){var e=ug(t.alternate,t,je);t.memoizedProps=t.pendingProps,e===null?ag(t):ce=e,Ju.current=null}function ag(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rw(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ce=null;return}}else if(n=nw(n,e,je),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);he===0&&(he=5)}function Cn(t,e,n){var r=z,o=et.transition;try{et.transition=null,z=1,dw(t,e,n,r)}finally{et.transition=o,z=r}return null}function dw(t,e,n,r){do Er();while(Yt!==null);if(j&6)throw Error(I(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hv(t,i),t===ge&&(ce=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,cg(Hi,function(){return Er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var s=z;z=1;var a=j;j|=4,Ju.current=null,iw(t,n),tg(n,t),R0(al),Ji=!!sl,al=sl=null,t.current=n,sw(n),Lv(),j=a,z=s,et.transition=i}else t.current=n;if(mi&&(mi=!1,Yt=t,us=o),i=t.pendingLanes,i===0&&(on=null),$v(n.stateNode),$e(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ls)throw ls=!1,t=Al,Al=null,t;return us&1&&t.tag!==0&&Er(),i=t.pendingLanes,i&1?t===Il?mo++:(mo=0,Il=t):mo=0,hn(),null}function Er(){if(Yt!==null){var t=Gp(us),e=et.transition,n=z;try{if(et.transition=null,z=16>t?16:t,Yt===null)var r=!1;else{if(t=Yt,Yt=null,us=0,j&6)throw Error(I(331));var o=j;for(j|=4,P=t.current;P!==null;){var i=P,s=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(P=c;P!==null;){var f=P;switch(f.tag){case 0:case 11:case 15:ho(8,f,i)}var m=f.child;if(m!==null)m.return=f,P=m;else for(;P!==null;){f=P;var p=f.sibling,g=f.return;if(Xm(f),f===c){P=null;break}if(p!==null){p.return=g,P=p;break}P=g}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}P=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,P=s;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,P=v;break e}P=i.return}}var w=t.current;for(P=w;P!==null;){s=P;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,P=x;else e:for(s=w;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ms(9,a)}}catch(T){ie(a,a.return,T)}if(a===s){P=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,P=S;break e}P=a.return}}if(j=o,hn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Cs,t)}catch{}r=!0}return r}finally{z=n,et.transition=e}}return!1}function Md(t,e,n){e=Pr(n,e),e=Gm(t,e,1),t=rn(t,e,1),e=ke(),t!==null&&(zo(t,1,e),$e(t,e))}function ie(t,e,n){if(t.tag===3)Md(t,t,n);else for(;e!==null;){if(e.tag===3){Md(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){t=Pr(n,t),t=Bm(e,t,1),e=rn(e,t,1),t=ke(),e!==null&&(zo(e,1,t),$e(e,t));break}}e=e.return}}function fw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>ae()-Ku?Dn(t,0):Wu|=n),$e(t,e)}function lg(t,e){e===0&&(t.mode&1?(e=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):e=1);var n=ke();t=Dt(t,e),t!==null&&(zo(t,e,n),$e(t,n))}function hw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lg(t,n)}function pw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),lg(t,n)}var ug;ug=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,tw(t,e,n);Le=!!(t.flags&131072)}else Le=!1,Z&&e.flags&1048576&&hm(e,es,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Di(t,e),t=e.pendingProps;var o=Ir(e,Ae.current);_r(e,n),o=Bu(null,e,r,t,o,n);var i=ju();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(i=!0,Xi(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ou(e),o.updater=Ps,e.stateNode=o,o._reactInternals=e,gl(e,r,t,n),e=wl(null,e,r,!0,i,n)):(e.tag=0,Z&&i&&ku(e),be(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Di(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=gw(r),t=lt(r,t),o){case 0:e=vl(null,e,r,t,n);break e;case 1:e=Sd(null,e,r,t,n);break e;case 11:e=_d(null,e,r,t,n);break e;case 14:e=Ed(null,e,r,lt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:lt(r,o),vl(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:lt(r,o),Sd(t,e,r,o,n);case 3:e:{if(zm(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,o=i.element,wm(t,e),rs(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Pr(Error(I(423)),e),e=Td(t,e,r,n,o);break e}else if(r!==o){o=Pr(Error(I(424)),e),e=Td(t,e,r,n,o);break e}else for(ze=nn(e.stateNode.containerInfo.firstChild),Je=e,Z=!0,ft=null,n=ym(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===o){e=Ut(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return xm(e),t===null&&hl(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,ll(r,o)?s=null:i!==null&&ll(r,i)&&(e.flags|=32),Hm(t,e),be(t,e,s,n),e.child;case 6:return t===null&&hl(e),null;case 13:return Jm(t,e,n);case 4:return Fu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kr(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:lt(r,o),_d(t,e,r,o,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Y(ts,r._currentValue),r._currentValue=s,i!==null)if(yt(i.value,s)){if(i.children===o.children&&!Oe.current){e=Ut(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=kt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),pl(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(I(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pl(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}be(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,_r(e,n),o=nt(o),r=r(o),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,o=lt(r,e.pendingProps),o=lt(r.type,o),Ed(t,e,r,o,n);case 15:return jm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:lt(r,o),Di(t,e),e.tag=1,Fe(r)?(t=!0,Xi(e)):t=!1,_r(e,n),Vm(e,r,o),gl(e,r,o,n),wl(null,e,r,!0,t,n);case 19:return Wm(t,e,n);case 22:return qm(t,e,n)}throw Error(I(156,e.tag))};function cg(t,e){return Op(t,e)}function mw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,n,r){return new mw(t,e,n,r)}function Zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gw(t){if(typeof t=="function")return Zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vu)return 11;if(t===wu)return 14}return 2}function an(t,e){var n=t.alternate;return n===null?(n=Ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oi(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Zu(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case rr:return Un(n.children,o,i,e);case yu:s=8,o|=8;break;case Va:return t=Ze(12,n,e,o|2),t.elementType=Va,t.lanes=i,t;case Ga:return t=Ze(13,n,e,o),t.elementType=Ga,t.lanes=i,t;case Ba:return t=Ze(19,n,e,o),t.elementType=Ba,t.lanes=i,t;case xp:return Us(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vp:s=10;break e;case wp:s=9;break e;case vu:s=11;break e;case wu:s=14;break e;case jt:s=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Ze(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Un(t,e,n,r){return t=Ze(7,t,r,e),t.lanes=n,t}function Us(t,e,n,r){return t=Ze(22,t,r,e),t.elementType=xp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ta(t,e,n){return t=Ze(6,t,null,e),t.lanes=n,t}function Ca(t,e,n){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yw(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ec(t,e,n,r,o,i,s,a,u){return t=new yw(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(i),t}function vw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dg(t){if(!t)return cn;t=t._reactInternals;e:{if(Bn(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Fe(n))return dm(t,n,e)}return e}function fg(t,e,n,r,o,i,s,a,u){return t=ec(n,r,!0,t,o,i,s,a,u),t.context=dg(null),n=t.current,r=ke(),o=sn(n),i=kt(r,o),i.callback=e??null,rn(n,i,o),t.current.lanes=o,zo(t,o,r),$e(t,r),t}function Ls(t,e,n,r){var o=e.current,i=ke(),s=sn(o);return n=dg(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rn(o,e,s),t!==null&&(pt(t,o,s,i),Ri(t,o,s)),s}function ds(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tc(t,e){Dd(t,e),(t=t.alternate)&&Dd(t,e)}function ww(){return null}var hg=typeof reportError=="function"?reportError:function(t){console.error(t)};function nc(t){this._internalRoot=t}Os.prototype.render=nc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Ls(t,e,null,null)};Os.prototype.unmount=nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vn(function(){Ls(null,t,null,null)}),e[Mt]=null}};function Os(t){this._internalRoot=t}Os.prototype.unstable_scheduleHydration=function(t){if(t){var e=qp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zt.length&&e!==0&&e<zt[n].priority;n++);zt.splice(n,0,t),n===0&&zp(t)}};function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function xw(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=ds(s);i.call(c)}}var s=fg(e,r,t,0,null,!1,!1,"",Ud);return t._reactRootContainer=s,t[Mt]=s.current,Ao(t.nodeType===8?t.parentNode:t),Vn(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=ds(u);a.call(c)}}var u=ec(t,0,!1,null,null,!1,!1,"",Ud);return t._reactRootContainer=u,t[Mt]=u.current,Ao(t.nodeType===8?t.parentNode:t),Vn(function(){Ls(e,u,n,r)}),u}function $s(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var u=ds(s);a.call(u)}}Ls(e,s,t,o)}else s=xw(n,e,t,o,r);return ds(s)}Bp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=to(e.pendingLanes);n!==0&&(Eu(e,n|1),$e(e,ae()),!(j&6)&&(Mr=ae()+500,hn()))}break;case 13:Vn(function(){var r=Dt(t,1);if(r!==null){var o=ke();pt(r,t,1,o)}}),tc(t,1)}};Su=function(t){if(t.tag===13){var e=Dt(t,134217728);if(e!==null){var n=ke();pt(e,t,134217728,n)}tc(t,134217728)}};jp=function(t){if(t.tag===13){var e=sn(t),n=Dt(t,e);if(n!==null){var r=ke();pt(n,t,e,r)}tc(t,e)}};qp=function(){return z};Hp=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};Xa=function(t,e,n){switch(e){case"input":if(Ha(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bs(r);if(!o)throw Error(I(90));Ep(r),Ha(r,o)}}}break;case"textarea":Tp(t,n);break;case"select":e=n.value,e!=null&&yr(t,!!n.multiple,e,!1)}};Rp=Yu;Pp=Vn;var _w={usingClientEntryPoint:!1,Events:[Wo,ar,bs,bp,kp,Yu]},Yr={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ew={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Up(t),t===null?null:t.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{Cs=gi.inject(Ew),Et=gi}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(e))throw Error(I(200));return vw(t,e,null,n)};Ke.createRoot=function(t,e){if(!rc(t))throw Error(I(299));var n=!1,r="",o=hg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=ec(t,1,!1,null,null,n,!1,r,o),t[Mt]=e.current,Ao(t.nodeType===8?t.parentNode:t),new nc(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Up(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return Vn(t)};Ke.hydrate=function(t,e,n){if(!Fs(e))throw Error(I(200));return $s(null,t,e,!0,n)};Ke.hydrateRoot=function(t,e,n){if(!rc(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=hg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fg(e,null,t,1,n??null,o,!1,i,s),t[Mt]=e.current,Ao(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Os(e)};Ke.render=function(t,e,n){if(!Fs(e))throw Error(I(200));return $s(null,t,e,!1,n)};Ke.unmountComponentAtNode=function(t){if(!Fs(t))throw Error(I(40));return t._reactRootContainer?(Vn(function(){$s(null,null,t,!1,function(){t._reactRootContainer=null,t[Mt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Yu;Ke.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fs(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return $s(t,e,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pg)}catch(t){console.error(t)}}pg(),pp.exports=Ke;var Sw=pp.exports,Ld=Sw;Fa.createRoot=Ld.createRoot,Fa.hydrateRoot=Ld.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}var Qt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qt||(Qt={}));const Od="popstate";function Tw(t){t===void 0&&(t={});function e(o,i){let{pathname:s="/",search:a="",hash:u=""}=jn(o.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Rl("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let u=o.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof i=="string"?i:fs(i))}function r(o,i){Vs(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Nw(e,n,r,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substr(2,8)}function Fd(t,e){return{usr:t.state,key:t.key,idx:e}}function Rl(t,e,n,r){return n===void 0&&(n=null),Lo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jn(e):e,{state:n,key:e&&e.key||r||Cw()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Nw(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Qt.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(Lo({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function m(){a=Qt.Pop;let E=f(),v=E==null?null:E-c;c=E,u&&u({action:a,location:_.location,delta:v})}function p(E,v){a=Qt.Push;let w=Rl(_.location,E,v);n&&n(w,E),c=f()+1;let x=Fd(w,c),S=_.createHref(w);try{s.pushState(x,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(S)}i&&u&&u({action:a,location:_.location,delta:1})}function g(E,v){a=Qt.Replace;let w=Rl(_.location,E,v);n&&n(w,E),c=f();let x=Fd(w,c),S=_.createHref(w);s.replaceState(x,"",S),i&&u&&u({action:a,location:_.location,delta:0})}function y(E){let v=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof E=="string"?E:fs(E);return w=w.replace(/ $/,"%20"),le(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let _={get action(){return a},get location(){return t(o,s)},listen(E){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Od,m),u=E,()=>{o.removeEventListener(Od,m),u=null}},createHref(E){return e(o,E)},createURL:y,encodeLocation(E){let v=y(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(E){return s.go(E)}};return _}var $d;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($d||($d={}));function Aw(t,e,n){return n===void 0&&(n="/"),Iw(t,e,n)}function Iw(t,e,n,r){let o=typeof e=="string"?jn(e):e,i=oc(o.pathname||"/",n);if(i==null)return null;let s=mg(t);bw(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=Gw(i);a=Fw(s[u],c)}return a}function mg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};u.relativePath.startsWith("/")&&(le(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ln([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mg(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Lw(c,i.index),routesMeta:f})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let u of gg(i.path))o(i,s,u)}),e}function gg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=gg(r.join("/")),a=[];return a.push(...s.map(u=>u===""?i:[i,u].join("/"))),o&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function bw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ow(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kw=/^:[\w-]+$/,Rw=3,Pw=2,Mw=1,Dw=10,Uw=-2,Vd=t=>t==="*";function Lw(t,e){let n=t.split("/"),r=n.length;return n.some(Vd)&&(r+=Uw),e&&(r+=Pw),n.filter(o=>!Vd(o)).reduce((o,i)=>o+(kw.test(i)?Rw:i===""?Mw:Dw),r)}function Ow(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Fw(t,e,n){let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=$w({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m)return null;Object.assign(o,m.params),s.push({params:o,pathname:ln([i,m.pathname]),pathnameBase:zw(ln([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=ln([i,m.pathnameBase]))}return s}function $w(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Vw(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,f,m)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let _=a[m]||"";s=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[m];return g&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function Vw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Gw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jw=t=>Bw.test(t);function qw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?jn(t):t,i;if(n)if(jw(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Vs(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?i=Gd(n.substring(1),"/"):i=Gd(n,e)}else i=e;return{pathname:i,search:Jw(r),hash:Ww(o)}}function Gd(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Na(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ic(t,e){let n=Hw(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sc(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=jn(t):(o=Lo({},t),le(!o.pathname||!o.pathname.includes("?"),Na("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Na("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Na("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;o.pathname=p.join("/")}a=m>=0?e[m]:"/"}let u=qw(o,a),c=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const ln=t=>t.join("/").replace(/\/\/+/g,"/"),zw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ww=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yg=["post","put","patch","delete"];new Set(yg);const Yw=["get",...yg];new Set(Yw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(this,arguments)}const ac=A.createContext(null),Qw=A.createContext(null),pn=A.createContext(null),Gs=A.createContext(null),Ft=A.createContext({outlet:null,matches:[],isDataRoute:!1}),vg=A.createContext(null);function Xw(t,e){let{relative:n}=e===void 0?{}:e;Fr()||le(!1);let{basename:r,navigator:o}=A.useContext(pn),{hash:i,pathname:s,search:a}=_g(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:ln([r,s])),o.createHref({pathname:u,search:a,hash:i})}function Fr(){return A.useContext(Gs)!=null}function mn(){return Fr()||le(!1),A.useContext(Gs).location}function wg(t){A.useContext(pn).static||A.useLayoutEffect(t)}function gn(){let{isDataRoute:t}=A.useContext(Ft);return t?dx():Zw()}function Zw(){Fr()||le(!1);let t=A.useContext(ac),{basename:e,future:n,navigator:r}=A.useContext(pn),{matches:o}=A.useContext(Ft),{pathname:i}=mn(),s=JSON.stringify(ic(o,n.v7_relativeSplatPath)),a=A.useRef(!1);return wg(()=>{a.current=!0}),A.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let m=sc(c,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ln([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,s,i,t])}function xg(){let{matches:t}=A.useContext(Ft),e=t[t.length-1];return e?e.params:{}}function _g(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(pn),{matches:o}=A.useContext(Ft),{pathname:i}=mn(),s=JSON.stringify(ic(o,r.v7_relativeSplatPath));return A.useMemo(()=>sc(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function ex(t,e){return tx(t,e)}function tx(t,e,n,r){Fr()||le(!1);let{navigator:o}=A.useContext(pn),{matches:i}=A.useContext(Ft),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=mn(),f;if(e){var m;let E=typeof e=="string"?jn(e):e;u==="/"||(m=E.pathname)!=null&&m.startsWith(u)||le(!1),f=E}else f=c;let p=f.pathname||"/",g=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Aw(t,{pathname:g}),_=sx(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ln([u,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ln([u,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?A.createElement(Gs.Provider,{value:{location:Oo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qt.Pop}},_):_}function nx(){let t=cx(),e=Kw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,null)}const rx=A.createElement(nx,null);class ox extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ft.Provider,{value:this.props.routeContext},A.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ix(t){let{routeContext:e,match:n,children:r}=t,o=A.useContext(ac);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ft.Provider,{value:e},r)}function sx(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);f>=0||le(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:p,errors:g}=n,y=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||y){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,m,p)=>{let g,y=!1,_=null,E=null;n&&(g=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||rx,u&&(c<0&&p===0?(fx("route-fallback"),y=!0,E=null):c===p&&(y=!0,E=m.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,p+1)),w=()=>{let x;return g?x=_:y?x=E:m.route.Component?x=A.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=f,A.createElement(ix,{match:m,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?A.createElement(ox,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var Eg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eg||{}),Sg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sg||{});function ax(t){let e=A.useContext(ac);return e||le(!1),e}function lx(t){let e=A.useContext(Qw);return e||le(!1),e}function ux(t){let e=A.useContext(Ft);return e||le(!1),e}function Tg(t){let e=ux(),n=e.matches[e.matches.length-1];return n.route.id||le(!1),n.route.id}function cx(){var t;let e=A.useContext(vg),n=lx(),r=Tg();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dx(){let{router:t}=ax(Eg.UseNavigateStable),e=Tg(Sg.UseNavigateStable),n=A.useRef(!1);return wg(()=>{n.current=!0}),A.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Oo({fromRouteId:e},i)))},[t,e])}const Bd={};function fx(t,e,n){Bd[t]||(Bd[t]=!0)}function hx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function lc(t){let{to:e,replace:n,state:r,relative:o}=t;Fr()||le(!1);let{future:i,static:s}=A.useContext(pn),{matches:a}=A.useContext(Ft),{pathname:u}=mn(),c=gn(),f=sc(e,ic(a,i.v7_relativeSplatPath),u,o==="path"),m=JSON.stringify(f);return A.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:o}),[c,m,o,n,r]),null}function Tt(t){le(!1)}function px(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Qt.Pop,navigator:i,static:s=!1,future:a}=t;Fr()&&le(!1);let u=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:u,navigator:i,static:s,future:Oo({v7_relativeSplatPath:!1},a)}),[u,a,i,s]);typeof r=="string"&&(r=jn(r));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:y="default"}=r,_=A.useMemo(()=>{let E=oc(f,u);return E==null?null:{location:{pathname:E,search:m,hash:p,state:g,key:y},navigationType:o}},[u,f,m,p,g,y,o]);return _==null?null:A.createElement(pn.Provider,{value:c},A.createElement(Gs.Provider,{children:n,value:_}))}function mx(t){let{children:e,location:n}=t;return ex(Pl(e),n)}new Promise(()=>{});function Pl(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,o)=>{if(!A.isValidElement(r))return;let i=[...e,o];if(r.type===A.Fragment){n.push.apply(n,Pl(r.props.children,i));return}r.type!==Tt&&le(!1),!r.props.index||!r.props.children||le(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Pl(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function gx(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function yx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vx(t,e){return t.button===0&&(!e||e==="_self")&&!yx(t)}function Dl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function wx(t,e){let n=Dl(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(i=>{n.append(o,i)})}),n}const xx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_x="6";try{window.__reactRouterVersion=_x}catch{}const Ex="startTransition",jd=fv[Ex];function Sx(t){let{basename:e,children:n,future:r,window:o}=t,i=A.useRef();i.current==null&&(i.current=Tw({window:o,v5Compat:!0}));let s=i.current,[a,u]=A.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=A.useCallback(m=>{c&&jd?jd(()=>u(m)):u(m)},[u,c]);return A.useLayoutEffect(()=>s.listen(f),[s,f]),A.useEffect(()=>hx(r),[r]),A.createElement(px,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=A.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:u,to:c,preventScrollReset:f,viewTransition:m}=e,p=gx(e,xx),{basename:g}=A.useContext(pn),y,_=!1;if(typeof c=="string"&&Cx.test(c)&&(y=c,Tx))try{let x=new URL(window.location.href),S=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=oc(S.pathname,g);S.origin===x.origin&&T!=null?c=T+S.search+S.hash:_=!0}catch{}let E=Xw(c,{relative:o}),v=Nx(c,{replace:s,state:a,target:u,preventScrollReset:f,relative:o,viewTransition:m});function w(x){r&&r(x),x.defaultPrevented||v(x)}return A.createElement("a",Ml({},p,{href:y||E,onClick:_||i?r:w,ref:n,target:u}))});var qd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qd||(qd={}));var Hd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hd||(Hd={}));function Nx(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=e===void 0?{}:e,u=gn(),c=mn(),f=_g(t,{relative:s});return A.useCallback(m=>{if(vx(m,n)){m.preventDefault();let p=r!==void 0?r:fs(c)===fs(f);u(t,{replace:p,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,f,r,o,n,t,i,s,a])}function Ax(t){let e=A.useRef(Dl(t)),n=A.useRef(!1),r=mn(),o=A.useMemo(()=>wx(r.search,n.current?null:e.current),[r.search]),i=gn(),s=A.useCallback((a,u)=>{const c=Dl(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,u)},[i,o]);return[o,s]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,...c},f)=>A.createElement("svg",{ref:f,...Ix,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${bx(t)}`,a].join(" "),...c},[...e.map(([m,p])=>A.createElement(m,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=U("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=U("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=U("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=U("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=U("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=U("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=U("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=U("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=U("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=U("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=U("Croissant",[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=U("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=U("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=U("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=U("GlassWater",[["path",{d:"M15.2 22H8.8a2 2 0 0 1-2-1.79L5 3h14l-1.81 17.21A2 2 0 0 1 15.2 22Z",key:"48rfw3"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=U("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=U("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=U("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=U("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=U("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=U("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=U("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=U("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=U("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=U("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=U("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=U("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=U("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=U("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=U("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function js(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function s_(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(f){try{c(r.next(f))}catch(m){s(m)}}function u(f){try{c(r.throw(f))}catch(m){s(m)}}function c(f){f.done?i(f.value):o(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}const a_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class l_ extends dc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xd extends dc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zd extends dc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ol||(Ol={}));class u_{constructor(e,{headers:n={},customFetch:r,region:o=Ol.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=a_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s_(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{const{headers:a,method:u,body:c,signal:f,timeout:m}=r;let p={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(p["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(p["Content-Type"]="application/json",_=JSON.stringify(c)):_=c;let E=f;m&&(s=new AbortController,i=setTimeout(()=>s.abort(),m),f?(E=s.signal,f.addEventListener("abort",()=>s.abort())):E=s.signal);const v=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:_,signal:E}).catch(T=>{throw new l_(T)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Xd(v);if(!v.ok)throw new Zd(v);let x=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield v.json():x==="application/octet-stream"||x==="application/pdf"?S=yield v.blob():x==="text/event-stream"?S=v:x==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Zd||a instanceof Xd?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var c_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},d_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,u=null,c=i.status,f=i.statusText;if(i.ok){var m,p;if(n.method!=="HEAD"){var g;const v=await i.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const _=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&E&&E.length>1&&(u=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,c=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const _=await i.text();try{s=JSON.parse(_),Array.isArray(s)&&i.status===404&&(a=[],s=null,c=200,f="OK")}catch{i.status===404&&_===""?(c=204,f="No Content"):s={message:_}}if(s&&n.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,c=200,f="OK"),s&&n.shouldThrowOnError)throw new c_(s)}return{error:s,data:a,count:u,status:c,statusText:f}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="";const u=i==null?void 0:i.cause;if(u){var c,f,m,p;const y=(c=u==null?void 0:u.message)!==null&&c!==void 0?c:"",_=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";a=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"Error"}: ${y}`,_&&(a+=` (${_})`),u!=null&&u.stack&&(a+=`
${u.stack}`)}else{var g;a=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},f_=class extends d_{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ef=new RegExp("[,()]");var Xn=class extends f_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ef.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ef.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},h_=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},o=n?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Xn({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(i.length>0){const s=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Xn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Xn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},p_=class Og{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new h_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Og(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{u.searchParams.append(m,p)})):(a="POST",c=n);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new Xn({method:a,url:u,headers:f,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class m_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const g_="2.89.0",y_=`realtime-js/${g_}`,Fg="1.0.0",v_="2.0.0",tf=Fg,Fl=1e4,w_=1e3,x_=100;var Ht;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ht||(Ht={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var $l;(function(t){t.websocket="websocket"})($l||($l={}));var In;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(In||(In={}));class __{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var o,i;const s=e.topic,a=(o=e.ref)!==null&&o!==void 0?o:"",u=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+s.length+c.length+m.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),_=0;y.setUint8(_++,this.KINDS.userBroadcastPush),y.setUint8(_++,u.length),y.setUint8(_++,a.length),y.setUint8(_++,s.length),y.setUint8(_++,c.length),y.setUint8(_++,m.length),y.setUint8(_++,n),Array.from(u,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(m,v=>y.setUint8(_++,v.charCodeAt(0)));var E=new Uint8Array(g.byteLength+r.byteLength);return E.set(new Uint8Array(g),0),E.set(new Uint8Array(r),g.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,i,s,a,u]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const c=r.decode(e.slice(u,u+o));u=u+o;const f=r.decode(e.slice(u,u+i));u=u+i;const m=r.decode(e.slice(u,u+s));u=u+s;const p=e.slice(u,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:f,payload:g};return s>0&&(y.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class $g{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const nf=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=E_(s,t,e,o),i),{}):{}},E_=(t,e,n,r)=>{const o=e.find(a=>a.name===t),i=o==null?void 0:o.type,s=n[t];return i&&!r.includes(i)?Vg(i,s):Vl(s)},Vg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return N_(e,n)}switch(t){case W.bool:return S_(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return T_(e);case W.json:case W.jsonb:return C_(e);case W.timestamp:return A_(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Vl(e);default:return Vl(e)}},Vl=t=>t,S_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},T_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},C_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},N_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Vg(e,a))}return t},A_=t=>typeof t=="string"?t.replace(" ","T"):t,Gg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Aa{constructor(e,n,r={},o=Fl){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rf||(rf={}));class yo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yo.syncState(this.state,o,i,s),this.pendingDiffs.forEach(u=>{this.state=yo.syncDiff(this.state,u,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=yo.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const i=this.cloneDeep(e),s=this.transformState(n),a={},u={};return this.map(i,(c,f)=>{s[c]||(u[c]=f)}),this.map(s,(c,f)=>{const m=i[c];if(m){const p=f.map(E=>E.presence_ref),g=m.map(E=>E.presence_ref),y=f.filter(E=>g.indexOf(E.presence_ref)<0),_=m.filter(E=>p.indexOf(E.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(u[c]=_)}else a[c]=f}),this.syncDiff(i,{joins:a,leaves:u},r,o)}static syncDiff(e,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,u)=>{var c;const f=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),f.length>0){const m=e[a].map(g=>g.presence_ref),p=f.filter(g=>m.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,f,u)}),this.map(s,(a,u)=>{let c=e[a];if(!c)return;const f=u.map(m=>m.presence_ref);c=c.filter(m=>f.indexOf(m.presence_ref)<0),e[a]=c,o(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(of||(of={}));var vo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vo||(vo={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class pr{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Aa(this,dt.join,this.params,this.timeout),this.rejoinTimer=new $g(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new yo(this),this.broadcastEndpointURL=Gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:s,presence:a,private:u}}=this.params,c=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[vo.PRESENCE]&&this.bindings[vo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Nt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<E;w++){const x=_[w],{filter:{event:S,schema:T,table:C,filter:N}}=x,b=g&&g[w];if(b&&b.event===S&&pr.isFilterValueEqual(b.schema,T)&&pr.isFilterValueEqual(b.table,C)&&pr.isFilterValueEqual(b.filter,N))v.push(Object.assign(Object.assign({},x),{id:b.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Nt.SUBSCRIBED);return}}).receive("error",g=>{this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===de.joined&&e===vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const c=await a.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Aa(this,dt.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Aa(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>x_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;const s=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=dt;if(r&&[a,u,c,f].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(g=>{var y,_,E;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(_=g.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(g=>g.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(g=>{var y,_,E,v,w,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const S=g.id,T=(y=g.filter)===null||y===void 0?void 0:y.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const S=(w=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:_,table:E,commit_timestamp:v,type:w,errors:x}=y;p=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pr.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nf(e.columns,e.old_record)),n}}const Ia=()=>{},yi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I_=[1e3,2e3,5e3,1e4],b_=1e4,k_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R_{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fl,this.transport=null,this.heartbeatIntervalMs=yi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ia,this.ref=0,this.reconnectTimer=null,this.vsn=tf,this.logger=Ia,this.conn=null,this.sendBuffer=[],this.serializer=new __,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$l.websocket}`,this.httpEndpoint=Gg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ht.connecting:return In.Connecting;case Ht.open:return In.Open;case Ht.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new pr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(w_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${o} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ht.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ht.open||this.conn.readyState===Ht.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([k_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const i={access_token:n,version:y_};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(dt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $g(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,u,c,f,m,p,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fl,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:yi.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ia,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:tf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>I_[y-1]||b_,this.vsn){case Fg:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:(y,_)=>_(JSON.stringify(y)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(y,_)=>_(JSON.parse(y));break;case v_:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var $o=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function P_(t,e,n){const r=new URL(e,t);if(n)for(const[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function M_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function D_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){const a=P_(t.baseUrl,r,o),u=await M_(t.auth),c=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...u,...s},body:i?JSON.stringify(i):void 0}),f=await c.text(),m=(c.headers.get("content-type")||"").includes("application/json"),p=m&&f?JSON.parse(f):f;if(!c.ok){const g=m?p:void 0,y=g==null?void 0:g.error;throw new $o((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:c.status,headers:c.headers,data:p}}}}function vi(t){return t.join("")}var U_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vi(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(t.namespace)}`}),!0}catch(e){if(e instanceof $o&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof $o&&n.status===409)return;throw n}}};function zn(t){return t.join("")}var L_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof $o&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof $o&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},O_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=D_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new U_(this.client,e),this.tableOps=new L_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},qs=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var F_=class extends qs{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gl=class extends qs{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const fc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$_=()=>Response,Bl=t=>{if(Array.isArray(t))return t.map(n=>Bl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Bl(r)}),e},V_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},G_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function B_(t,e){if(Vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j_(t){var e=B_(t,"string");return Vo(e)=="symbol"?e:e+""}function q_(t,e,n){return(e=j_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sf(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ba=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},H_=async(t,e,n)=>{t instanceof await $_()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new F_(ba(r),o,i))}).catch(r=>{e(new Gl(ba(r),r))}):e(new Gl(ba(t),t))},z_=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(V_(r)?(o.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),F(F({},o),n))};async function Yo(t,e,n,r,o,i){return new Promise((s,a)=>{t(n,z_(e,r,o,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>H_(u,a,r))})}async function Go(t,e,n,r){return Yo(t,"GET",e,n,r)}async function ut(t,e,n,r,o){return Yo(t,"POST",e,r,o,n)}async function jl(t,e,n,r,o){return Yo(t,"PUT",e,r,o,n)}async function J_(t,e,n,r){return Yo(t,"HEAD",e,F(F({},n),{},{noResolveJson:!0}),r)}async function hc(t,e,n,r,o){return Yo(t,"DELETE",e,r,o,n)}var W_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}}};let Bg;Bg=Symbol.toStringTag;var K_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Bg]="BlobDownloadBuilder",this.promise=null}asStream(){return new W_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}}};const Y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},af={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Q_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=fc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var o=this;try{let i;const s=F(F({},af),r);let a=F(F({},o.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",o.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),u&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,u&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(a=F(F({},a),r.headers));const c=o._removeEmptyFolders(e),f=o._getFinalPath(c),m=await(t=="PUT"?jl:ut)(o.fetch,`${o.url}/object/${f}`,i,F({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var o=this;const i=o._removeEmptyFolders(t),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let u;const c=F({upsert:af.upsert},r),f=F(F({},o.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{data:{path:i,fullPath:(await jl(o.fetch,a.toString(),u,{headers:f})).Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ee(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const o=F({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const i=await ut(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new qs("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await ut(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async copy(t,e,n){var r=this;try{return{data:{path:(await ut(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var r=this;try{let o=r._getFinalPath(t),i=await ut(r.fetch,`${r.url}/object/sign/${o}`,F({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var r=this;try{const o=await ut(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>F(F({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"",i=this._getFinalPath(t),s=()=>Go(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new K_(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Bl(await Go(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await J_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ee(r)&&r instanceof Gl){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await hc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const o=F(F(F({},Y_),e),{},{prefix:t||""});return{data:await ut(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const r=F({},t);return{data:await ut(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const jg="2.89.0",qg={"X-Client-Info":`storage-js/${jg}`};var X_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=F(F({},qg),e),this.fetch=fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Go(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Go(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await ut(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await jl(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await ut(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await hc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Z_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},qg),e),this.fetch=fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ut(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Go(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await hc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!G_(t))throw new qs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new O_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){const s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const pc={"X-Client-Info":`storage-js/${jg}`,"Content-Type":"application/json"};var Hg=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ka=class extends Hg{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eE=class extends Hg{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const mc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nE=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const s=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new ka(lf(i),r,s))}).catch(()=>{const i=r+"";e(new ka(o.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new ka(o.statusText||`HTTP ${r} error`,r,i))}}else e(new eE(lf(t),t))},rE=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(tE(r)?(o.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,F(F({},o),n)):o};async function oE(t,e,n,r,o,i){return new Promise((s,a)=>{t(n,rE(e,r,o,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>s(u)).catch(u=>nE(u,a,r))})}async function He(t,e,n,r,o){return oE(t,"POST",e,r,o,n)}var iE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},pc),e),this.fetch=mc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await He(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await He(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}},sE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},pc),e),this.fetch=mc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await He(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await He(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await He(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}},aE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},pc),e),this.fetch=mc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await He(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await He(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}},lE=class extends aE{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new uE(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},uE=class extends iE{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new cE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},cE=class extends sE{constructor(t,e,n,r,o){super(t,e,o),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},dE=class extends X_{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Q_(this.url,this.headers,t,this.fetch)}get vectors(){return new lE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z_(this.url+"/iceberg",this.headers,this.fetch)}};const zg="2.89.0",Zn=30*1e3,ql=3,Ra=ql*Zn,fE="http://localhost:9999",hE="supabase.auth.token",pE={"X-Client-Info":`gotrue-js/${zg}`},Hl="X-Supabase-Api-Version",Jg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gE=10*60*1e3;class Bo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yE extends Bo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vE(t){return L(t)&&t.name==="AuthApiError"}class bn extends Bo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $t extends Bo{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class Be extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wE(t){return L(t)&&t.name==="AuthSessionMissingError"}class Jn extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xi extends $t{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xE(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class uf extends $t{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _E extends $t{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zl extends $t{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pa(t){return L(t)&&t.name==="AuthRetryableFetchError"}class cf extends $t{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jl extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),df=` 	
\r=`.split(""),EE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<df.length;e+=1)t[df[e].charCodeAt(0)]=-2;for(let e=0;e<ms.length;e+=1)t[ms[e].charCodeAt(0)]=e;return t})();function ff(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ms[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ms[r]),e.queuedBits-=6}}function Wg(t,e,n){const r=EE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hf(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{CE(s,r,n)};for(let s=0;s<t.length;s+=1)Wg(t.charCodeAt(s),o,i);return e.join("")}function SE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}SE(r,e)}}function CE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Tr(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Wg(t.charCodeAt(o),n,r);return new Uint8Array(e)}function NE(t){const e=[];return TE(t,n=>e.push(n)),new Uint8Array(e)}function Mn(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>ff(o,n,r)),ff(null,n,r),e.join("")}function AE(t){return Math.round(Date.now()/1e3)+t}function IE(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",_n={tested:!1,writable:!1},Kg=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_n.tested)return _n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_n.tested=!0,_n.writable=!0}catch{_n.tested=!0,_n.writable=!1}return _n.writable};function bE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const Yg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",er=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},En=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ve=async(t,e)=>{await t.removeItem(e)};class Hs{constructor(){this.promise=new Hs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Hs.promiseConstructor=Promise;function Ma(t){const e=t.split(".");if(e.length!==3)throw new Jl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!mE.test(e[r]))throw new Jl("JWT not in base64url format");return{header:JSON.parse(hf(e[0])),payload:JSON.parse(hf(e[1])),signature:Tr(e[2]),raw:{header:e[0],payload:e[1]}}}async function RE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function PE(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function ME(t){return("0"+t.toString(16)).substr(-2)}function DE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ME).join("")}async function UE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function LE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await UE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wn(t,e,n=!1){const r=DE();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await er(t,`${e}-code-verifier`,o);const i=await LE(r);return[i,r===i?"plain":"s256"]}const OE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FE(t){const e=t.headers.get(Hl);if(!e||!e.match(OE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $E(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function VE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(t){if(!GE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Da(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BE(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function pf(t){return JSON.parse(JSON.stringify(t))}const Nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jE=[502,503,504];async function mf(t){var e;if(!kE(t))throw new zl(Nn(t),0);if(jE.includes(t.status))throw new zl(Nn(t),t.status);let n;try{n=await t.json()}catch(i){throw new bn(Nn(i),i)}let r;const o=FE(t);if(o&&o.getTime()>=Jg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cf(Nn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new cf(Nn(n),t.status,n.weak_password.reasons);throw new yE(Nn(n),t.status||500,r)}const qE=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function O(t,e,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[Hl]||(i[Hl]=Jg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await HE(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function HE(t,e,n,r,o,i){const s=qE(e,r,o,i);let a;try{a=await t(n,Object.assign({},s))}catch(u){throw console.error(u),new zl(Nn(u),0)}if(a.ok||await mf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await mf(u)}}function at(t){var e;let n=null;WE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=AE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function gf(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zE(t){return{data:t,error:null}}function JE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=js(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},u=Object.assign({},s);return{data:{properties:a,user:u},error:null}}function yf(t){return t}function WE(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ua=["global","local","others"];class KE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ua[0]){if(Ua.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ua.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=js(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:JE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:yf});if(f.error)throw f.error;const m=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);c[`${E}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Kn(e);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Kn(e);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Wt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Kn(e);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Wt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Kn(e.userId);try{const{data:n,error:r}=await O(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Kn(e.userId),Kn(e.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,s,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:yf});if(f.error)throw f.error;const m=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);c[`${E}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function vf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Yn={debug:!!(globalThis&&Kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YE extends Qg{}async function QE(t,e,n){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ZE(t){return parseInt(t,16)}function eS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function tS(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:u,resources:c,scheme:f,uri:m,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Xg(t.address),y=f?`${f}://${r}`:r,_=t.statement?`${t.statement}
`:"",E=`${y} wants you to sign in with your Ethereum account:
${g}

${_}`;let v=`URI: ${m}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),u&&(v+=`
Request ID: ${u}`),c){let w=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}v+=w}return`${E}
${v}`}class ue extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class gs extends ue{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function nS({error:t,options:e}){var n,r,o;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Zg(s)){if(i.rp.id!==s)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function rS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Zg(r)){if(n.rpId!==r)return new ue({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iS=new oS;function sS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=js(t,["challenge","user","excludeCredentials"]),i=Tr(e).buffer,s=Object.assign(Object.assign({},n),{id:Tr(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Tr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function aS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=js(t,["challenge","allowCredentials"]),o=Tr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Tr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function lS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Mn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Mn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Mn(new Uint8Array(o.authenticatorData)),clientDataJSON:Mn(new Uint8Array(o.clientDataJSON)),signature:Mn(new Uint8Array(o.signature)),userHandle:o.userHandle?Mn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function wf(){var t,e;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gs("Browser returned unexpected credential type",e)}:{data:null,error:new gs("Empty credential response",e)}}catch(e){return{data:null,error:nS({error:e,options:t})}}}async function dS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gs("Browser returned unexpected credential type",e)}:{data:null,error:new gs("Empty credential response",e)}}catch(e){return{data:null,error:rS({error:e,options:t})}}}const fS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ys(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const i in o){const s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){const a=r[i];e(a)?r[i]=ys(a,s):r[i]=ys(s)}else r[i]=s}return r}function pS(t,e){return ys(fS,t,e||{})}function mS(t,e){return ys(hS,t,e||{})}class gS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};const u=o??iS.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=pS(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:m}=await cS({publicKey:c,signal:u});return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const c=mS(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:m}=await dS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new bn("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Bo("rpId is required for WebAuthn authentication")};try{if(!wf())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};const{webauthn:u}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new bn("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Bo("rpId is required for WebAuthn registration")};try{if(!wf())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:u,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return u?this._verify({factorId:s.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new bn("Unexpected error in register",s)}}}}XE();const yS={url:fE,storageKey:hE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xf(t,e,n){return await n()}const Qn={};class jo{get jwks(){var e,n;return(n=(e=Qn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yS),e);if(this.storageKey=i.storageKey,this.instanceID=(n=jo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,jo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new KE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yg(i.fetch),this.lock=i.lock||xf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&we()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QE:this.lock=xf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vf(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(we()&&(n=bE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),we()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xE(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?this._returnResult({error:n}):this._returnResult({error:new bn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:at}),{data:s,error:a}=i;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const u=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,o;try{let i;if("email"in e){const{email:f,password:m,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Wn(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:at})}else if("phone"in e){const{phone:f,password:m,options:p}=e;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:at})}else throw new wi("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:a}=e;n=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gf})}else if("phone"in e){const{phone:i,password:s,options:a}=e;n=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gf})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const i=new Jn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,i,s,a,u,c,f,m,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:_,wallet:E,statement:v,options:w}=e;let x;if(we())if(typeof E=="object")x=E;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=E}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),T=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Xg(T[0]);let N=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const k=await x.request({method:"eth_chainId"});N=ZE(k)}const b={domain:S.host,address:C,statement:v,uri:S.href,version:"1",chainId:N,nonce:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=tS(b),y=await x.request({method:"personal_sign",params:[eS(g),C]})}try{const{data:_,error:E}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:at});if(E)throw E;if(!_||!_.session||!_.user){const v=new Jn;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(L(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,r,o,i,s,a,u,c,f,m,p,g;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:E,wallet:v,statement:w,options:x}=e;let S;if(we())if(typeof v=="object")S=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:E,error:v}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Mn(_)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:at});if(v)throw v;if(!E||!E.session||!E.user){const w=new Jn;return this._returnResult({data:{user:null,session:null},error:w})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:v})}catch(E){if(L(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await En(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new _E;const{data:i,error:s}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:at});if(await ve(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const a=new Jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=e,a=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:at}),{data:u,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const f=new Jn;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,i,s;try{if("email"in e){const{email:a,options:u}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Wn(this.storage,this.storageKey));const{error:m}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:f}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=u==null?void 0:u.data)!==null&&o!==void 0?o:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new wi("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let o,i;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:at});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,c=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(o){if(L(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,i,s;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Wn(this.storage,this.storageKey));const c=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:zE});return!((i=c.data)===null||i===void 0)&&i.url&&we()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Be;const{error:o}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(L(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:i}=e,{error:s}=await O(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:o,options:i}=e,{data:s,error:a}=await O(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new wi("You must provide either an email or phone number and a type")}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await En(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Da()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=BE(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wt}):await this._useSession(async n=>{var r,o,i;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(n){if(L(n))return wE(n)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new Be;const s=o.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await Wn(this.storage,this.storageKey));const{data:c,error:f}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:s.access_token,xform:Wt});if(f)throw f;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Be;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=Ma(e.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{data:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Be;const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!we())throw new xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new uf("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!s||!c)throw new xi("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(a);let p=f+m;u&&(p=parseInt(u));const g=p-f;g*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const y=p-m;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,f);const{data:_,error:E}=await this._getUser(i);if(E)throw E;const v={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:m,expires_at:p,refresh_token:s,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await En(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({error:i});const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(vE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=IE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Wn(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,a,u,c,f;const{data:m,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return we()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(L(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:i}}=n;if(o)throw o;const{options:s,provider:a,token:u,access_token:c,nonce:f}=e,m=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:at}),{data:p,error:g}=m;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Jn}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),L(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await PE(async o=>(o>0&&await RE(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(o,i)=>{const s=200*Math.pow(2,o);return i&&Pa(i)&&Date.now()+s-r<Zn})}catch(r){if(this._debug(n,"error",r),L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),we()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await En(this.storage,this.storageKey);if(o&&this.userStorage){let s=await En(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await er(this.userStorage,this.storageKey+"-user",s)),o.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Da()}else if(o&&!o.user&&!o.user){const s=await En(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(o.user=s.user,await ve(this.storage,this.storageKey+"-user"),await er(this.storage,this.storageKey,o)):o.user=Da()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ra;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ra}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),Pa(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(o.access_token);!a&&(s!=null&&s.user)?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Hs;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),L(i)){const s={data:null,error:i};return Pa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await er(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const i=pf(o);await er(this.storage,this.storageKey,i)}else{const o=pf(n);await er(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zn}ms, refresh threshold is ${ql} ticks`),o<=ql&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Wn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await O(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&u.type==="totp"&&(!((o=u==null?void 0:u.totp)===null||o===void 0)&&o.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lS(e.webauthn.credential_response):uS(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:u}=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const s=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:sS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:aS(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ma(r.access_token);let s=null;i.aal&&(s=i.aal);let a=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Be})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Be});const s=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&we()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Be});const s=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&we()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Be})})}catch(e){if(L(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Be})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+gE>o)return r;const{data:i,error:s}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:u}}=Ma(r);n!=null&&n.allowExpired||$E(i.exp);const c=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:o,signature:s},error:null}}const f=VE(o.alg),m=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,s,NE(`${a}.${u}`)))throw new Jl("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}}jo.nextInstanceID={};const vS=jo,wS="2.89.0";let ro="";typeof Deno<"u"?ro="deno":typeof document<"u"?ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ro="react-native":ro="node";const xS={"X-Client-Info":`supabase-js-${ro}/${wS}`},_S={headers:xS},ES={schema:"public"},SS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TS={};function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}function CS(t,e){if(qo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NS(t){var e=CS(t,"string");return qo(e)=="symbol"?e:e+""}function AS(t,e,n){return(e=NS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_f(Object(n),!0).forEach(function(r){AS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const IS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bS=()=>Headers,kS=(t,e,n)=>{const r=IS(n),o=bS();return async(i,s)=>{var a;const u=(a=await e())!==null&&a!==void 0?a:t;let c=new o(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,oe(oe({},s),{},{headers:c}))}};function RS(t){return t.endsWith("/")?t:t+"/"}function PS(t,e){var n,r;const{db:o,auth:i,realtime:s,global:a}=t,{db:u,auth:c,realtime:f,global:m}=e,p={db:oe(oe({},u),o),auth:oe(oe({},c),i),realtime:oe(oe({},f),s),storage:{},global:oe(oe(oe({},m),a),{},{headers:oe(oe({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function MS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var DS=class extends vS{constructor(t){super(t)}},US=class{constructor(t,e,n){var r,o;this.supabaseUrl=t,this.supabaseKey=e;const i=MS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:ES,realtime:TS,auth:oe(oe({},SS),{},{storageKey:s}),global:_S},u=PS(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=kS(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(oe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new p_(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new dE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new u_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:u,throwOnError:c},f,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DS({url:this.authUrl.href,headers:oe(oe({},p),f),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:u,throwOnError:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new R_(this.realtimeUrl.href,oe(oe({},t),{},{params:oe(oe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LS=(t,e,n)=>new US(t,e,n);function OS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}OS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FS="https://jsrehgbrtrvpwhsjqkfv.supabase.co",$S="sb_publishable_FOfIfTWDtnPSv6Mb1mtUDg_P8v1CWOi",Sn=LS(FS,$S),ey=A.createContext(void 0),VS=({children:t})=>{const[e,n]=A.useState(null),[r,o]=A.useState(!0),i=p=>{var y;if(!p)return null;const g=p.user_metadata||{};return{name:g.name||((y=p.email)==null?void 0:y.split("@")[0])||"Usurio",email:p.email||"",isPro:g.isPro||!1,joinedAt:g.joinedAt||new Date(p.created_at).toLocaleDateString("pt-BR")}};A.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await Sn.auth.getSession();n(i(y==null?void 0:y.user))}catch(y){console.error("Erro ao verificar sesso:",y)}finally{o(!1)}})();const{data:{subscription:g}}=Sn.auth.onAuthStateChange(async(y,_)=>{n(i(_==null?void 0:_.user)),o(!1)});return()=>{g.unsubscribe()}},[]);const s=async(p,g)=>{try{const{error:y}=await Sn.auth.signInWithPassword({email:p,password:g});if(y)throw console.error("Login Supabase Error:",y),new Error(m(y.message))}catch(y){throw console.error("Login Exception:",y),y}},a=async(p,g,y)=>{try{const{data:_,error:E}=await Sn.auth.signUp({email:p,password:y,options:{data:{name:g,isPro:!1,joinedAt:new Date().toLocaleDateString("pt-BR")}}});if(E)throw console.error("Signup Supabase Error:",E),new Error(m(E.message));if(_.user&&!_.session)throw new Error("CONFIRM_EMAIL_REQUIRED")}catch(_){throw console.error("Signup Exception:",_),_}},u=async p=>{const{error:g}=await Sn.auth.resend({type:"signup",email:p});if(g)throw new Error(m(g.message))},c=async()=>{await Sn.auth.signOut(),n(null)},f=async()=>{if(e){const{data:p,error:g}=await Sn.auth.updateUser({data:{isPro:!0}});if(g){console.error("Erro ao atualizar para Pro:",g);return}p.user&&n(i(p.user))}},m=p=>{if(!p)return"Ocorreu um erro desconhecido.";const g=p.toLowerCase();return g.includes("invalid login credentials")?"E-mail ou senha incorretos.":g.includes("user not found")?"Usurio no encontrado.":g.includes("user already registered")?"Este e-mail j est cadastrado.":g.includes("password should be at least")?"A senha deve ter no mnimo 6 caracteres.":g.includes("rate limit")?"Muitas tentativas. Aguarde alguns minutos.":g.includes("email not confirmed")?"CONFIRM_EMAIL_REQUIRED":"Verifique seus dados e tente novamente."};return h.jsx(ey.Provider,{value:{user:e,login:s,signup:a,resendVerification:u,logout:c,upgradeToPro:f,isLoading:r},children:t})},it=()=>{const t=A.useContext(ey);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gc=({isOpen:t,onClose:e})=>{const[n,r]=A.useState(!0),[o,i]=A.useState(""),[s,a]=A.useState(""),[u,c]=A.useState(""),[f,m]=A.useState(""),[p,g]=A.useState(!1),[y,_]=A.useState(!1),{login:E,signup:v}=it();if(!t)return null;const w=async S=>{if(S.preventDefault(),m(""),!o||!u){m("Preencha todos os campos obrigatrios.");return}if(!n&&!s){m("Por favor, informe seu nome para criar a conta.");return}if(u.length<6){m("A senha deve ter pelo menos 6 caracteres.");return}_(!0);try{if(n)await E(o,u),e();else{const T=s||o.split("@")[0];await v(o,T,u),e()}i(""),a(""),c(""),m("")}catch(T){T.message==="CONFIRM_EMAIL_REQUIRED"?g(!0):m(T.message||"Ocorreu um erro ao conectar. Tente novamente.")}finally{_(!1)}},x=()=>{g(!1),m(""),r(!0),_(!1),e()};return p?h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:x}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Wd,{className:"w-8 h-8 text-nutriGreen"})}),h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800 mb-2",children:"Verifique seu e-mail"}),h.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["Enviamos um link de confirmao para ",h.jsx("strong",{children:o}),".",h.jsx("br",{}),"Por favor, clique no link para ativar sua conta."]}),h.jsx("button",{onClick:x,className:"w-full bg-nutriGreen text-white font-bold py-3 rounded-xl hover:bg-green-600 transition-colors",children:"Entendido, vou verificar"})]})]}):h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:x}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[h.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:h.jsx($r,{className:"w-5 h-5"})}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800",children:n?"Bem-vindo de volta!":"Crie sua conta"}),h.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n?"Acesse seu guia nutricional personalizado.":"Comece sua jornada para uma alimentao consciente."})]}),h.jsxs("div",{className:"flex gap-4 mb-6 bg-gray-50 p-1 rounded-xl",children:[h.jsx("button",{className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${n?"bg-white text-nutriText shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{r(!0),m("")},children:"Entrar"}),h.jsx("button",{className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${n?"text-gray-500 hover:text-gray-700":"bg-white text-nutriText shadow-sm"}`,onClick:()=>{r(!1),m("")},children:"Criar Conta"})]}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f&&h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm font-medium flex items-start gap-3 border border-red-100 shadow-sm animate-in slide-in-from-top-2 fade-in duration-300",children:[h.jsx(Cg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),h.jsx("span",{className:"leading-snug",children:f})]}),!n&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Nome"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dg,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"text",value:s,onChange:S=>a(S.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-nutriGreen/20 focus:border-nutriGreen transition-all",placeholder:"Seu nome"})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(Wd,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"email",value:o,onChange:S=>i(S.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-gray-50 border rounded-xl focus:outline-none focus:ring-2 focus:ring-nutriGreen/20 focus:border-nutriGreen transition-all ${f&&f.toLowerCase().includes("e-mail")?"border-red-300 bg-red-50":"border-gray-200"}`,placeholder:"seu@email.com"})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Senha"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dr,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"password",value:u,onChange:S=>c(S.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-gray-50 border rounded-xl focus:outline-none focus:ring-2 focus:ring-nutriGreen/20 focus:border-nutriGreen transition-all ${f&&(f.toLowerCase().includes("senha")||f.toLowerCase().includes("incorretos"))?"border-red-300 bg-red-50":"border-gray-200"}`,placeholder:""})]}),n&&h.jsx("div",{className:"text-right",children:h.jsx("button",{type:"button",className:"text-xs text-nutriGreen font-medium hover:underline",children:"Esqueci minha senha"})})]}),h.jsx("button",{type:"submit",disabled:y,className:"w-full bg-nutriGreen hover:bg-green-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-green-200 transition-all hover:-translate-y-0.5 mt-2 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:y?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Entrando...":"Criando Conta..."]}):n?"Entrar":"Cadastrar"})]}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsxs("div",{className:"relative flex py-2 items-center",children:[h.jsx("div",{className:"flex-grow border-t border-gray-100"}),h.jsx("span",{className:"flex-shrink px-4 text-xs text-gray-400 font-medium bg-white",children:"Ou continue com"}),h.jsx("div",{className:"flex-grow border-t border-gray-100"})]}),h.jsx("div",{className:"flex gap-3 mt-4",children:h.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium text-gray-600",children:[h.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})})]})]})]})]})},GS=({children:t})=>{const e=mn(),n=gn(),r=e.pathname==="/",{user:o,isLoading:i}=it(),[s,a]=A.useState(!1),u=[{name:"Guia de Alimentos",mobileLabel:"Alimentos",id:"categories",icon:i_},{name:"Aprenda o Bsico",mobileLabel:"Bsico",id:"basics",icon:Px},{name:"Cardpios",mobileLabel:"Cardpios",id:"plans",icon:uc},{name:"Calc IMC",mobileLabel:"IMC",id:"bmi",icon:Dx}],c=f=>{if(e.pathname!=="/")n("/",{state:{scrollTo:f}});else{const m=document.getElementById(f);m&&m.scrollIntoView({behavior:"smooth"})}};return i?h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-nutriBg animate-in fade-in duration-500",children:h.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl flex flex-col items-center gap-4",children:[h.jsx("div",{className:"bg-nutriGreen/10 p-4 rounded-full animate-pulse",children:h.jsx(Jd,{className:"h-12 w-12 text-nutriGreen"})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("span",{className:"font-header font-bold text-2xl text-nutriText tracking-tight",children:["Nutri",h.jsx("span",{className:"text-nutriGreen",children:"Guia"})]}),h.jsx("span",{className:"text-xs text-gray-400 mt-1 font-medium",children:"Carregando seu perfil..."})]}),h.jsxs("div",{className:"flex gap-1 mt-2",children:[h.jsx("div",{className:"w-2 h-2 bg-nutriGreen rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 bg-nutriGreen rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 bg-nutriGreen rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}):h.jsxs("div",{className:"min-h-screen flex flex-col font-sans animate-in fade-in duration-300",children:[h.jsxs("nav",{className:"bg-white shadow-sm sticky top-0 z-40",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16 items-center",children:[h.jsxs(Rt,{to:"/",className:"flex items-center gap-2 group flex-shrink-0",children:[h.jsx("div",{className:"bg-nutriGreen/10 p-2 rounded-full group-hover:bg-nutriGreen/20 transition-colors",children:h.jsx(Jd,{className:"h-6 w-6 text-nutriGreen"})}),h.jsxs("span",{className:"font-header font-bold text-xl text-nutriText tracking-tight hidden sm:inline",children:["Nutri",h.jsx("span",{className:"text-nutriGreen",children:"Guia"})]})]}),h.jsx("div",{className:"hidden lg:flex items-center gap-6 mx-6",children:u.map(f=>h.jsx("button",{onClick:()=>c(f.id),className:"text-sm font-medium text-gray-500 hover:text-nutriGreen transition-colors whitespace-nowrap",children:f.name},f.id))}),h.jsxs("div",{className:"flex items-center gap-4",children:[!r&&h.jsxs(Rt,{to:"/",className:"text-sm font-medium text-gray-500 hover:text-nutriGreen flex items-center gap-1 transition-colors hidden sm:flex",children:[h.jsx(Bs,{className:"w-4 h-4"}),"Voltar"]}),o?h.jsxs(Rt,{to:"/profile",className:"flex items-center gap-2 pl-4 border-l border-gray-100",children:[h.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[h.jsx("span",{className:"text-sm font-bold text-gray-800 leading-none",children:o.name}),o.isPro&&h.jsx("span",{className:"text-[10px] text-nutriOrange font-bold uppercase tracking-wider",children:"Pro Member"})]}),h.jsx("div",{className:"w-9 h-9 bg-gray-100 rounded-full flex items-center justify-center border-2 border-transparent hover:border-nutriGreen transition-colors text-gray-600",children:h.jsx(Dg,{className:"w-5 h-5"})})]}):h.jsx("button",{onClick:()=>a(!0),className:"text-sm font-semibold text-gray-600 hover:text-nutriGreen transition-colors px-4 py-2",children:"Entrar"})]})]})}),h.jsx("div",{className:"lg:hidden border-t border-gray-100 bg-white shadow-sm",children:h.jsx("div",{className:"grid grid-cols-4 gap-1 p-2",children:u.map(f=>h.jsxs("button",{onClick:()=>c(f.id),className:"flex flex-col items-center justify-center py-2 rounded-xl hover:bg-gray-50 active:bg-green-50 active:scale-95 transition-all group",children:[h.jsx("div",{className:"bg-gray-50 p-1.5 rounded-lg mb-1 group-hover:bg-white group-hover:shadow-sm transition-all",children:h.jsx(f.icon,{className:"w-4 h-4 text-nutriGreen"})}),h.jsx("span",{className:"text-[10px] font-bold text-gray-600 leading-none",children:f.mobileLabel})]},f.id))})})]}),h.jsx("main",{className:"flex-grow relative",children:t}),h.jsx("footer",{className:"bg-white border-t border-gray-100 mt-12 py-8",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:h.jsxs("p",{children:[" ",new Date().getFullYear()," NutriGuia. Escolhas alimentares conscientes."]})})}),h.jsx(gc,{isOpen:s,onClose:()=>a(!1)})]})},BS=({id:t,title:e,description:n,colorClass:r,Icon:o})=>{const{user:i}=it(),s=t!=="proteins"&&!(i!=null&&i.isPro);return h.jsxs(Rt,{to:`/category/${t}`,className:"group bg-white rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden border border-transparent hover:border-gray-100 flex flex-col h-full relative",children:[h.jsx("div",{className:`h-2 ${r}`}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow items-center text-center",children:[s&&h.jsx("div",{className:"absolute top-3 right-3 bg-gray-100 p-1.5 rounded-full z-10",children:h.jsx(Dr,{className:"w-4 h-4 text-gray-400"})}),h.jsx("div",{className:`p-4 rounded-full ${r.replace("bg-","bg-opacity-10 bg-")} mb-4 group-hover:scale-110 transition-transform`,children:h.jsx(o,{className:`w-8 h-8 ${r.replace("bg-","text-")}`})}),h.jsx("h3",{className:"font-header font-bold text-xl text-nutriText mb-2",children:e}),h.jsx("p",{className:"text-gray-500 text-sm flex-grow",children:n}),h.jsx("div",{className:"mt-6 w-full",children:h.jsx("span",{className:`inline-block w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors ${s?"bg-gray-50 text-gray-400":"bg-gray-50 text-gray-600 group-hover:bg-nutriGreen group-hover:text-white"}`,children:s?"Exclusivo Pro":"Ver Alimentos"})})]})]})},jS=()=>{const{user:t}=it(),[e,n]=A.useState(""),[r,o]=A.useState(""),[i,s]=A.useState(null),a=m=>{m.preventDefault();const p=parseFloat(e),g=parseFloat(r)/100;if(p>0&&g>0){const y=p/(g*g);s(parseFloat(y.toFixed(1)))}},u=()=>{s(null),n(""),o("")},f=i?(m=>m<18.5?{label:"Abaixo do peso",color:"text-blue-500",bg:"bg-blue-500"}:m<24.9?{label:"Peso ideal",color:"text-green-500",bg:"bg-green-500"}:m<29.9?{label:"Sobrepeso",color:"text-orange-500",bg:"bg-orange-500"}:{label:"Obesidade",color:"text-red-500",bg:"bg-red-500"})(i):null;return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 overflow-hidden border border-gray-100 flex flex-col md:flex-row relative z-10",children:[h.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[h.jsx("div",{className:"bg-nutriGreen/10 p-2 rounded-lg text-nutriGreen",children:h.jsx(hs,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-header text-2xl font-bold text-gray-800",children:"Calculadora IMC"})]}),h.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Descubra se voc est no seu peso ideal e receba uma avaliao rpida da sua sade corporal."}),i?h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 text-center border border-gray-100 mb-4",children:[h.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Seu Resultado"}),h.jsx("div",{className:"text-5xl font-header font-bold text-gray-800 my-2",children:i}),h.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-bold text-white ${f==null?void 0:f.bg}`,children:f==null?void 0:f.label})]}),h.jsxs("button",{onClick:u,className:"w-full text-gray-500 font-medium py-2 rounded-xl hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[h.jsx(Kx,{className:"w-4 h-4"})," Calcular Novamente"]})]}):h.jsxs("form",{onSubmit:a,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Seu Peso (kg)"}),h.jsx("input",{type:"number",value:e,onChange:m=>n(m.target.value),placeholder:"Ex: 70.5",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 text-gray-800 font-medium transition-all",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Sua Altura (cm)"}),h.jsx("input",{type:"number",value:r,onChange:m=>o(m.target.value),placeholder:"Ex: 175",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 text-gray-800 font-medium transition-all",required:!0})]}),h.jsxs("button",{type:"submit",className:"w-full bg-gray-900 text-white font-bold py-3.5 rounded-xl hover:bg-black transition-all flex items-center justify-center gap-2 shadow-lg",children:["Calcular Agora ",h.jsx(Lx,{className:"w-4 h-4"})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-8 md:w-1/2 text-white flex flex-col justify-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-nutriGreen/20 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-nutriOrange/20 rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("h4",{className:"font-header text-xl font-bold mb-4",children:"Entenda os Nmeros"}),h.jsxs("ul",{className:"space-y-3 text-sm text-gray-300",children:[h.jsxs("li",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[h.jsx("span",{children:"Magreza"}),h.jsx("span",{className:"font-bold text-blue-400",children:"< 18.5"})]}),h.jsxs("li",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[h.jsx("span",{children:"Peso Ideal"}),h.jsx("span",{className:"font-bold text-green-400",children:"18.5 - 24.9"})]}),h.jsxs("li",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[h.jsx("span",{children:"Sobrepeso"}),h.jsx("span",{className:"font-bold text-orange-400",children:"25.0 - 29.9"})]}),h.jsxs("li",{className:"flex justify-between items-center",children:[h.jsx("span",{children:"Obesidade"}),h.jsx("span",{className:"font-bold text-red-400",children:"> 30.0"})]})]}),h.jsx("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/10 text-xs leading-relaxed text-gray-300",children:h.jsxs("p",{children:[h.jsx("strong",{children:"Nota:"})," O IMC  uma referncia geral. Para uma avaliao completa de massa muscular e gordura, consulte um nutricionista."]})})]})]})]})})},qS=[{id:1,icon:go,myth:"Comer carboidrato  noite engorda",truth:"O corpo no desliga  noite. O que causa ganho de peso  o excesso calrico total do dia, no o horrio em que voc come. Carboidratos complexos no jantar podem at ajudar no sono!"},{id:2,icon:$x,myth:"Suco Detox emagrece magicamente",truth:"Nenhum alimento queima gordura sozinho. O 'detox' real  feito diariamente pelo seu fgado e rins. Sucos so saudveis, mas no substituem uma dieta equilibrada."},{id:3,icon:Rx,myth:"Cortar glten  obrigatrio para ser saudvel",truth:"A menos que voc seja celaco ou tenha sensibilidade, o glten no  um vilo. Produtos 'sem glten' muitas vezes tm mais acar e gordura para compensar o sabor."},{id:4,icon:Lg,myth:"Gordura  a inimiga do corao",truth:"Depende da gordura! Gorduras trans e saturadas em excesso fazem mal, mas gorduras insaturadas (abacate, azeite, nozes) so essenciais para proteger o corao e absorver vitaminas."}],HS=()=>h.jsxs("section",{className:"py-12",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("span",{className:"text-nutriGreen font-bold tracking-wider uppercase text-xs mb-2 block",children:"Educao Nutricional"}),h.jsx("h2",{className:"font-header text-3xl font-bold text-gray-800",children:"Mitos vs. Verdades"}),h.jsx("p",{className:"text-gray-500 mt-2 max-w-xl mx-auto",children:"Separamos o que  cincia do que  conversa fiada para voc focar no que realmente importa."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:qS.map(t=>h.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl shadow-gray-100 border border-gray-100 flex flex-col h-full hover:-translate-y-1 transition-transform duration-300",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx("div",{className:"bg-red-50 p-3 rounded-2xl flex-shrink-0",children:h.jsx(t.icon,{className:"w-6 h-6 text-red-500"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(Cg,{className:"w-4 h-4 text-red-500"}),h.jsx("span",{className:"text-xs font-bold text-red-500 uppercase tracking-wide",children:"Mito Comum"})]}),h.jsxs("h3",{className:"font-header text-lg font-bold text-gray-800 leading-tight",children:['"',t.myth,'"']})]})]}),h.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent mb-6"}),h.jsxs("div",{className:"flex items-start gap-4 bg-green-50/50 p-4 rounded-2xl flex-grow",children:[h.jsx("div",{className:"mt-1",children:h.jsx(Ag,{className:"w-5 h-5 text-nutriGreen"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-nutriGreen uppercase tracking-wide block mb-1",children:"A Verdade"}),h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.truth})]})]})]},t.id))})]}),zS=()=>h.jsxs("section",{className:"py-8",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h2",{className:"font-header text-3xl font-bold text-gray-800",children:"Aprenda o Bsico"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"Pequenas mudanas de conhecimento geram grandes resultados."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg shadow-green-100/50 border border-green-50 relative overflow-hidden group hover:-translate-y-1 transition-all",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-50 rounded-bl-full -mr-8 -mt-8 z-0 transition-transform group-hover:scale-110"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-nutriGreen border border-green-100",children:h.jsx(Hx,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-header text-xl font-bold text-gray-800 mb-3",children:"O Prato Ideal"}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No precisa pesar comida. Use a regra visual:"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3 bg-green-50 p-2 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-xs font-bold text-nutriGreen shadow-sm",children:"50%"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Vegetais e Legumes"})]}),h.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 p-2 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-xs font-bold text-blue-500 shadow-sm",children:"25%"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Protenas"})]}),h.jsxs("div",{className:"flex items-center gap-3 bg-yellow-50 p-2 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-xs font-bold text-yellow-600 shadow-sm",children:"25%"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carboidratos"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg shadow-purple-100/50 border border-purple-50 relative overflow-hidden group hover:-translate-y-1 transition-all",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-50 rounded-bl-full -mr-8 -mt-8 z-0 transition-transform group-hover:scale-110"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-purple-500 border border-purple-100",children:h.jsx(Qx,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-header text-xl font-bold text-gray-800 mb-3",children:"Ler Rtulos"}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No se deixe enganar pelo marketing da embalagem."}),h.jsxs("ul",{className:"space-y-3",children:[h.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[h.jsx("span",{className:"text-purple-500 font-bold",children:""}),h.jsxs("span",{children:["A lista de ingredientes  em ",h.jsx("strong",{children:"ordem decrescente"}),". O primeiro item  o que tem mais."]})]}),h.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[h.jsx("span",{className:"text-purple-500 font-bold",children:""}),h.jsx("span",{children:"Acar tem vrios nomes: Maltodextrina, Xarope de milho, Sacarose."})]}),h.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[h.jsx("span",{className:"text-purple-500 font-bold",children:""}),h.jsx("span",{children:"Evite nomes qumicos impronunciveis no final da lista."})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg shadow-orange-100/50 border border-orange-50 relative overflow-hidden group hover:-translate-y-1 transition-all",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-50 rounded-bl-full -mr-8 -mt-8 z-0 transition-transform group-hover:scale-110"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-orange-500 border border-orange-100",children:h.jsx(uc,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-header text-xl font-bold text-gray-800 mb-3",children:"Meal Prep"}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Cozinhe uma vez, coma saudvel a semana toda."}),h.jsxs("div",{className:"bg-orange-50 rounded-xl p-3 mb-3 border border-orange-100",children:[h.jsx("h4",{className:"font-bold text-xs text-orange-700 uppercase mb-1",children:"A Regra de Domingo"}),h.jsx("p",{className:"text-xs text-gray-600",children:"Dedique 2 horas do domingo para lavar salada, cozinhar feijo e assar frango."})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm font-bold text-gray-700 bg-gray-50 p-2 rounded-lg",children:[h.jsx("span",{children:"Congelar?"}),h.jsx("span",{className:"text-green-600",children:"Sim! "})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm font-bold text-gray-700 bg-gray-50 p-2 rounded-lg mt-2",children:[h.jsx("span",{children:"Durabilidade"}),h.jsx("span",{className:"text-gray-500",children:"3-4 dias (Geladeira)"})]})]})]})]})]}),JS=()=>{const[t,e]=A.useState("lose"),n=gn(),r=s=>{n(s)},o={lose:{title:"Emagrecimento",desc:"Dficit calrico com alta saciedade.",color:"bg-blue-500",icon:Yd,meals:[{icon:Fi,time:"Caf",text:"Omelete (2 ovos) + Espinafre + 1 fatia po integral"},{icon:$i,time:"Almoo",text:"150g Frango grelhado + Salada verde  vontade + 80g Batata doce"},{icon:go,time:"Jantar",text:"Salada de Atum + Legumes cozidos no vapor"}]},gain:{title:"Ganho de Massa",desc:"Supervit calrico limpo e proteico.",color:"bg-orange-500",icon:Qd,meals:[{icon:Fi,time:"Caf",text:"Mingau de aveia (leite, whey, banana e pasta de amendoim)"},{icon:$i,time:"Almoo",text:"200g Patinho modo + 150g Arroz + Feijo + Brcolis"},{icon:go,time:"Jantar",text:"Omelete (4 ovos) + Tapioca + Queijo branco"}]},maintain:{title:"Manuteno",desc:"Equilbrio para sade a longo prazo.",color:"bg-green-500",icon:hs,meals:[{icon:Fi,time:"Caf",text:"Iogurte natural + Granola caseira + Frutas vermelhas"},{icon:$i,time:"Almoo",text:"Peixe assado + Pur de abbora + Salada colorida"},{icon:go,time:"Jantar",text:"Sopa de legumes com frango desfiado"}]}},i=o[t];return h.jsx("section",{className:"py-8 bg-gray-50 rounded-[3rem] my-12 px-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Planos & Rotinas"}),h.jsx("h2",{className:"font-header text-3xl font-bold text-gray-800 mt-2",children:"Exemplos de Cardpios"}),h.jsx("p",{className:"text-gray-500",children:"Escolha seu objetivo para ver um dia modelo."})]}),h.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:Object.keys(o).map(s=>h.jsxs("button",{onClick:()=>e(s),className:`px-6 py-3 rounded-full font-bold text-sm transition-all flex items-center gap-2 ${t===s?"bg-gray-900 text-white shadow-lg scale-105":"bg-white text-gray-500 hover:bg-gray-200"}`,children:[s==="lose"&&h.jsx(Yd,{className:"w-4 h-4"}),s==="gain"&&h.jsx(Qd,{className:"w-4 h-4"}),s==="maintain"&&h.jsx(hs,{className:"w-4 h-4"}),o[s].title]},s))}),h.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-100 pb-4",children:[h.jsx("div",{className:`p-3 rounded-xl ${i.color} text-white`,children:h.jsx(i.icon,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-header text-xl font-bold text-gray-800",children:i.title}),h.jsx("p",{className:"text-sm text-gray-500",children:i.desc})]})]}),h.jsx("div",{className:"space-y-4",children:i.meals.map((s,a)=>h.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[h.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-gray-400 mt-1",children:h.jsx(s.icon,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase block mb-1",children:s.time}),h.jsx("p",{className:"text-gray-700 font-medium text-sm leading-relaxed",children:s.text})]})]},a))}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:h.jsx("p",{className:"text-xs text-center text-gray-400 italic",children:"*Este  apenas um exemplo visual. Consulte um nutricionista para quantidades individuais."})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[h.jsxs("div",{className:"bg-nutriGreen/10 rounded-2xl p-5 flex items-center gap-4 cursor-pointer hover:bg-nutriGreen/20 transition-colors group",onClick:()=>r("/weekly-menu"),children:[h.jsx("div",{className:"bg-white p-3 rounded-xl text-nutriGreen shadow-sm",children:h.jsx(Gx,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-800",children:"Cardpio Semanal Interativo"}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Planeje sua semana agora."})]}),h.jsx(Fo,{className:"w-4 h-4 text-nutriGreen ml-auto transform group-hover:translate-x-1 transition-transform"})]}),h.jsxs("div",{className:"bg-orange-50 rounded-2xl p-5 flex items-center gap-4 cursor-pointer hover:bg-orange-100 transition-colors group",onClick:()=>r("/shopping-list"),children:[h.jsx("div",{className:"bg-white p-3 rounded-xl text-orange-500 shadow-sm",children:h.jsx(Ul,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-800",children:"Lista de Compras"}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Crie e salve sua lista."})]}),h.jsx(Fo,{className:"w-4 h-4 text-orange-500 ml-auto transform group-hover:translate-x-1 transition-transform"})]})]})]})})},WS=[{id:1,name:"Mariana Costa",role:"Perdeu 5kg em 2 meses",content:"Eu sempre achei nutrio um bicho de sete cabeas. O NutriGuia simplificou tudo! O Guia de Protenas mudou minha forma de fazer compras. Paguei o plano Pro s pelo gerador de cardpios e valeu cada centavo.",initial:"M",color:"bg-purple-500"},{id:2,name:"Carlos Eduardo",role:"Membro Pro Vitalcio",content:"Incrvel como o preo  acessvel. R$ 9,90  menos que um lanche, e o contedo  muito completo. Uso a lista de compras toda semana e os treinos bnus me ajudaram a sair do sedentarismo.",initial:"C",color:"bg-blue-500"},{id:3,name:"Fernanda Lima",role:"Praticante de Yoga",content:"O visual do app  lindo e muito fcil de usar. Adorei a parte de mitos e verdades. O suporte do NutriBot tira minhas dvidas na hora que estou cozinhando. Recomendo pra todo mundo!",initial:"F",color:"bg-nutriOrange"}],KS=()=>h.jsxs("section",{className:"py-16 bg-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-green-50 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 opacity-60"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-orange-50 rounded-full blur-3xl translate-x-1/2 translate-y-1/2 opacity-60"}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("span",{className:"text-nutriGreen font-bold tracking-wider uppercase text-xs mb-2 block",children:"Quem usa, aprova"}),h.jsx("h2",{className:"font-header text-3xl md:text-4xl font-bold text-gray-900",children:"Histrias de Sucesso"}),h.jsx("p",{className:"text-gray-500 mt-3 max-w-xl mx-auto",children:"Junte-se a milhares de pessoas que esto transformando sua relao com a comida de forma simples e barata."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:WS.map(t=>h.jsxs("div",{className:"bg-gray-50 rounded-3xl p-8 border border-gray-100 relative hover:-translate-y-2 transition-transform duration-300 shadow-sm hover:shadow-xl",children:[h.jsx(Wx,{className:"absolute top-6 right-6 w-8 h-8 text-gray-200 fill-gray-200"}),h.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((e,n)=>h.jsx(cc,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"},n))}),h.jsxs("p",{className:"text-gray-700 leading-relaxed mb-6 font-medium relative z-10",children:['"',t.content,'"']}),h.jsxs("div",{className:"flex items-center gap-4 mt-auto border-t border-gray-200/50 pt-4",children:[h.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-md ${t.color}`,children:t.initial}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-900",children:t.name}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ag,{className:"w-3 h-3 text-nutriGreen"}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t.role})]})]})]})]},t.id))}),h.jsxs("div",{className:"mt-16 bg-gradient-to-r from-gray-900 to-gray-800 rounded-3xl p-8 md:p-12 text-white shadow-2xl flex flex-col md:flex-row justify-between items-center gap-8 text-center md:text-left",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-header text-2xl font-bold mb-2",children:"Faa parte da comunidade"}),h.jsx("p",{className:"text-gray-400 max-w-md",children:"No perca tempo com dietas da moda. Tenha o guia definitivo no seu bolso."})]}),h.jsxs("div",{className:"flex gap-8 md:gap-16",children:[h.jsxs("div",{children:[h.jsx("span",{className:"block text-4xl font-bold text-nutriGreen mb-1",children:"5k+"}),h.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"Usurios Ativos"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-4xl font-bold text-nutriOrange mb-1",children:"4.9"}),h.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"Avaliao Mdia"})]})]})]})]})]});var oo=(t=>(t.PROTEIN="Protenas",t.FIBER="Fibras",t.CARBS="Carboidratos",t.FATS="Gorduras Boas",t))(oo||{});const K=t=>`https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${t}.svg`,Wl={proteins:{id:"proteins",title:"Alimentos Ricos em Protena",type:oo.PROTEIN,description:"Essenciais para a construo muscular e reparao de tecidos.",color:"bg-blue-500",iconName:"Beef",items:[{id:"p1",name:"Frango (Peito)",image:K("1f357"),portion:"100g",mainNutrientAmount:31,mainNutrientUnit:"g",calories:165},{id:"p2",name:"Salmo",image:K("1f41f"),portion:"100g",mainNutrientAmount:20,mainNutrientUnit:"g",calories:208},{id:"p3",name:"Ovos",image:K("1f95a"),portion:"1 unidade (50g)",mainNutrientAmount:6,mainNutrientUnit:"g",calories:78},{id:"p4",name:"Iogurte Grego",image:K("1f963"),portion:"170g",mainNutrientAmount:17,mainNutrientUnit:"g",calories:100},{id:"p5",name:"Lentilhas",image:K("1f958"),portion:"100g (cozida)",mainNutrientAmount:9,mainNutrientUnit:"g",calories:116}]},fibers:{id:"fibers",title:"Alimentos Ricos em Fibra",type:oo.FIBER,description:"Fundamentais para a digesto e saciedade.",color:"bg-green-500",iconName:"Wheat",items:[{id:"f1",name:"Aveia",image:K("1f33e"),portion:"100g",mainNutrientAmount:10.6,mainNutrientUnit:"g",calories:389},{id:"f2",name:"Brcolis",image:K("1f966"),portion:"100g",mainNutrientAmount:2.6,mainNutrientUnit:"g",calories:34},{id:"f3",name:"Ma",image:K("1f34e"),portion:"1 unidade mdia",mainNutrientAmount:4.4,mainNutrientUnit:"g",calories:95},{id:"f4",name:"Feijo Preto",image:K("1fad8"),portion:"100g (cozido)",mainNutrientAmount:8.7,mainNutrientUnit:"g",calories:132},{id:"f5",name:"Amndoas",image:K("1f95c"),portion:"30g",mainNutrientAmount:3.5,mainNutrientUnit:"g",calories:170}]},carbs:{id:"carbs",title:"Carboidratos Complexos",type:oo.CARBS,description:"A principal fonte de energia para o seu corpo.",color:"bg-yellow-500",iconName:"Croissant",items:[{id:"c1",name:"Batata Doce",image:K("1f360"),portion:"100g",mainNutrientAmount:20,mainNutrientUnit:"g",calories:86},{id:"c2",name:"Arroz Integral",image:K("1f35a"),portion:"100g (cozido)",mainNutrientAmount:23,mainNutrientUnit:"g",calories:110},{id:"c3",name:"Banana",image:K("1f34c"),portion:"1 unidade mdia",mainNutrientAmount:27,mainNutrientUnit:"g",calories:105},{id:"c4",name:"Quinoa",image:K("1f957"),portion:"100g (cozida)",mainNutrientAmount:21,mainNutrientUnit:"g",calories:120}]},fats:{id:"fats",title:"Gorduras Boas",type:oo.FATS,description:"Importantes para a sade do crebro e hormnios.",color:"bg-orange-500",iconName:"Droplet",items:[{id:"g1",name:"Abacate",image:K("1f951"),portion:"100g",mainNutrientAmount:15,mainNutrientUnit:"g",calories:160},{id:"g2",name:"Azeite de Oliva",image:K("1fad2"),portion:"1 colher (13g)",mainNutrientAmount:13.5,mainNutrientUnit:"g",calories:119},{id:"g3",name:"Nozes",image:K("1f330"),portion:"30g",mainNutrientAmount:18,mainNutrientUnit:"g",calories:196},{id:"g4",name:"Sementes de Chia",image:K("1f331"),portion:"30g",mainNutrientAmount:9,mainNutrientUnit:"g",calories:146}]}},Kl={burn:{id:"burn",title:"Queimar Calorias",description:"Exerccios de alta intensidade para acelerar o metabolismo.",color:"from-orange-500 to-red-500",iconName:"Flame",items:[{id:"b1",name:"Burpees",image:K("1f3c3"),instructionMain:"3 sries de 10 reps",level:"Avanado",steps:["Comece em p.","Agache e coloque as mos no cho.","Jogue os ps para trs (posio de prancha).","Faa uma flexo (opcional).","Puxe os ps de volta e salte para cima."],safetyTip:"Mantenha o core firme para proteger a lombar durante o salto."},{id:"b2",name:"Polichinelos",image:K("1f938"),instructionMain:"3 sries de 45 segundos",level:"Iniciante",steps:["Fique em p com as pernas juntas.","Salte abrindo as pernas e elevando os braos acima da cabea.","Retorne  posio inicial.","Repita continuamente."],safetyTip:"Aterrisse suavemente nas pontas dos ps para reduzir o impacto."},{id:"b3",name:"Pular Corda",image:K("1f93e"),instructionMain:"5 minutos (intervalado)",level:"Intermedirio",steps:["Segure as manoplas na altura do quadril.","Gire os punhos para mover a corda.","Salte baixo, apenas o suficiente para a corda passar."],safetyTip:"Use tnis com bom amortecimento."},{id:"b4",name:"Mountain Climbers",image:K("1f9d7"),instructionMain:"4 sries de 30 segundos",level:"Intermedirio",steps:["Posio de prancha alta.","Traga um joelho em direo ao peito.","Troque as pernas rapidamente, como se estivesse correndo."],safetyTip:"No deixe o quadril subir muito, mantenha a linha da prancha."}]},flex:{id:"flex",title:"Flexibilidade",description:"Melhore sua mobilidade e previna leses.",color:"from-teal-400 to-emerald-500",iconName:"Activity",items:[{id:"fl1",name:"Alongamento Isquiotibiais",image:K("1f9d8"),instructionMain:"30 segundos cada perna",level:"Iniciante",steps:["Sente-se no cho com uma perna estendida.","Incline o tronco  frente tentando alcanar o p.","Mantenha as costas retas o mximo possvel."],safetyTip:"No force se sentir dor aguda, apenas uma tenso leve."},{id:"fl2",name:"Gato-Vaca",image:K("1f408"),instructionMain:"10 repeties lentas",level:"Iniciante",steps:["Fique em quatro apoios.","Inspire e arqueie a coluna olhando para cima (Vaca).","Expire e curve a coluna olhando para o umbigo (Gato)."],safetyTip:"Movimente-se junto com a respirao."}]},cardio:{id:"cardio",title:"Melhores Cardios",description:"Fortalea seu corao e resistncia.",color:"from-blue-400 to-indigo-500",iconName:"Heart",items:[{id:"ca1",name:"Corrida Estacionria",image:K("1f3c3"),instructionMain:"20 minutos",level:"Intermedirio",steps:["Corra sem sair do lugar.","Eleve bem os joelhos.","Mantenha o ritmo constante."],safetyTip:"Aquea bem antes de comear."},{id:"ca2",name:"Ciclismo",image:K("1f6b4"),instructionMain:"45 minutos",level:"Iniciante",steps:["Pedale em ritmo moderado.","Mantenha uma cadncia constante."],safetyTip:"Ajuste a altura do banco para no prejudicar os joelhos."}]}},YS={proteins:Ng,fibers:Ug,carbs:Ig,fats:bg},QS=()=>{const{user:t}=it(),e=t==null?void 0:t.isPro,n=mn();return A.useEffect(()=>{if(n.state&&n.state.scrollTo){const r=document.getElementById(n.state.scrollTo);r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth"})},100)}},[n]),h.jsxs("div",{className:"space-y-12 pb-12",children:[h.jsxs("section",{className:"relative py-24 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1490818387583-1baba5e638af?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center bg-fixed"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/90 via-green-50/60 to-orange-50/60 backdrop-blur-[1px]"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-nutriBg"}),h.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[h.jsxs("h1",{className:"font-header text-4xl sm:text-5xl md:text-6xl font-bold text-nutriText mb-6 leading-tight drop-shadow-sm",children:["Seu Guia para uma ",h.jsx("br",{}),h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-nutriGreen to-nutriOrange",children:"Alimentao Inteligente"})]}),h.jsx("p",{className:"font-sans text-lg text-gray-800 max-w-2xl mx-auto leading-relaxed font-medium bg-white/30 backdrop-blur-sm p-4 rounded-xl shadow-sm border border-white/20",children:"Descubra os superpoderes de cada alimento. Navegue por nutrientes essenciais e faa escolhas que transformam seu bem-estar, um prato de cada vez."})]}),h.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-green-400/20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 z-0"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-orange-400/20 rounded-full blur-3xl translate-x-1/2 translate-y-1/2 z-0"})]}),h.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-12 relative z-20",children:h.jsx(Rt,{to:"/bonus",className:"block group",children:h.jsxs("div",{className:"relative rounded-[2.5rem] bg-gradient-to-r from-orange-500 to-amber-500 shadow-2xl shadow-orange-200 overflow-hidden transition-transform duration-300 hover:-translate-y-2 hover:shadow-orange-300",children:[h.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),h.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-3xl translate-x-1/3 -translate-y-1/3"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-yellow-300/20 rounded-full blur-3xl -translate-x-1/4 translate-y-1/4"}),h.jsxs("div",{className:"relative z-10 px-8 py-10 md:px-12 md:py-12 flex flex-col md:flex-row items-center justify-between gap-8 text-white",children:[h.jsxs("div",{className:"flex items-center gap-6 md:gap-8 flex-1",children:[h.jsxs("div",{className:"relative flex-shrink-0",children:[h.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-white text-orange-600 rounded-3xl flex items-center justify-center shadow-lg group-hover:rotate-6 transition-transform duration-300",children:e?h.jsx(Rg,{className:"w-10 h-10 md:w-12 md:h-12"}):h.jsx(Lg,{className:"w-10 h-10 md:w-12 md:h-12 fill-orange-500"})}),!e&&h.jsx("div",{className:"absolute -top-3 -right-3 bg-white text-orange-600 text-[10px] font-bold px-3 py-1 rounded-full shadow-md animate-bounce border border-orange-100",children:"GRTIS"})]}),h.jsxs("div",{className:"flex flex-col text-center md:text-left",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3 mb-2 justify-center md:justify-start",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-header tracking-tight text-white drop-shadow-sm",children:"Treinos Bnus"}),!e&&h.jsxs("span",{className:"bg-white/20 backdrop-blur-md border border-white/30 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider flex items-center gap-1",children:[h.jsx(cc,{className:"w-3 h-3 fill-white"})," Amostra"]})]}),h.jsx("p",{className:"text-orange-50 text-lg max-w-lg font-medium leading-relaxed",children:e?"Acesso VIP liberado. Complemente sua nutrio com exerccios.":"No fique s na teoria. Desbloqueie sua energia agora!"})]})]}),h.jsx("div",{className:"flex-shrink-0 w-full md:w-auto",children:h.jsxs("button",{className:"w-full md:w-auto bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-orange-50 flex items-center justify-center gap-3 transition-all transform group-hover:scale-105",children:[e?"Ver Biblioteca":"Testar Agora",h.jsx(Fo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})})}),h.jsxs("section",{id:"categories",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800",children:"Guia de Alimentos"}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Classificados por macronutrientes"})]}),h.jsx("div",{className:"hidden sm:block h-px bg-gray-200 flex-grow ml-8"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Object.values(Wl).map(r=>h.jsx(BS,{id:r.id,title:r.title,description:r.description,colorClass:r.color,Icon:YS[r.id]},r.id))})]}),h.jsx("section",{id:"basics",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 scroll-mt-24",children:h.jsx(zS,{})}),h.jsx("section",{id:"plans",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 scroll-mt-24",children:h.jsx(JS,{})}),h.jsx(KS,{}),h.jsx("section",{id:"bmi",className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 scroll-mt-24",children:h.jsx(jS,{})}),h.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:h.jsx(HS,{})}),h.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16",children:h.jsxs("div",{className:"bg-white rounded-3xl p-8 sm:p-12 shadow-sm border border-gray-100 flex flex-col md:flex-row items-center gap-8",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-header text-2xl font-bold mb-4",children:"Por que focar em macronutrientes?"}),h.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Equilibrar Protenas, Carboidratos, Fibras e Gorduras  a chave para uma energia sustentvel e um corpo saudvel. No se trata de contar calorias obsessivamente, mas de nutrir seu corpo com qualidade."})]}),h.jsx("div",{className:"flex-1 flex justify-center",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl text-center",children:[h.jsx("span",{className:"block font-bold text-2xl text-nutriGreen mb-1",children:"100%"}),h.jsx("span",{className:"text-sm text-gray-500",children:"Natural"})]}),h.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl text-center",children:[h.jsx("span",{className:"block font-bold text-2xl text-nutriOrange",children:"20+"}),h.jsx("span",{className:"text-sm text-gray-500",children:"Alimentos"})]})]})})]})})]})},XS=({items:t,nutrientLabel:e})=>{const[n,r]=A.useState("name"),[o,i]=A.useState(!0),[s,a]=A.useState(""),u=A.useMemo(()=>{let f=t;if(s.trim()){const p=s.toLowerCase();f=f.filter(g=>g.name.toLowerCase().includes(p))}const m=[...f];return m.sort((p,g)=>{let y=0;return n==="name"?y=p.name.localeCompare(g.name):y=p.mainNutrientAmount-g.mainNutrientAmount,o?y:-y}),m},[t,n,o,s]),c=f=>{n===f?i(!o):(r(f),i(!0))};return h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[h.jsxs("div",{className:"relative w-full",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Kd,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 focus:border-nutriGreen transition-shadow shadow-sm",placeholder:"Buscar alimento (ex: Frango, Aveia)...",value:s,onChange:f=>a(f.target.value)}),s&&h.jsx("button",{onClick:()=>a(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h.jsx($r,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[h.jsxs("p",{className:"text-gray-500 font-medium text-sm",children:[u.length," ",u.length===1?"alimento encontrado":"alimentos encontrados"]}),h.jsxs("div",{className:"flex gap-2 w-full sm:w-auto overflow-x-auto pb-1 sm:pb-0",children:[h.jsxs("button",{onClick:()=>c("name"),className:`px-4 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors whitespace-nowrap ${n==="name"?"bg-nutriText text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Nome ",h.jsx(zd,{className:"w-3 h-3"})]}),h.jsxs("button",{onClick:()=>c("nutrient"),className:`px-4 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors whitespace-nowrap ${n==="nutrient"?"bg-nutriGreen text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e," ",h.jsx(zd,{className:"w-3 h-3"})]})]})]})]}),u.length>0?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(f=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 overflow-hidden flex flex-col group border border-transparent hover:border-gray-100",children:[h.jsx("div",{className:"relative h-40 bg-gray-50 flex items-center justify-center p-6 overflow-hidden",children:h.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-contain transform group-hover:scale-110 transition-transform duration-500 drop-shadow-sm"})}),h.jsxs("div",{className:"p-5 flex-grow flex flex-col gap-3",children:[h.jsx("div",{className:"mb-1",children:h.jsx("h3",{className:"font-header font-bold text-lg text-nutriText leading-tight group-hover:text-nutriGreen transition-colors",children:f.name})}),h.jsxs("div",{className:"flex justify-between items-start border-b border-gray-50 pb-3",children:[h.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Poro"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.portion})]}),h.jsxs("div",{className:"flex items-center justify-between pt-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"bg-green-50 p-1.5 rounded-md text-nutriGreen",children:h.jsx(Yx,{className:"w-4 h-4"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-gray-400",children:"Nutriente"}),h.jsxs("span",{className:"font-bold text-gray-800",children:[f.mainNutrientAmount,f.mainNutrientUnit]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"bg-orange-50 p-1.5 rounded-md text-nutriOrange",children:h.jsx(kg,{className:"w-4 h-4"})}),h.jsxs("div",{className:"flex flex-col text-right",children:[h.jsx("span",{className:"text-xs text-gray-400",children:"Calorias"}),h.jsx("span",{className:"font-bold text-gray-800",children:f.calories})]})]})]})]})]},f.id))}):h.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[h.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Kd,{className:"w-8 h-8 text-gray-400"})}),h.jsx("h3",{className:"text-gray-900 font-bold text-lg",children:"Nenhum alimento encontrado"}),h.jsx("p",{className:"text-gray-500",children:"Tente buscar por outro termo."})]})]})},yc=({onClose:t})=>{const e=gn();return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),h.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden border border-orange-100 animate-in fade-in zoom-in-95 duration-300",children:[h.jsx("div",{className:"absolute top-0 inset-x-0 h-32 bg-gradient-to-br from-orange-100 to-amber-50 z-0"}),t&&h.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-20 p-2 bg-white/50 hover:bg-white rounded-full transition-colors",children:h.jsx($r,{className:"w-5 h-5 text-gray-500"})}),h.jsxs("div",{className:"relative z-10 p-8 text-center pt-10",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-nutriOrange to-yellow-400 shadow-lg shadow-orange-200 mb-6",children:h.jsx(Dr,{className:"w-8 h-8 text-white"})}),h.jsx("h2",{className:"font-header text-3xl font-bold text-gray-800 mb-2",children:"Desbloqueie o Guia Completo!"}),h.jsxs("p",{className:"text-gray-600 mb-8",children:["Voc descobriu contedo exclusivo. Torne-se um membro ",h.jsx("span",{className:"font-bold text-nutriOrange",children:"NutriGuia Pro"})," e tenha acesso total para sempre."]}),h.jsx("div",{className:"bg-gray-50 rounded-2xl p-6 text-left mb-8 border border-gray-100",children:h.jsxs("ul",{className:"space-y-3",children:[h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-0.5 bg-green-100 p-1 rounded-full text-nutriGreen",children:h.jsx(Sr,{className:"w-3 h-3 stroke-[3]"})}),h.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Acesso vitalcio a todas as categorias"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-0.5 bg-green-100 p-1 rounded-full text-nutriGreen",children:h.jsx(Sr,{className:"w-3 h-3 stroke-[3]"})}),h.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Novos alimentos adicionados semanalmente"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-0.5 bg-green-100 p-1 rounded-full text-nutriGreen",children:h.jsx(Sr,{className:"w-3 h-3 stroke-[3]"})}),h.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Suporte prioritrio no NutriBot"})]})]})}),h.jsxs("button",{onClick:()=>e("/checkout"),className:"w-full bg-nutriText hover:bg-black text-white py-4 rounded-xl font-bold text-lg shadow-xl shadow-gray-200 flex items-center justify-center gap-2 transition-all hover:scale-[1.02]",children:[h.jsx(cc,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),"QUERO SER PRO - R$ 9,90 (nica vez)"]}),h.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Pagamento nico. Sem mensalidades."})]})]})]})},ZS={proteins:Ng,fibers:Ug,carbs:Ig,fats:bg},eT=()=>{const{id:t}=xg(),{user:e}=it();if(!t||!Wl[t])return h.jsx(lc,{to:"/",replace:!0});const n=Wl[t],r=ZS[n.id],o=t!=="proteins"&&!(e!=null&&e.isPro),i=()=>n.type;return h.jsxs("div",{className:"relative min-h-screen",children:[o&&h.jsx("div",{className:"absolute inset-0 z-50 overflow-hidden h-full",children:h.jsx(yc,{onClose:()=>window.history.back()})}),h.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 transition-all duration-500 ${o?"blur-md pointer-events-none opacity-50 select-none h-[80vh] overflow-hidden":""}`,children:[h.jsxs("div",{className:"mb-10 text-center sm:text-left",children:[h.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 mb-2",children:[h.jsx("div",{className:`p-2 rounded-lg ${n.color.replace("bg-","bg-opacity-10 text-").replace("bg-","bg-")}`,children:h.jsx(r,{className:`w-8 h-8 ${n.color.replace("bg-","text-")}`})}),h.jsx("h1",{className:"font-header text-3xl font-bold text-nutriText",children:n.title})]}),h.jsx("p",{className:"text-gray-600 max-w-2xl text-lg mt-2 ml-1",children:n.description})]}),h.jsx(XS,{items:n.items,nutrientLabel:i()})]})]})};var tT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nT,rT;function oT(){return{geminiUrl:nT,vertexUrl:rT}}function iT(t,e,n,r){var o,i;if(!(t!=null&&t.baseUrl)){const s=oT();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(i=s.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt{}function R(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const u=t[a];if(Array.isArray(n))for(let c=0;c<u.length;c++){const f=u[c];d(f,e.slice(i+1),n[c])}else for(const c of u)d(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const u=t[a];d(u[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>l(a,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function sT(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),i=r.split("."),s=new Set;let a=-1;for(let u=0;u<o.length;u++)if(o[u]==="*"){a=u;break}if(a!==-1&&i.length>a)for(let u=a;u<i.length;u++){const c=i[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}Yl(t,o,i,0,s)}}function Yl(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const u of a[s])Yl(u,e,n,r+1,o)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(c=>!c.startsWith("_")&&!o.has(c)),u={};for(const c of a)u[c]=s[c];for(const[c,f]of Object.entries(u)){const m=[];for(const p of n.slice(r))p==="*"?m.push(c):m.push(p);d(s,m,f)}for(const c of a)delete s[c]}}else{const s=t;i in s&&Yl(s[i],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(t){const e={},n=l(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=l(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function lT(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],cT(s)),e}function uT(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response"]);return s!=null&&d(e,["response"],dT(s)),e}function cT(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fT(s))),d(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function dT(t){const e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hT(s))),d(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function fT(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],wT(n)),e}function hT(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],xT(n)),e}function pT(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function mT(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function gT(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response"]);return s!=null&&d(e,["response"],yT(s)),e}function yT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&d(e,["documentName"],o),e}function ty(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response"]);return s!=null&&d(e,["response"],vT(s)),e}function vT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&d(e,["documentName"],o),e}function wT(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],vc(r));const o=l(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function xT(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],vc(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ef;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ef||(Ef={}));var Sf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sf||(Sf={}));var Tf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Tf||(Tf={}));var Xt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xt||(Xt={}));var Cf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Cf||(Cf={}));var Nf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Nf||(Nf={}));var Af;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Af||(Af={}));var If;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(If||(If={}));var bf;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bf||(bf={}));var kf;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(kf||(kf={}));var Rf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Rf||(Rf={}));var Pf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Pf||(Pf={}));var Mf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mf||(Mf={}));var Df;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Df||(Df={}));var Uf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Uf||(Uf={}));var Lf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lf||(Lf={}));var Of;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Of||(Of={}));var Ff;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ff||(Ff={}));var $f;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($f||($f={}));var vs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vs||(vs={}));var Vf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Vf||(Vf={}));var Gf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gf||(Gf={}));var Bf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bf||(Bf={}));var Ql;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ql||(Ql={}));var jf;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jf||(jf={}));var qf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qf||(qf={}));var Hf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Hf||(Hf={}));var zf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Jf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jf||(Jf={}));var Wf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wf||(Wf={}));var Kf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Kf||(Kf={}));var Yf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Yf||(Yf={}));var Qf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Qf||(Qf={}));var Xf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Xf||(Xf={}));var Zf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zf||(Zf={}));var eh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eh||(eh={}));var th;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(th||(th={}));var nh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nh||(nh={}));var rh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(rh||(rh={}));var oh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(oh||(oh={}));var ih;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ih||(ih={}));var sh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sh||(sh={}));var ah;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ah||(ah={}));var lh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(lh||(lh={}));var uh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(uh||(uh={}));var ch;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ch||(ch={}));var dh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(dh||(dh={}));var fh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(fh||(fh={}));var hh;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hh||(hh={}));var ph;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ph||(ph={}));var mh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mh||(mh={}));var gh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gh||(gh={}));var yh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yh||(yh={}));var vh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vh||(vh={}));var wh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wh||(wh={}));var mr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(mr||(mr={}));class Xl{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qr{get text(){var e,n,r,o,i,s,a,u;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const p of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[g,y]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,c+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,o,i,s,a,u;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,o,i,s,a,u;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,o,i,s,a,u,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,o,i,s,a,u,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class xh{}class _h{}class _T{}class ET{}class ST{}class TT{}class Eh{}class Sh{}class Th{}class CT{}class ws{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ws;let o;const i=e;return n?o=uT(i):o=lT(i),Object.assign(r,o),r}}class Ch{}class Nh{}class Ah{}class Ih{}class NT{}class AT{}class IT{}class wc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wc,i=gT(e);return Object.assign(r,i),r}}class bT{}class kT{}class RT{}class bh{}class PT{get text(){var e,n,r;let o="",i=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="text"&&u!=="thought"&&c!==null&&s.push(u);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,o+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,n,r;let o="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,u]of Object.entries(s))a!=="inlineData"&&u!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class MT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xc,i=ty(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ny(t,e){const n=q(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ry(t){return Array.isArray(t)?t.map(e=>xs(e)):[xs(t)]}function xs(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function oy(t){const e=xs(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iy(t){const e=xs(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kh(e)):[kh(t)]}function Zl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Rh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ph(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ne(t){if(t==null)throw new Error("ContentUnion is required");return Zl(t)?t:{role:"user",parts:sy(t)}}function _c(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ne(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ne(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ne(n)):[Ne(e)]}function tt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Rh(t)||Ph(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ne(t)]}const e=[],n=[],r=Zl(t[0]);for(const o of t){const i=Zl(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(o);else{if(Rh(o)||Ph(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:sy(n)}),e}function DT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Xt).includes(n[0].toUpperCase())?n[0].toUpperCase():Xt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Xt).includes(r.toUpperCase())?r.toUpperCase():Xt.TYPE_UNSPECIFIED})}}function Cr(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&DT(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Xt).includes(a.toUpperCase())?a.toUpperCase():Xt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Cr(a);else if(r.includes(s)){const u=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}u.push(Cr(c))}e[s]=u}else if(o.includes(s)){const u={};for(const[c,f]of Object.entries(a))u[c]=Cr(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Ec(t){return Cr(t)}function Sc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Tc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Vr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cr(e.response));return t}function Gr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function UT(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Gt(t,e){if(typeof e!="string")throw new Error("name must be a string");return UT(t,e,"cachedContents")}function ay(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yn(t){return vc(t)}function LT(t){return t!=null&&typeof t=="object"&&"name"in t}function OT(t){return t!=null&&typeof t=="object"&&"video"in t}function FT(t){return t!=null&&typeof t=="object"&&"uri"in t}function ly(t){var e;let n;if(LT(t)&&(n=t.name),!(FT(t)&&(n=t.uri,n===void 0))&&!(OT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function uy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function cy(t){for(const e of["models","tunedModels","publisherModels"])if($T(t,e))return t[e];return[]}function $T(t,e){return t!==null&&typeof t=="object"&&e in t}function VT(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function GT(t,e={}){const n=[],r=new Set;for(const o of t){const i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=VT(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function dy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function BT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fy(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let i=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Br(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(t){const e={},n=l(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>SC(s))),d(e,["inlinedResponses"],i)}const o=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["inlinedEmbedContentResponses"],i)}return e}function qT(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const o=l(t,["bigqueryDestination","outputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function HT(t){const e={},n=l(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const o=l(t,["bigqueryUri"]);if(o!=null&&d(e,["bigqueryDestination","outputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vi(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const o=l(t,["metadata","state"]);o!=null&&d(e,["state"],hy(o));const i=l(t,["metadata","createTime"]);i!=null&&d(e,["createTime"],i);const s=l(t,["metadata","endTime"]);s!=null&&d(e,["endTime"],s);const a=l(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const u=l(t,["metadata","model"]);u!=null&&d(e,["model"],u);const c=l(t,["metadata","output"]);return c!=null&&d(e,["dest"],jT(fy(c))),e}function eu(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const o=l(t,["state"]);o!=null&&d(e,["state"],hy(o));const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=l(t,["startTime"]);a!=null&&d(e,["startTime"],a);const u=l(t,["endTime"]);u!=null&&d(e,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const f=l(t,["model"]);f!=null&&d(e,["model"],f);const m=l(t,["inputConfig"]);m!=null&&d(e,["src"],zT(m));const p=l(t,["outputConfig"]);p!=null&&d(e,["dest"],qT(fy(p)));const g=l(t,["completionStats"]);return g!=null&&d(e,["completionStats"],g),e}function zT(t){const e={},n=l(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const o=l(t,["bigquerySource","inputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function JT(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&d(n,["fileName"],r);const o=l(e,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>EC(t,s))),d(n,["requests","requests"],i)}return n}function WT(t){const e={},n=l(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const o=l(t,["bigqueryUri"]);if(o!=null&&d(e,["bigquerySource","inputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function KT(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function YT(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function QT(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function XT(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],ZT(r));const o=l(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const i=l(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const s=l(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&d(e,["index"],u);const c=l(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const f=l(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["safetyRatings"],p)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function ZT(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),d(e,["citations"],r)}return e}function py(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>kC(i))),d(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function eC(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tC(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const o=l(t,["dest"]);return e!==void 0&&o!=null&&d(e,["outputConfig"],HT(BT(o))),n}function Mh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["src"]);o!=null&&d(n,["batch","inputConfig"],JT(t,dy(t,o)));const i=l(e,["config"]);return i!=null&&eC(i,n),n}function nC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],q(t,r));const o=l(e,["src"]);o!=null&&d(n,["inputConfig"],WT(dy(t,o)));const i=l(e,["config"]);return i!=null&&tC(i,n),n}function rC(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function oC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["src"]);o!=null&&d(n,["batch","inputConfig"],dC(t,o));const i=l(e,["config"]);return i!=null&&rC(i,n),n}function iC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function sC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function aC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);return i!=null&&d(e,["error"],i),e}function lC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);return i!=null&&d(e,["error"],i),e}function uC(t,e){const n={},r=l(e,["contents"]);if(r!=null){let i=_c(t,r);Array.isArray(i)&&(i=i.map(s=>s)),d(n,["requests[]","request","content"],i)}const o=l(e,["config"]);return o!=null&&(d(n,["_self"],cC(o,n)),sT(n,{"requests[].*":"requests[].request.*"})),n}function cC(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dC(t,e){const n={},r=l(e,["fileName"]);r!=null&&d(n,["file_name"],r);const o=l(e,["inlinedRequests"]);return o!=null&&d(n,["requests"],uC(t,o)),n}function fC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function hC(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const o=l(t,["name"]);if(o!=null&&d(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pC(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mC(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],py(Ne(o)));const i=l(e,["temperature"]);i!=null&&d(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&d(r,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const y=l(e,["frequencyPenalty"]);y!=null&&d(r,["frequencyPenalty"],y);const _=l(e,["seed"]);_!=null&&d(r,["seed"],_);const E=l(e,["responseMimeType"]);E!=null&&d(r,["responseMimeType"],E);const v=l(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Ec(v));const w=l(e,["responseJsonSchema"]);if(w!=null&&d(r,["responseJsonSchema"],w),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let J=x;Array.isArray(J)&&(J=J.map(Ve=>RC(Ve))),d(n,["safetySettings"],J)}const S=l(e,["tools"]);if(n!==void 0&&S!=null){let J=Gr(S);Array.isArray(J)&&(J=J.map(Ve=>MC(Vr(Ve)))),d(n,["tools"],J)}const T=l(e,["toolConfig"]);if(n!==void 0&&T!=null&&d(n,["toolConfig"],PC(T)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=l(e,["cachedContent"]);n!==void 0&&C!=null&&d(n,["cachedContent"],Gt(t,C));const N=l(e,["responseModalities"]);N!=null&&d(r,["responseModalities"],N);const b=l(e,["mediaResolution"]);b!=null&&d(r,["mediaResolution"],b);const k=l(e,["speechConfig"]);if(k!=null&&d(r,["speechConfig"],Sc(k)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=l(e,["thinkingConfig"]);M!=null&&d(r,["thinkingConfig"],M);const H=l(e,["imageConfig"]);H!=null&&d(r,["imageConfig"],_C(H));const De=l(e,["enableEnhancedCivicAnswers"]);return De!=null&&d(r,["enableEnhancedCivicAnswers"],De),r}function gC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>XT(c))),d(e,["candidates"],u)}const o=l(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const i=l(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const s=l(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function yC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function vC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Br(t,r)),n}function wC(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function xC(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function _C(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function EC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["request","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let a=tt(o);Array.isArray(a)&&(a=a.map(u=>py(u))),d(n,["request","contents"],a)}const i=l(e,["metadata"]);i!=null&&d(n,["metadata"],i);const s=l(e,["config"]);return s!=null&&d(n,["request","generationConfig"],mC(t,s,l(n,["request"],{}))),n}function SC(t){const e={},n=l(t,["response"]);n!=null&&d(e,["response"],gC(n));const r=l(t,["error"]);return r!=null&&d(e,["error"],r),e}function TC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);if(e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function CC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const i=l(t,["filter"]);return e!==void 0&&i!=null&&d(e,["_query","filter"],i),n}function NC(t){const e={},n=l(t,["config"]);return n!=null&&TC(n,e),e}function AC(t){const e={},n=l(t,["config"]);return n!=null&&CC(n,e),e}function IC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Vi(s))),d(e,["batchJobs"],i)}return e}function bC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>eu(s))),d(e,["batchJobs"],i)}return e}function kC(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&d(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&d(e,["fileData"],fC(i));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],hC(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],KT(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&d(e,["videoMetadata"],p),e}function RC(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function PC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],pC(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function MC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&d(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],wC(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],xC(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Lt||(Lt={}));class qn{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qn(Lt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Mh(this.apiClient,e),r=n._url,o=R("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,u=a.requests,c=[];for(const f of u){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=p,m.request=g}c.push(m)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(s)r.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=nC(this.apiClient,e);return a=R("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>eu(f))}else{const c=Mh(this.apiClient,e);return a=R("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}}async createEmbeddingsInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=oC(this.apiClient,e);return i=R("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>Vi(u))}}async get(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=vC(this.apiClient,e);return a=R("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>eu(f))}else{const c=yC(this.apiClient,e);return a=R("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}}async cancel(e){var n,r,o,i;let s="",a={};if(this.apiClient.isVertexAI()){const u=QT(this.apiClient,e);s=R("batchPredictionJobs/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=YT(this.apiClient,e);s=R("batches/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=AC(e);return a=R("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=bC(f),p=new bh;return Object.assign(p,m),p})}else{const c=NC(e);return a=R("batches",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=IC(f),p=new bh;return Object.assign(p,m),p})}}async delete(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=sC(this.apiClient,e);return a=R("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>lC(f))}else{const c=iC(this.apiClient,e);return a=R("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>aC(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Dh(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>o1(i))),d(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function LC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const i=l(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let f=tt(s);Array.isArray(f)&&(f=f.map(m=>Dh(m))),d(e,["contents"],f)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Dh(Ne(a)));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>s1(m))),d(e,["tools"],f)}const c=l(t,["toolConfig"]);if(e!==void 0&&c!=null&&d(e,["toolConfig"],i1(c)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function OC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const i=l(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let m=tt(s);Array.isArray(m)&&(m=m.map(p=>p)),d(e,["contents"],m)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Ne(a));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>a1(p))),d(e,["tools"],m)}const c=l(t,["toolConfig"]);e!==void 0&&c!=null&&d(e,["toolConfig"],c);const f=l(t,["kmsKeyName"]);return e!==void 0&&f!=null&&d(e,["encryption_spec","kmsKeyName"],f),n}function FC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],ny(t,r));const o=l(e,["config"]);return o!=null&&LC(o,n),n}function $C(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],ny(t,r));const o=l(e,["config"]);return o!=null&&OC(o,n),n}function VC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Gt(t,r)),n}function GC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Gt(t,r)),n}function BC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function jC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function qC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function HC(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const o=l(t,["name"]);if(o!=null&&d(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zC(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function JC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const o=l(t,["parameters"]);o!=null&&d(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function WC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Gt(t,r)),n}function KC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Gt(t,r)),n}function YC(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function QC(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function XC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function ZC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function e1(t){const e={},n=l(t,["config"]);return n!=null&&XC(n,e),e}function t1(t){const e={},n=l(t,["config"]);return n!=null&&ZC(n,e),e}function n1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["cachedContents"],i)}return e}function r1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["cachedContents"],i)}return e}function o1(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&d(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&d(e,["fileData"],qC(i));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],HC(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],UC(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&d(e,["videoMetadata"],p),e}function i1(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],zC(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function s1(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&d(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],YC(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],QC(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function a1(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>JC(p))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function l1(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function u1(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function c1(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Gt(t,r));const o=l(e,["config"]);return o!=null&&l1(o,n),n}function d1(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Gt(t,r));const o=l(e,["config"]);return o!=null&&u1(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1 extends Vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qn(Lt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=$C(this.apiClient,e);return a=R("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=FC(this.apiClient,e);return a=R("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=KC(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=WC(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=GC(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=jC(f),p=new Ah;return Object.assign(p,m),p})}else{const c=VC(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=BC(f),p=new Ah;return Object.assign(p,m),p})}}async update(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=d1(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=c1(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=t1(e);return a=R("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=r1(f),p=new Ih;return Object.assign(p,m),p})}else{const c=e1(e);return a=R("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=n1(f),p=new Ih;return Object.assign(p,m),p})}}}function _s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Uh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(t){return this instanceof $?(this.v=t,this):new $(t)}function mt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(y){return Promise.resolve(y).then(g,m)}}function a(g,y){r[g]&&(o[g]=function(_){return new Promise(function(E,v){i.push([g,_,E,v])>1||u(g,_)})},y&&(o[g]=y(o[g])))}function u(g,y){try{c(r[g](y))}catch(_){p(i[0][3],_)}}function c(g){g.value instanceof $?Promise.resolve(g.value.v).then(f,m):p(i[0][2],g)}function f(g){u("next",g)}function m(g){u("throw",g)}function p(g,y){g(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function gt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Uh=="function"?Uh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,u){s=t[i](s),o(a,u,s.done,s.value)})}}function o(i,s,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:my(n)}function my(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function p1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Lh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let i=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),i&&!my(t[r])&&(i=!1),r++;i?e.push(...o):e.pop()}return e}class m1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new g1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class g1{constructor(e,n,r,o={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),p1(i)}async sendMessage(e){var n;await this.sendPromise;const r=Ne(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,a;const u=await o,c=(s=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(a=f.slice(m))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(r,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=Ne(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?Lh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return mt(this,arguments,function*(){var o,i,s,a,u,c;const f=[];try{for(var m=!0,p=gt(e),g;g=yield $(p.next()),o=g.done,!o;m=!0){a=g.value,m=!1;const y=a;if(h1(y)){const _=(c=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content;_!==void 0&&f.push(_)}yield yield $(y)}}catch(y){i={error:y}}finally{try{!m&&!o&&(s=p.return)&&(yield $(s.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Lh(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,zs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y1(t){const e={},n=l(t,["file"]);return n!=null&&d(e,["file"],n),e}function v1(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function w1(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],ly(n)),e}function x1(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function _1(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],ly(n)),e}function E1(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function S1(t){const e={},n=l(t,["config"]);return n!=null&&E1(n,e),e}function T1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C1 extends Vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qn(Lt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=S1(e);return i=R("files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const c=T1(u),f=new bT;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=y1(e);return i=R("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=v1(u),f=new kT;return Object.assign(f,c),f})}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_1(e);return i=R("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=w1(e);return i=R("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const c=x1(u),f=new RT;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gi(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function N1(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>B1(i))),d(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function A1(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function I1(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const o=l(t,["name"]);if(o!=null&&d(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b1(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const o=l(t,["parameters"]);o!=null&&d(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function k1(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const o=l(t,["audioTimestamp"]);o!=null&&d(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const s=l(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&d(e,["logprobs"],u);const c=l(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const f=l(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const p=l(t,["responseLogprobs"]);p!=null&&d(e,["responseLogprobs"],p);const g=l(t,["responseMimeType"]);g!=null&&d(e,["responseMimeType"],g);const y=l(t,["responseModalities"]);y!=null&&d(e,["responseModalities"],y);const _=l(t,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const E=l(t,["routingConfig"]);E!=null&&d(e,["routingConfig"],E);const v=l(t,["seed"]);v!=null&&d(e,["seed"],v);const w=l(t,["speechConfig"]);w!=null&&d(e,["speechConfig"],w);const x=l(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const S=l(t,["temperature"]);S!=null&&d(e,["temperature"],S);const T=l(t,["thinkingConfig"]);T!=null&&d(e,["thinkingConfig"],T);const C=l(t,["topK"]);C!=null&&d(e,["topK"],C);const N=l(t,["topP"]);if(N!=null&&d(e,["topP"],N),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function R1(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function P1(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function M1(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Tc(m));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","thinkingConfig"],p);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(t,["systemInstruction"]);e!==void 0&&y!=null&&d(e,["setup","systemInstruction"],N1(Ne(y)));const _=l(t,["tools"]);if(e!==void 0&&_!=null){let C=Gr(_);Array.isArray(C)&&(C=C.map(N=>q1(Vr(N)))),d(e,["setup","tools"],C)}const E=l(t,["sessionResumption"]);e!==void 0&&E!=null&&d(e,["setup","sessionResumption"],j1(E));const v=l(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=l(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const T=l(t,["proactivity"]);if(e!==void 0&&T!=null&&d(e,["setup","proactivity"],T),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function D1(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],k1(r));const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Tc(m));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","thinkingConfig"],p);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(t,["systemInstruction"]);e!==void 0&&y!=null&&d(e,["setup","systemInstruction"],Ne(y));const _=l(t,["tools"]);if(e!==void 0&&_!=null){let N=Gr(_);Array.isArray(N)&&(N=N.map(b=>H1(Vr(b)))),d(e,["setup","tools"],N)}const E=l(t,["sessionResumption"]);e!==void 0&&E!=null&&d(e,["setup","sessionResumption"],E);const v=l(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=l(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const T=l(t,["proactivity"]);e!==void 0&&T!=null&&d(e,["setup","proactivity"],T);const C=l(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&d(e,["setup","explicitVadSignal"],C),n}function U1(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],q(t,r));const o=l(e,["config"]);return o!=null&&d(n,["config"],M1(o,n)),n}function L1(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],q(t,r));const o=l(e,["config"]);return o!=null&&d(n,["config"],D1(o,n)),n}function O1(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function F1(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),d(e,["weightedPrompts"],r)}return e}function $1(t){const e={},n=l(t,["media"]);if(n!=null){let c=ry(n);Array.isArray(c)&&(c=c.map(f=>Gi(f))),d(e,["mediaChunks"],c)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],Gi(iy(r)));const o=l(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const i=l(t,["video"]);i!=null&&d(e,["video"],Gi(oy(i)));const s=l(t,["text"]);s!=null&&d(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&d(e,["activityEnd"],u),e}function V1(t){const e={},n=l(t,["media"]);if(n!=null){let c=ry(n);Array.isArray(c)&&(c=c.map(f=>f)),d(e,["mediaChunks"],c)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],iy(r));const o=l(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const i=l(t,["video"]);i!=null&&d(e,["video"],oy(i));const s=l(t,["text"]);s!=null&&d(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&d(e,["activityEnd"],u),e}function G1(t){const e={},n=l(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=l(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const o=l(t,["toolCall"]);o!=null&&d(e,["toolCall"],o);const i=l(t,["toolCallCancellation"]);i!=null&&d(e,["toolCallCancellation"],i);const s=l(t,["usageMetadata"]);s!=null&&d(e,["usageMetadata"],z1(s));const a=l(t,["goAway"]);a!=null&&d(e,["goAway"],a);const u=l(t,["sessionResumptionUpdate"]);u!=null&&d(e,["sessionResumptionUpdate"],u);const c=l(t,["voiceActivityDetectionSignal"]);return c!=null&&d(e,["voiceActivityDetectionSignal"],c),e}function B1(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&d(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&d(e,["fileData"],A1(i));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],I1(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],Gi(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&d(e,["videoMetadata"],p),e}function j1(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q1(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&d(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],R1(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],P1(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function H1(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>b1(p))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function z1(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const o=l(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const i=l(t,["toolUsePromptTokenCount"]);i!=null&&d(e,["toolUsePromptTokenCount"],i);const s=l(t,["thoughtsTokenCount"]);s!=null&&d(e,["thoughtsTokenCount"],s);const a=l(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const u=l(t,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["promptTokensDetails"],g)}const c=l(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["cacheTokensDetails"],g)}const f=l(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["responseTokensDetails"],g)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["toolUsePromptTokensDetails"],g)}const p=l(t,["trafficType"]);return p!=null&&d(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J1(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function W1(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],K1(r));const o=l(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const i=l(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const s=l(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&d(e,["index"],u);const c=l(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const f=l(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["safetyRatings"],p)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function K1(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),d(e,["citations"],r)}return e}function Y1(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let i=tt(o);Array.isArray(i)&&(i=i.map(s=>s)),d(n,["contents"],i)}return n}function Q1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),d(e,["tokensInfo"],o)}return e}function X1(t){const e={},n=l(t,["values"]);n!=null&&d(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&d(e,["statistics"],Z1(r)),e}function Z1(t){const e={},n=l(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function Js(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>lA(i))),d(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function eN(t){const e={},n=l(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function tN(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nN(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],Ne(r));const o=l(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>wy(a))),d(e,["tools"],s)}const i=l(t,["generationConfig"]);return e!==void 0&&i!=null&&d(e,["generationConfig"],JN(i)),n}function rN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let s=tt(o);Array.isArray(s)&&(s=s.map(a=>Js(a))),d(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&tN(i),n}function oN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let s=tt(o);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&nN(i,n),n}function iN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const o=l(t,["cachedContentTokenCount"]);return o!=null&&d(e,["cachedContentTokenCount"],o),e}function sN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function aN(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],q(t,r)),n}function lN(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],q(t,r)),n}function uN(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function cN(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function dN(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&d(e,["parameters","seed"],u);const c=l(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const g=l(t,["language"]);e!==void 0&&g!=null&&d(e,["parameters","language"],g);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const _=l(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const E=l(t,["addWatermark"]);e!==void 0&&E!=null&&d(e,["parameters","addWatermark"],E);const v=l(t,["labels"]);e!==void 0&&v!=null&&d(e,["labels"],v);const w=l(t,["editMode"]);e!==void 0&&w!=null&&d(e,["parameters","editMode"],w);const x=l(t,["baseSteps"]);return e!==void 0&&x!=null&&d(e,["parameters","editConfig","baseSteps"],x),n}function fN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=l(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>pA(u))),d(n,["instances[0]","referenceImages"],a)}const s=l(e,["config"]);return s!=null&&dN(s,n),n}function hN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ws(i))),d(e,["generatedImages"],o)}return e}function pN(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mN(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const i=l(t,["outputDimensionality"]);e!==void 0&&i!=null&&d(e,["parameters","outputDimensionality"],i);const s=l(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["instances[]","mimeType"],s);const a=l(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function gN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let a=_c(t,o);Array.isArray(a)&&(a=a.map(u=>u)),d(n,["requests[]","content"],a)}const i=l(e,["config"]);i!=null&&pN(i,n);const s=l(e,["model"]);return s!==void 0&&d(n,["requests[]","model"],q(t,s)),n}function yN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let s=_c(t,o);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["instances[]","content"],s)}const i=l(e,["config"]);return i!=null&&mN(i,n),n}function vN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["embeddings"],i)}const o=l(t,["metadata"]);return o!=null&&d(e,["metadata"],o),e}function wN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>X1(s))),d(e,["embeddings"],i)}const o=l(t,["metadata"]);return o!=null&&d(e,["metadata"],o),e}function xN(t){const e={},n=l(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function _N(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function EN(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const o=l(t,["name"]);if(o!=null&&d(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SN(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function TN(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const o=l(t,["parameters"]);o!=null&&d(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function CN(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Js(Ne(o)));const i=l(e,["temperature"]);i!=null&&d(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&d(r,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const y=l(e,["frequencyPenalty"]);y!=null&&d(r,["frequencyPenalty"],y);const _=l(e,["seed"]);_!=null&&d(r,["seed"],_);const E=l(e,["responseMimeType"]);E!=null&&d(r,["responseMimeType"],E);const v=l(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Ec(v));const w=l(e,["responseJsonSchema"]);if(w!=null&&d(r,["responseJsonSchema"],w),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let J=x;Array.isArray(J)&&(J=J.map(Ve=>mA(Ve))),d(n,["safetySettings"],J)}const S=l(e,["tools"]);if(n!==void 0&&S!=null){let J=Gr(S);Array.isArray(J)&&(J=J.map(Ve=>EA(Vr(Ve)))),d(n,["tools"],J)}const T=l(e,["toolConfig"]);if(n!==void 0&&T!=null&&d(n,["toolConfig"],_A(T)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=l(e,["cachedContent"]);n!==void 0&&C!=null&&d(n,["cachedContent"],Gt(t,C));const N=l(e,["responseModalities"]);N!=null&&d(r,["responseModalities"],N);const b=l(e,["mediaResolution"]);b!=null&&d(r,["mediaResolution"],b);const k=l(e,["speechConfig"]);if(k!=null&&d(r,["speechConfig"],Sc(k)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=l(e,["thinkingConfig"]);M!=null&&d(r,["thinkingConfig"],M);const H=l(e,["imageConfig"]);H!=null&&d(r,["imageConfig"],XN(H));const De=l(e,["enableEnhancedCivicAnswers"]);return De!=null&&d(r,["enableEnhancedCivicAnswers"],De),r}function NN(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Ne(o));const i=l(e,["temperature"]);i!=null&&d(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&d(r,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const y=l(e,["frequencyPenalty"]);y!=null&&d(r,["frequencyPenalty"],y);const _=l(e,["seed"]);_!=null&&d(r,["seed"],_);const E=l(e,["responseMimeType"]);E!=null&&d(r,["responseMimeType"],E);const v=l(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Ec(v));const w=l(e,["responseJsonSchema"]);w!=null&&d(r,["responseJsonSchema"],w);const x=l(e,["routingConfig"]);x!=null&&d(r,["routingConfig"],x);const S=l(e,["modelSelectionConfig"]);S!=null&&d(r,["modelConfig"],S);const T=l(e,["safetySettings"]);if(n!==void 0&&T!=null){let Ge=T;Array.isArray(Ge)&&(Ge=Ge.map(vn=>vn)),d(n,["safetySettings"],Ge)}const C=l(e,["tools"]);if(n!==void 0&&C!=null){let Ge=Gr(C);Array.isArray(Ge)&&(Ge=Ge.map(vn=>wy(Vr(vn)))),d(n,["tools"],Ge)}const N=l(e,["toolConfig"]);n!==void 0&&N!=null&&d(n,["toolConfig"],N);const b=l(e,["labels"]);n!==void 0&&b!=null&&d(n,["labels"],b);const k=l(e,["cachedContent"]);n!==void 0&&k!=null&&d(n,["cachedContent"],Gt(t,k));const M=l(e,["responseModalities"]);M!=null&&d(r,["responseModalities"],M);const H=l(e,["mediaResolution"]);H!=null&&d(r,["mediaResolution"],H);const De=l(e,["speechConfig"]);De!=null&&d(r,["speechConfig"],Sc(De));const J=l(e,["audioTimestamp"]);J!=null&&d(r,["audioTimestamp"],J);const Ve=l(e,["thinkingConfig"]);Ve!=null&&d(r,["thinkingConfig"],Ve);const Qo=l(e,["imageConfig"]);if(Qo!=null&&d(r,["imageConfig"],ZN(Qo)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Oh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let s=tt(o);Array.isArray(s)&&(s=s.map(a=>Js(a))),d(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&d(n,["generationConfig"],CN(t,i,n)),n}function Fh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["contents"]);if(o!=null){let s=tt(o);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&d(n,["generationConfig"],NN(t,i,n)),n}function $h(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>W1(c))),d(e,["candidates"],u)}const o=l(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const i=l(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const s=l(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Vh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["candidates"],c)}const o=l(t,["createTime"]);o!=null&&d(e,["createTime"],o);const i=l(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const s=l(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const a=l(t,["responseId"]);a!=null&&d(e,["responseId"],a);const u=l(t,["usageMetadata"]);return u!=null&&d(e,["usageMetadata"],u),e}function AN(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const i=l(t,["guidanceScale"]);if(e!==void 0&&i!=null&&d(e,["parameters","guidanceScale"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=l(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const u=l(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&d(e,["parameters","includeSafetyAttributes"],u);const c=l(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const f=l(t,["language"]);e!==void 0&&f!=null&&d(e,["parameters","language"],f);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","mimeType"],m);const p=l(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&d(e,["parameters","outputOptions","compressionQuality"],p),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=l(t,["imageSize"]);if(e!==void 0&&g!=null&&d(e,["parameters","sampleImageSize"],g),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function IN(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&d(e,["parameters","seed"],u);const c=l(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const g=l(t,["language"]);e!==void 0&&g!=null&&d(e,["parameters","language"],g);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const _=l(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const E=l(t,["addWatermark"]);e!==void 0&&E!=null&&d(e,["parameters","addWatermark"],E);const v=l(t,["labels"]);e!==void 0&&v!=null&&d(e,["labels"],v);const w=l(t,["imageSize"]);e!==void 0&&w!=null&&d(e,["parameters","sampleImageSize"],w);const x=l(t,["enhancePrompt"]);return e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x),n}function bN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&AN(i,n),n}function kN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&IN(i,n),n}function RN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>jN(s))),d(e,["generatedImages"],i)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&d(e,["positivePromptSafetyAttributes"],yy(o)),e}function PN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ws(s))),d(e,["generatedImages"],i)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&d(e,["positivePromptSafetyAttributes"],vy(o)),e}function MN(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const s=l(t,["resolution"]);e!==void 0&&s!=null&&d(e,["parameters","resolution"],s);const a=l(t,["personGeneration"]);if(e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const c=l(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&d(e,["parameters","enhancePrompt"],c),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=l(t,["lastFrame"]);e!==void 0&&f!=null&&d(e,["instances[0]","lastFrame"],Ks(f));const m=l(t,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>UA(g))),d(e,["instances[0]","referenceImages"],p)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function DN(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const i=l(t,["fps"]);e!==void 0&&i!=null&&d(e,["parameters","fps"],i);const s=l(t,["durationSeconds"]);e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s);const a=l(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=l(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["pubsubTopic"]);e!==void 0&&m!=null&&d(e,["parameters","pubsubTopic"],m);const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&d(e,["parameters","negativePrompt"],p);const g=l(t,["enhancePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g);const y=l(t,["generateAudio"]);e!==void 0&&y!=null&&d(e,["parameters","generateAudio"],y);const _=l(t,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],vt(_));const E=l(t,["referenceImages"]);if(e!==void 0&&E!=null){let x=E;Array.isArray(x)&&(x=x.map(S=>LA(S))),d(e,["instances[0]","referenceImages"],x)}const v=l(t,["mask"]);e!==void 0&&v!=null&&d(e,["instances[0]","mask"],DA(v));const w=l(t,["compressionQuality"]);return e!==void 0&&w!=null&&d(e,["parameters","compressionQuality"],w),n}function UN(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],$N(s)),e}function LN(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response"]);return s!=null&&d(e,["response"],VN(s)),e}function ON(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&d(n,["instances[0]","image"],Ks(i));const s=l(e,["video"]);s!=null&&d(n,["instances[0]","video"],xy(s));const a=l(e,["source"]);a!=null&&GN(a,n);const u=l(e,["config"]);return u!=null&&MN(u,n),n}function FN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&d(n,["instances[0]","image"],vt(i));const s=l(e,["video"]);s!=null&&d(n,["instances[0]","video"],_y(s));const a=l(e,["source"]);a!=null&&BN(a,n);const u=l(e,["config"]);return u!=null&&DN(u,n),n}function $N(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HN(s))),d(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function VN(t){const e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zN(s))),d(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function GN(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&d(e,["instances[0]","image"],Ks(o));const i=l(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],xy(i)),n}function BN(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&d(e,["instances[0]","image"],vt(o));const i=l(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],_y(i)),n}function jN(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],eA(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const o=l(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],yy(o)),e}function Ws(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],gy(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const o=l(t,["_self"]);o!=null&&d(e,["safetyAttributes"],vy(o));const i=l(t,["prompt"]);return i!=null&&d(e,["enhancedPrompt"],i),e}function qN(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["mask"],gy(n));const r=l(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),d(e,["labels"],o)}return e}function HN(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],PA(n)),e}function zN(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],MA(n)),e}function JN(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const o=l(t,["audioTimestamp"]);o!=null&&d(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const s=l(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&d(e,["logprobs"],u);const c=l(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const f=l(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const p=l(t,["responseLogprobs"]);p!=null&&d(e,["responseLogprobs"],p);const g=l(t,["responseMimeType"]);g!=null&&d(e,["responseMimeType"],g);const y=l(t,["responseModalities"]);y!=null&&d(e,["responseModalities"],y);const _=l(t,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const E=l(t,["routingConfig"]);E!=null&&d(e,["routingConfig"],E);const v=l(t,["seed"]);v!=null&&d(e,["seed"],v);const w=l(t,["speechConfig"]);w!=null&&d(e,["speechConfig"],w);const x=l(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const S=l(t,["temperature"]);S!=null&&d(e,["temperature"],S);const T=l(t,["thinkingConfig"]);T!=null&&d(e,["thinkingConfig"],T);const C=l(t,["topK"]);C!=null&&d(e,["topK"],C);const N=l(t,["topP"]);if(N!=null&&d(e,["topP"],N),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function WN(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],q(t,r)),n}function KN(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],q(t,r)),n}function YN(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function QN(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function XN(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ZN(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const o=l(t,["outputMimeType"]);o!=null&&d(e,["imageOutputOptions","mimeType"],o);const i=l(t,["outputCompressionQuality"]);return i!=null&&d(e,["imageOutputOptions","compressionQuality"],i),e}function eA(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],yn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function gy(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],yn(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Ks(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],yn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function vt(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],yn(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function tA(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],uy(t,a)),r}function nA(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],uy(t,a)),r}function rA(t,e){const n={},r=l(e,["config"]);return r!=null&&tA(t,r,n),n}function oA(t,e){const n={},r=l(e,["config"]);return r!=null&&nA(t,r,n),n}function iA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["_self"]);if(o!=null){let i=cy(o);Array.isArray(i)&&(i=i.map(s=>tu(s))),d(e,["models"],i)}return e}function sA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["_self"]);if(o!=null){let i=cy(o);Array.isArray(i)&&(i=i.map(s=>nu(s))),d(e,["models"],i)}return e}function aA(t){const e={},n=l(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const o=l(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function tu(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const o=l(t,["description"]);o!=null&&d(e,["description"],o);const i=l(t,["version"]);i!=null&&d(e,["version"],i);const s=l(t,["_self"]);s!=null&&d(e,["tunedModelInfo"],SA(s));const a=l(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const u=l(t,["outputTokenLimit"]);u!=null&&d(e,["outputTokenLimit"],u);const c=l(t,["supportedGenerationMethods"]);c!=null&&d(e,["supportedActions"],c);const f=l(t,["temperature"]);f!=null&&d(e,["temperature"],f);const m=l(t,["maxTemperature"]);m!=null&&d(e,["maxTemperature"],m);const p=l(t,["topP"]);p!=null&&d(e,["topP"],p);const g=l(t,["topK"]);g!=null&&d(e,["topK"],g);const y=l(t,["thinking"]);return y!=null&&d(e,["thinking"],y),e}function nu(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const o=l(t,["description"]);o!=null&&d(e,["description"],o);const i=l(t,["versionId"]);i!=null&&d(e,["version"],i);const s=l(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>xN(p))),d(e,["endpoints"],m)}const a=l(t,["labels"]);a!=null&&d(e,["labels"],a);const u=l(t,["_self"]);u!=null&&d(e,["tunedModelInfo"],TA(u));const c=l(t,["defaultCheckpointId"]);c!=null&&d(e,["defaultCheckpointId"],c);const f=l(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),d(e,["checkpoints"],m)}return e}function lA(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&d(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&d(e,["fileData"],_N(i));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],EN(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],J1(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&d(e,["videoMetadata"],p),e}function uA(t){const e={},n=l(t,["productImage"]);return n!=null&&d(e,["image"],vt(n)),e}function cA(t,e){const n={},r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const o=l(t,["baseSteps"]);e!==void 0&&o!=null&&d(e,["parameters","baseSteps"],o);const i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const s=l(t,["seed"]);e!==void 0&&s!=null&&d(e,["parameters","seed"],s);const a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const u=l(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=l(t,["addWatermark"]);e!==void 0&&c!=null&&d(e,["parameters","addWatermark"],c);const f=l(t,["outputMimeType"]);e!==void 0&&f!=null&&d(e,["parameters","outputOptions","mimeType"],f);const m=l(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const p=l(t,["enhancePrompt"]);e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p);const g=l(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),n}function dA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["source"]);o!=null&&hA(o,n);const i=l(e,["config"]);return i!=null&&cA(i,n),n}function fA(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Ws(o))),d(e,["generatedImages"],r)}return e}function hA(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const o=l(t,["personImage"]);e!==void 0&&o!=null&&d(e,["instances[0]","personImage","image"],vt(o));const i=l(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>uA(a))),d(e,["instances[0]","productImages"],s)}return n}function pA(t){const e={},n=l(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],vt(n));const r=l(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const o=l(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const i=l(t,["maskImageConfig"]);i!=null&&d(e,["maskImageConfig"],aA(i));const s=l(t,["controlImageConfig"]);s!=null&&d(e,["controlImageConfig"],eN(s));const a=l(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],a);const u=l(t,["subjectImageConfig"]);return u!=null&&d(e,["subjectImageConfig"],u),e}function yy(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const o=l(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function vy(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const o=l(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function mA(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function gA(t){const e={},n=l(t,["image"]);return n!=null&&d(e,["image"],vt(n)),e}function yA(t,e){const n={},r=l(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const o=l(t,["maxPredictions"]);e!==void 0&&o!=null&&d(e,["parameters","maxPredictions"],o);const i=l(t,["confidenceThreshold"]);e!==void 0&&i!=null&&d(e,["parameters","confidenceThreshold"],i);const s=l(t,["maskDilation"]);e!==void 0&&s!=null&&d(e,["parameters","maskDilation"],s);const a=l(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a);const u=l(t,["labels"]);return e!==void 0&&u!=null&&d(e,["labels"],u),n}function vA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["source"]);o!=null&&xA(o,n);const i=l(e,["config"]);return i!=null&&yA(i,n),n}function wA(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>qN(o))),d(e,["generatedMasks"],r)}return e}function xA(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&d(e,["instances[0]","image"],vt(o));const i=l(t,["scribbleImage"]);return e!==void 0&&i!=null&&d(e,["instances[0]","scribble"],gA(i)),n}function _A(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],SN(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function EA(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&d(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],YN(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],QN(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function wy(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>TN(p))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function SA(t){const e={},n=l(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const o=l(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function TA(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const o=l(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function CA(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const o=l(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function NA(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const o=l(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function AA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","name"],q(t,r));const o=l(e,["config"]);return o!=null&&CA(o,n),n}function IA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["config"]);return o!=null&&NA(o,n),n}function bA(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const o=l(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&d(e,["parameters","safetySetting"],o);const i=l(t,["personGeneration"]);e!==void 0&&i!=null&&d(e,["parameters","personGeneration"],i);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&d(e,["parameters","includeRaiReason"],s);const a=l(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const u=l(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&d(e,["parameters","outputOptions","compressionQuality"],u);const c=l(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=l(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const p=l(t,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const g=l(t,["mode"]);return e!==void 0&&g!=null&&d(e,["parameters","mode"],g),n}function kA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],q(t,r));const o=l(e,["image"]);o!=null&&d(n,["instances[0]","image"],vt(o));const i=l(e,["upscaleFactor"]);i!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(e,["config"]);return s!=null&&bA(s,n),n}function RA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ws(i))),d(e,["generatedImages"],o)}return e}function PA(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],yn(r));const o=l(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function MA(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],yn(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function DA(t){const e={},n=l(t,["image"]);n!=null&&d(e,["_self"],vt(n));const r=l(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function UA(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],Ks(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function LA(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],vt(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function xy(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],yn(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["encoding"],o),e}function _y(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],yn(r));const o=l(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OA(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function FA(t){const e={},n=l(t,["config"]);return n!=null&&OA(n,e),e}function $A(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function VA(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&$A(r,e),e}function GA(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function BA(t,e){const n={},r=l(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["customMetadata"],i)}const o=l(t,["chunkingConfig"]);return e!==void 0&&o!=null&&d(e,["chunkingConfig"],o),n}function jA(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const o=l(t,["done"]);o!=null&&d(e,["done"],o);const i=l(t,["error"]);i!=null&&d(e,["error"],i);const s=l(t,["response"]);return s!=null&&d(e,["response"],HA(s)),e}function qA(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["fileName"]);r!=null&&d(e,["fileName"],r);const o=l(t,["config"]);return o!=null&&BA(o,e),e}function HA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&d(e,["documentName"],o),e}function zA(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function JA(t){const e={},n=l(t,["config"]);return n!=null&&zA(n,e),e}function WA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["fileSearchStores"],i)}return e}function Ey(t,e){const n={},r=l(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const o=l(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["customMetadata"],a)}const s=l(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function KA(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["config"]);return r!=null&&Ey(r,e),e}function YA(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QA="Content-Type",XA="X-Server-Timeout",ZA="User-Agent",ru="x-goog-api-client",eI="1.34.0",tI=`google-genai-sdk/${eI}`,nI="v1beta1",rI="v1beta";class oI{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))o.searchParams.append(s,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&iI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Gh(o),new Xl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Gh(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return mt(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const a="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield $(o.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const y=JSON.parse(m);if("error"in y){const _=JSON.parse(JSON.stringify(y.error)),E=_.status,v=_.code,w=`got status: ${E}. ${JSON.stringify(y)}`;if(v>=400&&v<600)throw new zs({message:w,status:v})}}catch(y){if(y.name==="ApiError")throw y}s+=m;let p=-1,g=0;for(;;){p=-1,g=0;for(const E of u){const v=s.indexOf(E);v!==-1&&(p===-1||v<p)&&(p=v,g=E.length)}if(p===-1)break;const y=s.substring(0,p);s=s.substring(p+g);const _=y.trim();if(_.startsWith(a)){const E=_.substring(a.length).trim();try{const v=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $(new Xl(v))}catch(v){throw new Error(`exception parsing stream chunk ${E}. ${v}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=tI+" "+this.clientOptions.userAgentExtra;return e[ZA]=n,e[ru]=n,e[QA]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))r.append(o,i);e.timeout&&e.timeout>0&&r.append(XA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);o.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;const u={file:o},c=this.getFileName(e),f=R("upload/v1beta/files",u._url),m=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,c,u,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var o;const i=this.clientOptions.uploader,s=await i.stat(n),a=String(s.size),u=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};r!=null&&Ey(r,m);const p=await this.fetchUploadUrl(c,a,u,f,m,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,i,s){var a;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Gh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new zs({message:o,status:n}):new Error(o)}}function iI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,s){const a=Object.assign({},i);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const c=s[u],f=a[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?a[u]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),a[u]=c)}return a}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sI="mcp_used/unknown";let aI=!1;function Sy(t){for(const e of t)if(lI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return aI}function Ty(t){var e;const n=(e=t[ru])!==null&&e!==void 0?e:"";t[ru]=(n+` ${sI}`).trimStart()}function lI(t){return t!==null&&typeof t=="object"&&t instanceof Cc}function uI(t){return mt(this,arguments,function*(n,r=100){let o,i=0;for(;i<r;){const s=yield $(n.listTools({cursor:o}));for(const a of s.tools)yield yield $(a),i++;if(!s.nextCursor)break;o=s.nextCursor}})}class Cc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Cc(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const i={},s=[];for(const f of this.mcpClients)try{for(var a=!0,u=(n=void 0,gt(uI(f))),c;c=await u.next(),e=c.done,!e;a=!0){o=c.value,a=!1;const m=o;s.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){n={error:m}}finally{try{!a&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),GT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cI(t,e,n){const r=new MT;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class dI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=pI(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),u=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const f=new Promise(x=>{c=x}),m=e.callbacks,p=function(){c({})},g=this.apiClient,y={onopen:p,onmessage:x=>{cI(g,m.onmessage,x)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(x){}},_=this.webSocketFactory.create(u,hI(s),y);_.connect(),await f;const w={setup:{model:q(this.apiClient,e.model)}};return _.send(JSON.stringify(w)),new fI(_,this.apiClient)}}class fI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=F1(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=O1(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(mr.PLAY)}pause(){this.sendPlaybackControl(mr.PAUSE)}stop(){this.sendPlaybackControl(mr.STOP)}resetContext(){this.sendPlaybackControl(mr.RESET_CONTEXT)}close(){this.conn.close()}}function hI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gI(t,e,n){const r=new PT;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const i=JSON.parse(o);if(t.isVertexAI()){const s=G1(i);Object.assign(r,s)}else Object.assign(r,i);e(r)}class yI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new dI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,i,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Sy(e.config.tools)&&Ty(m);const p=_I(m);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const k=this.apiClient.getApiKey();let M="BidiGenerateContent",H="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",H="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${M}?${H}=${k}`}let g=()=>{};const y=new Promise(k=>{g=k}),_=e.callbacks,E=function(){var k;(k=_==null?void 0:_.onopen)===null||k===void 0||k.call(_),g({})},v=this.apiClient,w={onopen:E,onmessage:k=>{gI(v,_.onmessage,k)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(k){}},x=this.webSocketFactory.create(f,xI(p),w);x.connect(),await y;let S=q(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const k=this.apiClient.getProject(),M=this.apiClient.getLocation();S=`projects/${k}/locations/${M}/`+S}let T={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vs.AUDIO]}:e.config.responseModalities=[vs.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],N=[];for(const k of C)if(this.isCallableTool(k)){const M=k;N.push(await M.tool())}else N.push(k);N.length>0&&(e.config.tools=N);const b={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=L1(this.apiClient,b):T=U1(this.apiClient,b),delete T.config,x.send(JSON.stringify(T)),new wI(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vI={turnComplete:!0};class wI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=tt(n.turns),e.isVertexAI()||(r=r.map(o=>Js(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(mI)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:V1(e)}:n={realtimeInput:$1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _I(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bh=10;function jh(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Nr(s)){o=!0;break}if(!o)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Nr(t){return"callTool"in t&&typeof t.callTool=="function"}function EI(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Nr(o)))!==null&&r!==void 0?r:!1}function qh(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(Nr(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function Hh(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SI extends Vt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,i,s,a;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!EI(n)||jh(n.config))return await this.generateContentInternal(u);const c=qh(n);if(c.length>0){const _=c.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,m;const p=tt(u.contents),g=(i=(o=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Bh;let y=0;for(;y<g&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,E=[];for(const v of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Nr(v)){const x=await v.callTool(f.functionCalls);E.push(...x)}y++,m={role:"user",parts:E},u.contents=tt(u.contents),u.contents.push(_),u.contents.push(m),Hh(u.config)&&(p.push(_),p.push(m))}return Hh(u.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var r,o,i,s,a;if(this.maybeMoveToResponseJsonSchem(n),jh(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const u=qh(n);if(u.length>0){const m=u.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((o=u==null?void 0:u.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=u==null?void 0:u.safetyAttributes:s.push(u);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new qn(Lt.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,s,a,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async u=>Nr(u)?await u.tool():u)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Sy(e.config.tools)){const u=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Ty(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,o;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Nr(s)){const a=s,u=await a.tool();for(const c of(o=u.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,a)}}return i}async processAfcStream(e){var n,r,o;const i=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Bh;let s=!1,a=0;const u=await this.initAfcToolsMap(e);return function(c,f,m){return mt(this,arguments,function*(){for(var p,g,y,_,E,v;a<i;){s&&(a++,s=!1);const T=yield $(c.processParamsMaybeAddMcpUsage(m)),C=yield $(c.generateContentStreamInternal(T)),N=[],b=[];try{for(var w=!0,x=(g=void 0,gt(C)),S;S=yield $(x.next()),p=S.done,!p;w=!0){_=S.value,w=!1;const k=_;if(yield yield $(k),k.candidates&&(!((E=k.candidates[0])===null||E===void 0)&&E.content)){b.push(k.candidates[0].content);for(const M of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(M.functionCall.name)){const H=yield $(f.get(M.functionCall.name).callTool([M.functionCall]));N.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(k){g={error:k}}finally{try{!w&&!p&&(y=x.return)&&(yield $(y.call(x)))}finally{if(g)throw g.error}}if(N.length>0){s=!0;const k=new Qr;k.candidates=[{content:{role:"user",parts:N}}],yield yield $(k);const M=[];M.push(...b),M.push({role:"user",parts:N});const H=tt(m.contents).concat(M);m.contents=H}else break}})}(this,u,e)}async generateContentInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Fh(this.apiClient,e);return a=R("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Vh(f),p=new Qr;return Object.assign(p,m),p})}else{const c=Oh(this.apiClient,e);return a=R("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=$h(f),p=new Qr;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Fh(this.apiClient,e);return a=R("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return mt(this,arguments,function*(){var p,g,y,_;try{for(var E=!0,v=gt(m),w;w=yield $(v.next()),p=w.done,!p;E=!0){_=w.value,E=!1;const x=_,S=Vh(yield $(x.json()));S.sdkHttpResponse={headers:x.headers};const T=new Qr;Object.assign(T,S),yield yield $(T)}}catch(x){g={error:x}}finally{try{!E&&!p&&(y=v.return)&&(yield $(y.call(v)))}finally{if(g)throw g.error}}})})}else{const c=Oh(this.apiClient,e);return a=R("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return mt(this,arguments,function*(){var p,g,y,_;try{for(var E=!0,v=gt(m),w;w=yield $(v.next()),p=w.done,!p;E=!0){_=w.value,E=!1;const x=_,S=$h(yield $(x.json()));S.sdkHttpResponse={headers:x.headers};const T=new Qr;Object.assign(T,S),yield yield $(T)}}catch(x){g={error:x}}finally{try{!E&&!p&&(y=v.return)&&(yield $(y.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=yN(this.apiClient,e);return a=R("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=wN(f),p=new xh;return Object.assign(p,m),p})}else{const c=gN(this.apiClient,e);return a=R("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=vN(f),p=new xh;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=kN(this.apiClient,e);return a=R("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=PN(f),p=new _h;return Object.assign(p,m),p})}else{const c=bN(this.apiClient,e);return a=R("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=RN(f),p=new _h;return Object.assign(p,m),p})}}async editImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=fN(this.apiClient,e);return i=R("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const c=hN(u),f=new _T;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=kA(this.apiClient,e);return i=R("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const c=RA(u),f=new ET;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=dA(this.apiClient,e);return i=R("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=fA(u),f=new ST;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=vA(this.apiClient,e);return i=R("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=wA(u),f=new TT;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=KN(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>nu(f))}else{const c=WN(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>tu(f))}}async listInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=oA(this.apiClient,e);return a=R("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=sA(f),p=new Eh;return Object.assign(p,m),p})}else{const c=rA(this.apiClient,e);return a=R("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=iA(f),p=new Eh;return Object.assign(p,m),p})}}async update(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=IA(this.apiClient,e);return a=R("{model}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>nu(f))}else{const c=AA(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>tu(f))}}async delete(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=lN(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=cN(f),p=new Sh;return Object.assign(p,m),p})}else{const c=aN(this.apiClient,e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=uN(f),p=new Sh;return Object.assign(p,m),p})}}async countTokens(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=oN(this.apiClient,e);return a=R("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=sN(f),p=new Th;return Object.assign(p,m),p})}else{const c=rN(this.apiClient,e);return a=R("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=iN(f),p=new Th;return Object.assign(p,m),p})}}async computeTokens(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=Y1(this.apiClient,e);return i=R("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const c=Q1(u),f=new CT;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=FN(this.apiClient,e);return a=R("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const m=LN(f),p=new ws;return Object.assign(p,m),p})}else{const c=ON(this.apiClient,e);return a=R("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const m=UN(f),p=new ws;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TI extends Vt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=mT(e);return a=R("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=pT(e);return a=R("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=aT(e);return i=R("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CI(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function NI(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>UI(i))),d(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function AI(t,e,n){const r={},o=l(e,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const i=l(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&d(n,["newSessionExpireTime"],i);const s=l(e,["uses"]);n!==void 0&&s!=null&&d(n,["uses"],s);const a=l(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],DI(t,a));const u=l(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&d(n,["fieldMask"],u),r}function II(t,e){const n={},r=l(e,["config"]);return r!=null&&d(n,["config"],AI(t,r,n)),n}function bI(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function kI(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const o=l(t,["name"]);if(o!=null&&d(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RI(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function PI(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function MI(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Tc(m));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","thinkingConfig"],p);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(t,["systemInstruction"]);e!==void 0&&y!=null&&d(e,["setup","systemInstruction"],NI(Ne(y)));const _=l(t,["tools"]);if(e!==void 0&&_!=null){let C=Gr(_);Array.isArray(C)&&(C=C.map(N=>OI(Vr(N)))),d(e,["setup","tools"],C)}const E=l(t,["sessionResumption"]);e!==void 0&&E!=null&&d(e,["setup","sessionResumption"],LI(E));const v=l(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=l(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const T=l(t,["proactivity"]);if(e!==void 0&&T!=null&&d(e,["setup","proactivity"],T),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function DI(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],q(t,r));const o=l(e,["config"]);return o!=null&&d(n,["config"],MI(o,n)),n}function UI(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&d(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&d(e,["fileData"],bI(i));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],kI(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],CI(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&d(e,["videoMetadata"],p),e}function LI(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OI(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&d(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],RI(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],PI(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(i=>`${n}.${i}`);e.push(...o)}else e.push(n)}return e.join(",")}function $I(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const i=FI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];o.length>0&&(a=o.map(c=>s.includes(c)?`generationConfig.${c}`:c));const u=[];i&&u.push(i),a.length>0&&u.push(...a),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class VI extends Vt{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=II(this.apiClient,e);i=R("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const u=$I(a,e.config);return o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GI(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function BI(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&GI(r,e),e}function jI(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function qI(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function HI(t){const e={},n=l(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=l(t,["config"]);return r!=null&&qI(r,e),e}function zI(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const o=l(t,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JI extends Vt{constructor(e){super(),this.apiClient=e,this.list=async n=>new qn(Lt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jI(e);return i=R("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=BI(e);o=R("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=HI(e);return i=R("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=zI(u),f=new NT;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WI extends Vt{constructor(e,n=new JI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new qn(Lt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FA(e);return i=R("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GA(e);return i=R("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VA(e);o=R("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JA(e);return i=R("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=WA(u),f=new AT;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KA(e);return i=R("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=YA(u),f=new IT;return Object.assign(f,c),f})}}async importFile(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qA(e);return i=R("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const c=jA(u),f=new wc;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cy=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Cy=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const KI=()=>Cy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ou(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const iu=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ot extends Error{}class Re extends ot{constructor(e,n,r,o){super(`${Re.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new Ys({message:r,cause:iu(n)});const i=n;return e===400?new Ay(e,i,r,o):e===401?new Iy(e,i,r,o):e===403?new by(e,i,r,o):e===404?new ky(e,i,r,o):e===409?new Ry(e,i,r,o):e===422?new Py(e,i,r,o):e===429?new My(e,i,r,o):e>=500?new Dy(e,i,r,o):new Re(e,i,r,o)}}class su extends Re{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ys extends Re{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ny extends Ys{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ay extends Re{}class Iy extends Re{}class by extends Re{}class ky extends Re{}class Ry extends Re{}class Py extends Re{}class My extends Re{}class Dy extends Re{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YI=/^[a-z][a-z0-9+.-]*:/i,QI=t=>YI.test(t);let au=t=>(au=Array.isArray,au(t));const XI=au;let ZI=XI;const zh=ZI;function eb(t){if(!t)return!0;for(const e in t)return!1;return!0}function tb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nb=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ot(`${t} must be an integer`);if(e<0)throw new ot(`${t} must be a positive integer`);return e},rb=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ob=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ib(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sb=()=>{var t,e,n,r,o;const i=ib();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":Wh(Deno.build.os),"X-Stainless-Arch":Jh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":Wh((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Jh((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=ab();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ab(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${o}.${i}.${s}`}}}return null}const Jh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Wh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let _i;const lb=()=>_i??(_i=sb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ub(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Uy(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cb(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Uy({start(){},async pull(n){const{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Ly(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function db(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fb=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oy=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function La(t,e,n){return Oy(),new File(t,e??"unknown_file",n)}function hb(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const pb=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fy=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mb=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fy(t),gb=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yb(t,e,n){if(Oy(),t=await t,mb(t))return t instanceof File?t:La([await t.arrayBuffer()],t.name);if(gb(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),La(await lu(o),e,n)}const r=await lu(t);if(e||(e=hb(t)),!(n!=null&&n.type)){const o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return La(r,e,n)}async function lu(t){var e,n,r,o,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Fy(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(pb(t))try{for(var a=!0,u=gt(t),c;c=await u.next(),e=c.done,!e;a=!0){o=c.value,a=!1;const f=o;s.push(...await lu(f))}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${vb(t)}`)}return s}function vb(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $y{constructor(e){this._client=e}}$y._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vy(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Kh=Object.freeze(Object.create(null)),wb=(t=Vy)=>function(n,...r){if(n.length===1)return n[0];let o=!1;const i=[],s=n.reduce((f,m,p)=>{var g,y,_;/[?#]/.test(m)&&(o=!0);const E=r[p];let v=(o?encodeURIComponent:t)(""+E);return p!==r.length&&(E==null||typeof E=="object"&&E.toString===((_=Object.getPrototypeOf((y=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:Kh))!==null&&y!==void 0?y:Kh))===null||_===void 0?void 0:_.toString))&&(v=E+"",i.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+m+(p===r.length?"":v)},""),a=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=u.exec(a))!==null;)i.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,g)=>{const y=" ".repeat(g.start-f),_="^".repeat(g.length);return f=g.start+g.length,p+y+_},"");throw new ot(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${s}
${m}`)}return s},Ei=wb(Vy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gy extends $y{create(e,n){var r;const{api_version:o=this._client.apiVersion}=e,i=_s(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ei`/${o}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Ei`/${o}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Ei`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;const i=n??{},{api_version:s=this._client.apiVersion}=i,a=_s(i,["api_version"]);return this._client.get(Ei`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Gy._key=Object.freeze(["interactions"]);class By extends Gy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xb(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}let Si;function Nc(t){let e;return(Si??(e=new globalThis.TextEncoder,Si=e.encode.bind(e)))(t)}let Ti;function Yh(t){let e;return(Ti??(e=new globalThis.TextDecoder,Ti=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Nc(e):e;this.buffer=xb([this.buffer,n]);const r=[];let o;for(;(o=_b(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(Yh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=Yh(this.buffer.subarray(0,i));r.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Qs.NEWLINE_CHARS=new Set([`
`,"\r"]);Qs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _b(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Eb(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Es={off:0,error:200,warn:300,info:400,debug:500},Qh=(t,e,n)=>{if(t){if(tb(Es,t))return t;Ie(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Es))}`)}};function io(){}function Ci(t,e,n){return!e||Es[t]>Es[n]?io:e[t].bind(e)}const Sb={error:io,warn:io,info:io,debug:io};let Xh=new WeakMap;function Ie(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Sb;const o=Xh.get(n);if(o&&o[0]===r)return o[1];const i={error:Ci("error",n,r),warn:Ci("warn",n,r),info:Ci("info",n,r),debug:Ci("debug",n,r)};return Xh.set(n,[r,i]),i}const An=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1;const i=r?Ie(r):console;function s(){return mt(this,arguments,function*(){var u,c,f,m;if(o)throw new ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,y=gt(Tb(e,n)),_;_=yield $(y.next()),u=_.done,!u;g=!0){m=_.value,g=!1;const E=m;if(!p)if(E.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield $(JSON.parse(E.data))}catch(v){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),v}}}catch(E){c={error:E}}finally{try{!g&&!u&&(f=y.return)&&(yield $(f.call(y)))}finally{if(c)throw c.error}}p=!0}catch(E){if(ou(E))return yield $(void 0);throw E}finally{p||n.abort()}})}return new gr(s,n,r)}static fromReadableStream(e,n,r){let o=!1;function i(){return mt(this,arguments,function*(){var u,c,f,m;const p=new Qs,g=Ly(e);try{for(var y=!0,_=gt(g),E;E=yield $(_.next()),u=E.done,!u;y=!0){m=E.value,y=!1;const v=m;for(const w of p.decode(v))yield yield $(w)}}catch(v){c={error:v}}finally{try{!y&&!u&&(f=_.return)&&(yield $(f.call(_)))}finally{if(c)throw c.error}}for(const v of p.flush())yield yield $(v)})}function s(){return mt(this,arguments,function*(){var u,c,f,m;if(o)throw new ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,y=gt(i()),_;_=yield $(y.next()),u=_.done,!u;g=!0){m=_.value,g=!1;const E=m;p||E&&(yield yield $(JSON.parse(E)))}}catch(E){c={error:E}}finally{try{!g&&!u&&(f=y.return)&&(yield $(f.call(y)))}finally{if(c)throw c.error}}p=!0}catch(E){if(ou(E))return yield $(void 0);throw E}finally{p||n.abort()}})}return new gr(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){const s=r.next();e.push(s),n.push(s)}return i.shift()}});return[new gr(()=>o(e),this.controller,this.client),new gr(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Uy({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:i}=await n.next();if(i)return r.close();const s=Nc(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Tb(t,e){return mt(this,arguments,function*(){var r,o,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ot("Attempted to iterate over a response with no body");const a=new Nb,u=new Qs,c=Ly(t.body);try{for(var f=!0,m=gt(Cb(c)),p;p=yield $(m.next()),r=p.done,!r;f=!0){s=p.value,f=!1;const g=s;for(const y of u.decode(g)){const _=a.decode(y);_&&(yield yield $(_))}}}catch(g){o={error:g}}finally{try{!f&&!r&&(i=m.return)&&(yield $(i.call(m)))}finally{if(o)throw o.error}}for(const g of u.flush()){const y=a.decode(g);y&&(yield yield $(y))}})}function Cb(t){return mt(this,arguments,function*(){var n,r,o,i;let s=new Uint8Array;try{for(var a=!0,u=gt(t),c;c=yield $(u.next()),n=c.done,!n;a=!0){i=c.value,a=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Nc(f):f;let p=new Uint8Array(s.length+m.length);p.set(s),p.set(m,s.length),s=p;let g;for(;(g=Eb(s))!==-1;)yield yield $(s.slice(0,g)),s=s.slice(g)}}catch(f){r={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(r)throw r.error}}s.length>0&&(yield yield $(s))})}class Nb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=Ab(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function Ab(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ib(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=e,s=await(async()=>{var a;if(e.options.stream)return Ie(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):gr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type"),c=(a=u==null?void 0:u.split(";")[0])===null||a===void 0?void 0:a.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Ie(t).debug(`[${r}] response parsed`,An({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ac extends Promise{constructor(e,n,r=Ib){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Ac(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jy=Symbol("brand.privateNullableHeaders");function*bb(t){if(!t)return;if(jy in t){const{values:r,nulls:o}=t;yield*r.entries();for(const i of o)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():zh(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const i=zh(r[1])?r[1]:[r[1]];let s=!1;for(const a of i)a!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,a])}}const Xr=t=>{const e=new Headers,n=new Set;for(const r of t){const o=new Set;for(const[i,s]of bb(r)){const a=i.toLowerCase();o.has(a)||(e.delete(i),o.add(a)),s===null?(e.delete(i),n.add(a)):(e.append(i,s),n.delete(a))}}return{[jy]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oa=t=>{var e,n,r,o,i,s;if(typeof globalThis.process<"u")return(r=(n=(e=tT)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||i===void 0?void 0:i.call(o,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qy;class Xs{constructor(e){var n,r,o,i,s,a,u,{baseURL:c=Oa("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Oa("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,p=_s(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Xs.DEFAULT_TIMEOUT,this.logger=(o=g.logger)!==null&&o!==void 0?o:console;const y="warn";this.logLevel=y,this.logLevel=(s=(i=Qh(g.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Qh(Oa("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(u=g.fetch)!==null&&u!==void 0?u:ub(),this.encoder=fb,this._options=g,this.apiKey=f,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Xr([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Xr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Xr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ot(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${tr}`}defaultIdempotencyKey(){return`stainless-node-retry-${KI()}`}makeStatusError(e,n,r,o){return Re.generate(e,n,r,o)}buildURL(e,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,i=QI(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return eb(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Ac(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var o,i,s;const a=await e,u=(o=a.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=u),await this.prepareOptions(a);const{req:c,url:f,timeout:m}=await this.buildRequest(a,{retryCount:u-n});await this.prepareRequest(c,{url:f,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(Ie(this).debug(`[${p}] sending request`,An({retryOfRequestLogID:r,method:a.method,url:f,options:a,headers:c.headers})),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new su;const _=new AbortController,E=await this.fetchWithTimeout(f,c,m,_).catch(iu),v=Date.now();if(E instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new su;const S=ou(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Ie(this).info(`[${p}] connection ${S?"timed out":"failed"} - ${x}`),Ie(this).debug(`[${p}] connection ${S?"timed out":"failed"} (${x})`,An({retryOfRequestLogID:r,url:f,durationMs:v-y,message:E.message})),this.retryRequest(a,n,r??p);throw Ie(this).info(`[${p}] connection ${S?"timed out":"failed"} - error; no more retries left`),Ie(this).debug(`[${p}] connection ${S?"timed out":"failed"} (error; no more retries left)`,An({retryOfRequestLogID:r,url:f,durationMs:v-y,message:E.message})),S?new Ny:new Ys({cause:E})}const w=`[${p}${g}] ${c.method} ${f} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${v-y}ms`;if(!E.ok){const x=await this.shouldRetry(E);if(n&&x){const k=`retrying, ${n} attempts remaining`;return await db(E.body),Ie(this).info(`${w} - ${k}`),Ie(this).debug(`[${p}] response error (${k})`,An({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:v-y})),this.retryRequest(a,n,r??p,E.headers)}const S=x?"error; no more retries left":"error; not retryable";Ie(this).info(`${w} - ${S}`);const T=await E.text().catch(k=>iu(k).message),C=rb(T),N=C?void 0:T;throw Ie(this).debug(`[${p}] response error (${S})`,An({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-y})),this.makeStatusError(E.status,C,N,E.headers)}return Ie(this).info(w),Ie(this).debug(`[${p}] response start`,An({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:v-y})),{response:E,options:a,controller:_,requestLogID:p,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,o){const i=n||{},{signal:s,method:a}=i,u=_s(i,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const c=setTimeout(()=>o.abort(),r),f=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,m=Object.assign(Object.assign(Object.assign({signal:o.signal},f?{duplex:"half"}:{}),{method:"GET"}),u);a&&(m.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){var i;let s;const a=o==null?void 0:o.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(s=c)}const u=o==null?void 0:o.get("retry-after");if(u&&!s){const c=parseFloat(u);Number.isNaN(c)?s=Date.parse(u)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,c)}return await ob(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,o,i;const s=Object.assign({},e),{method:a,path:u,query:c,defaultBaseURL:f}=s,m=this.buildURL(u,c,f);"timeout"in s&&nb("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),y=await this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Xr([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),lb()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Xr([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cb(e)}:this.encoder({body:e,headers:r})}}Xs.DEFAULT_TIMEOUT=6e4;class ye extends Xs{constructor(){super(...arguments),this.interactions=new By(this)}}qy=ye;ye.GeminiNextGenAPIClient=qy;ye.GeminiNextGenAPIClientError=ot;ye.APIError=Re;ye.APIConnectionError=Ys;ye.APIConnectionTimeoutError=Ny;ye.APIUserAbortError=su;ye.NotFoundError=ky;ye.ConflictError=Ry;ye.RateLimitError=My;ye.BadRequestError=Ay;ye.AuthenticationError=Iy;ye.InternalServerError=Dy;ye.PermissionDeniedError=by;ye.UnprocessableEntityError=Py;ye.toFile=yb;ye.Interactions=By;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function Rb(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function Pb(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function Mb(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function Db(t,e,n){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&d(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(t,["epochCount"]);e!==void 0&&i!=null&&d(e,["tuningTask","hyperparameters","epochCount"],i);const s=l(t,["learningRateMultiplier"]);if(s!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=l(t,["batchSize"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","batchSize"],a);const u=l(t,["learningRate"]);if(e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","learningRate"],u),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Ub(t,e,n){const r={};let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=l(t,["validationDataset"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec"],Zh(g))}else if(o==="PREFERENCE_TUNING"){const g=l(t,["validationDataset"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec"],Zh(g))}const i=l(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&d(e,["tunedModelDisplayName"],i);const s=l(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=l(t,["epochCount"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=l(t,["epochCount"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=l(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(u==="PREFERENCE_TUNING"){const g=l(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=l(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=l(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=l(t,["adapterSize"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=l(t,["adapterSize"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const p=l(t,["beta"]);return e!==void 0&&p!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),r}function Lb(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&d(n,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&Jb(i);const s=l(t,["config"]);return s!=null&&Db(s,n),n}function Ob(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&d(n,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&Wb(i,n,e);const s=l(t,["config"]);return s!=null&&Ub(s,n,e),n}function Fb(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function $b(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function Vb(t,e,n){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const s=l(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function Gb(t,e,n){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const s=l(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function Bb(t,e){const n={},r=l(t,["config"]);return r!=null&&Vb(r,n),n}function jb(t,e){const n={},r=l(t,["config"]);return r!=null&&Gb(r,n),n}function qb(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const i=l(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Hy(a))),d(n,["tuningJobs"],s)}return n}function Hb(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const i=l(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>uu(a))),d(n,["tuningJobs"],s)}return n}function zb(t,e){const n={},r=l(t,["name"]);r!=null&&d(n,["model"],r);const o=l(t,["name"]);return o!=null&&d(n,["endpoint"],o),n}function Jb(t,e){const n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),d(n,["examples","examples"],o)}return n}function Wb(t,e,n){const r={};let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Hy(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&d(n,["name"],o);const i=l(t,["state"]);i!=null&&d(n,["state"],ay(i));const s=l(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=l(t,["tuningTask","startTime"]);a!=null&&d(n,["startTime"],a);const u=l(t,["tuningTask","completeTime"]);u!=null&&d(n,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=l(t,["description"]);f!=null&&d(n,["description"],f);const m=l(t,["baseModel"]);m!=null&&d(n,["baseModel"],m);const p=l(t,["_self"]);return p!=null&&d(n,["tunedModel"],zb(p)),n}function uu(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&d(n,["name"],o);const i=l(t,["state"]);i!=null&&d(n,["state"],ay(i));const s=l(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=l(t,["startTime"]);a!=null&&d(n,["startTime"],a);const u=l(t,["endTime"]);u!=null&&d(n,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=l(t,["error"]);f!=null&&d(n,["error"],f);const m=l(t,["description"]);m!=null&&d(n,["description"],m);const p=l(t,["baseModel"]);p!=null&&d(n,["baseModel"],p);const g=l(t,["tunedModel"]);g!=null&&d(n,["tunedModel"],g);const y=l(t,["preTunedModel"]);y!=null&&d(n,["preTunedModel"],y);const _=l(t,["supervisedTuningSpec"]);_!=null&&d(n,["supervisedTuningSpec"],_);const E=l(t,["preferenceOptimizationSpec"]);E!=null&&d(n,["preferenceOptimizationSpec"],E);const v=l(t,["tuningDataStats"]);v!=null&&d(n,["tuningDataStats"],v);const w=l(t,["encryptionSpec"]);w!=null&&d(n,["encryptionSpec"],w);const x=l(t,["partnerModelTuningSpec"]);x!=null&&d(n,["partnerModelTuningSpec"],x);const S=l(t,["customBaseModel"]);S!=null&&d(n,["customBaseModel"],S);const T=l(t,["experiment"]);T!=null&&d(n,["experiment"],T);const C=l(t,["labels"]);C!=null&&d(n,["labels"],C);const N=l(t,["outputUri"]);N!=null&&d(n,["outputUri"],N);const b=l(t,["pipelineJob"]);b!=null&&d(n,["pipelineJob"],b);const k=l(t,["serviceAccount"]);k!=null&&d(n,["serviceAccount"],k);const M=l(t,["tunedModelDisplayName"]);M!=null&&d(n,["tunedModelDisplayName"],M);const H=l(t,["veoTuningSpec"]);return H!=null&&d(n,["veoTuningSpec"],H),n}function Kb(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&d(n,["name"],o);const i=l(t,["metadata"]);i!=null&&d(n,["metadata"],i);const s=l(t,["done"]);s!=null&&d(n,["done"],s);const a=l(t,["error"]);return a!=null&&d(n,["error"],a),n}function Zh(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const o=l(t,["vertexDatasetResource"]);return o!=null&&d(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yb extends Vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qn(Lt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),i=await this.tuneMldevInternal(o);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Ql.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=$b(e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>uu(f))}else{const c=Fb(e);return a=R("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Hy(f))}}async listInternal(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=jb(e);return a=R("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Hb(f),p=new Ch;return Object.assign(p,m),p})}else{const c=Bb(e);return a=R("tunedModels",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=qb(f),p=new Ch;return Object.assign(p,m),p})}}async cancel(e){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Rb(e);return a=R("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Mb(f),p=new Nh;return Object.assign(p,m),p})}else{const c=kb(e);return a=R("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Pb(f),p=new Nh;return Object.assign(p,m),p})}}async tuneInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=Ob(e,e);return i=R("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>uu(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lb(e);return i=R("tunedModels",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>Kb(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qb{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xb=1024*1024*8,Zb=3,ek=1e3,tk=2,Ss="x-goog-upload-status";async function nk(t,e,n){var r;const o=await zy(t,e,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Ss])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function rk(t,e,n){var r;const o=await zy(t,e,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Ss])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=ty(i),a=new xc;return Object.assign(a,s),a}async function zy(t,e,n){var r,o;let i=0,s=0,a=new Xl(new Response),u="upload";for(i=t.size;s<i;){const c=Math.min(Xb,i-s),f=t.slice(s,s+c);s+c>=i&&(u+=", finalize");let m=0,p=ek;for(;m<Zb&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Ss]));)m++,await ik(p),p=p*tk;if(s+=c,((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ss])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function ok(t){return{size:t.size,type:t.type}}function ik(t){return new Promise(e=>setTimeout(e,t))}class sk{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nk(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rk(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ok(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ak{create(e,n,r){return new lk(e,n,r)}}class lk{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ep="x-goog-api-key";class uk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ep)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ep,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ck="gl-node/";class dk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ye({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=iT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new uk(this.apiKey);this.apiClient=new oI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ck+"web",uploader:new sk,downloader:new Qb}),this.models=new SI(this.apiClient),this.live=new yI(this.apiClient,o,new ak),this.batches=new DC(this.apiClient),this.chats=new m1(this.models,this.apiClient),this.caches=new f1(this.apiClient),this.files=new C1(this.apiClient),this.operations=new TI(this.apiClient),this.authTokens=new VI(this.apiClient),this.tunings=new Yb(this.apiClient),this.fileSearchStores=new WI(this.apiClient)}}const Jy=new dk({apiKey:"AIzaSyDk86DI-hHLjqLZDBd8L4_4GgmQMAcQP1k"}),fk=async t=>{try{return(await Jy.models.generateContent({model:"gemini-3-flash-preview",contents:t,config:{systemInstruction:`Voc  o NutriBot, o assistente oficial e amigvel do app NutriGuia.

        **SUAS RESPONSABILIDADES:**
        1. **Nutrio:** Responder dvidas sobre alimentao saudvel, macronutrientes e dietas.
        2. **Suporte do App:** Explicar como o NutriGuia funciona, preos e funcionalidades.

        **CONHECIMENTO DO SISTEMA:**
        - **O App:** NutriGuia  um guia visual de alimentos focado em macronutrientes.
        - **Plano Pro:** Custa R$ 9,90 (Pagamento nico). Libera Fibras, Carboidratos, Gorduras e o Gerador de Cardpios.
        - **Bnus:** Treinos de Queima, Flexibilidade e Cardio exclusivos para Pro.

        **DIRETRIZES:**
        - Seja motivador e use emojis (, ).
        - Respostas curtas e diretas.`,temperature:.7}})).text||"No consegui gerar uma resposta no momento."}catch(e){return console.error("Error talking to Gemini:",e),"Ocorreu um erro ao consultar o assistente nutricional."}},hk=async t=>{const e=`Gere um cardpio semanal completo para: ${t==="lose"?"Emagrecimento":t==="gain"?"Ganho de Massa":"Sade Geral"}.
    Retorne APENAS o JSON:
    {
        "Segunda": { "breakfast": "...", "lunch": "...", "snack": "...", "dinner": "..." },
        ... at Domingo
    }`;try{return(await Jy.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{responseMimeType:"application/json",temperature:.8}})).text||""}catch(n){return console.error("Erro ao gerar cardpio:",n),""}},pk=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(""),[o,i]=A.useState([{role:"bot",text:"Ol! Sou o NutriBot. Tem alguma dvida sobre alimentao?"}]),[s,a]=A.useState(!1),u=A.useRef(null),c=()=>{var m;(m=u.current)==null||m.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{c()},[o,t]);const f=async m=>{if(m.preventDefault(),!n.trim()||s)return;const p=n;r(""),i(y=>[...y,{role:"user",text:p}]),a(!0);const g=await fk(p);i(y=>[...y,{role:"bot",text:g}]),a(!1)};return h.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[!t&&h.jsxs("button",{onClick:()=>e(!0),className:"bg-nutriGreen hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-transform hover:scale-110 flex items-center gap-2",children:[h.jsx(qx,{className:"w-6 h-6"}),h.jsx("span",{className:"font-semibold hidden sm:inline",children:"Tirar Dvida"})]}),t&&h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-80 sm:w-96 flex flex-col h-[500px] border border-gray-100 overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[h.jsxs("div",{className:"bg-nutriGreen p-4 flex justify-between items-center text-white",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Mx,{className:"w-5 h-5"}),h.jsx("h3",{className:"font-bold",children:"NutriBot"})]}),h.jsx("button",{onClick:()=>e(!1),className:"hover:bg-white/20 rounded-full p-1",children:h.jsx($r,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4 bg-gray-50",children:[o.map((m,p)=>h.jsx("div",{className:`flex ${m.role==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[80%] p-3 rounded-lg text-sm leading-relaxed ${m.role==="user"?"bg-nutriGreen text-white rounded-tr-none":"bg-white border border-gray-200 text-gray-700 rounded-tl-none shadow-sm"}`,children:m.text})},p)),s&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-white border border-gray-200 p-3 rounded-lg rounded-tl-none shadow-sm",children:h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),h.jsx("div",{ref:u})]}),h.jsxs("form",{onSubmit:f,className:"p-3 bg-white border-t border-gray-100 flex gap-2",children:[h.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"Digite sua dvida...",className:"flex-grow bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 text-gray-700"}),h.jsx("button",{type:"submit",disabled:s||!n.trim(),className:"bg-nutriGreen text-white p-2 rounded-full hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h.jsx(Xx,{className:"w-4 h-4"})})]})]})]})},mk="https://mpago.la/1F9DjXJ",gk=()=>{const t=gn(),[e]=Ax(),{upgradeToPro:n,user:r}=it(),[o,i]=A.useState(!1),[s,a]=A.useState(!1),[u,c]=A.useState(!1);A.useEffect(()=>{(async()=>{const p=e.get("status"),g=e.get("success");if((p==="approved"||g==="true")&&r)if(r.isPro)a(!0);else{i(!0);try{await n(),a(!0)}catch(_){console.error("Erro ao processar upgrade:",_)}finally{i(!1)}}})()},[e,r,n]);const f=()=>{if(!r){c(!0);return}i(!0),window.open(mk,"_blank"),setTimeout(()=>i(!1),2e3)};return s?h.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-3xl p-8 text-center max-w-md w-full shadow-xl border border-green-100 animate-in zoom-in duration-300",children:[h.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(ps,{className:"w-10 h-10 text-nutriGreen"})}),h.jsx("h2",{className:"font-header text-3xl font-bold text-gray-800 mb-2",children:"Pagamento Confirmado!"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"Bem-vindo(a) ao NutriGuia Pro. Agora voc tem acesso vitalcio a todo o conhecimento e bnus exclusivos."}),h.jsx("button",{onClick:()=>t("/"),className:"w-full bg-nutriGreen text-white font-bold py-3 rounded-xl shadow-lg shadow-green-200 hover:bg-green-600 transition-colors",children:"Comear a Explorar"})]})}):h.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 lg:py-12",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-6 flex flex-col order-2 lg:order-1",children:[h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 text-white shadow-xl relative overflow-hidden border border-gray-700",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),h.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"font-header text-2xl font-bold mb-1",children:"NutriGuia Pro"}),h.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Acesso Vitalcio & Ilimitado"})]}),h.jsxs("div",{className:"bg-nutriGreen text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg shadow-green-900/20",children:[h.jsx(t_,{className:"w-3 h-3"})," OFERTA NICA"]})]}),h.jsx("div",{className:"space-y-4 mb-8",children:h.jsxs("div",{className:"flex justify-between items-center py-4 border-b border-gray-700",children:[h.jsx("span",{children:"Plano Vitalcio"}),h.jsxs("div",{className:"text-right flex flex-col items-end",children:[h.jsx("span",{className:"text-gray-500 line-through text-xs",children:"R$ 28,90"}),h.jsx("span",{className:"font-bold text-xl",children:"R$ 9,90"})]})]})}),h.jsxs("div",{className:"flex justify-between items-end pt-2",children:[h.jsx("div",{className:"flex flex-col",children:h.jsx("span",{className:"text-gray-400 text-sm",children:"Total a pagar"})}),h.jsx("div",{className:"flex flex-col items-end",children:h.jsx("span",{className:"text-4xl font-bold text-nutriGreen tracking-tight",children:"R$ 9,90"})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm flex-grow",children:[h.jsx("h3",{className:"font-header font-bold text-gray-800 mb-4 text-lg",children:"O que voc vai desbloquear:"}),h.jsxs("ul",{className:"space-y-3",children:[h.jsxs("li",{className:"flex items-start gap-3 bg-yellow-50 p-2 rounded-lg border border-yellow-100",children:[h.jsx("div",{className:"bg-yellow-400 p-1 rounded-full text-white flex-shrink-0 mt-0.5 shadow-sm",children:h.jsx(Ll,{className:"w-3.5 h-3.5 fill-white"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-800 text-sm font-bold leading-tight block",children:"Gerador de Cardpios com IA"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Crie sua dieta semanal em 1 clique"})]})]}),["Acesso a TODAS as categorias (Carboidratos, Gorduras, Fibras)","rea de Bnus de Treinos (HIIT, Cardio, Flexibilidade)","Contedo 100% livre de anncios","Novos alimentos e atualizaes futuras"].map((m,p)=>h.jsxs("li",{className:"flex items-start gap-3 px-2",children:[h.jsx("div",{className:"bg-green-100 p-1 rounded-full text-nutriGreen flex-shrink-0 mt-0.5",children:h.jsx(ps,{className:"w-3.5 h-3.5 stroke-[3]"})}),h.jsx("span",{className:"text-gray-600 text-sm font-medium leading-tight",children:m})]},p))]})]})]}),h.jsxs("div",{className:"flex flex-col justify-center h-full order-1 lg:order-2 space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl shadow-gray-200/50 border border-gray-100 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-nutriGreen to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg transform rotate-3",children:h.jsx(Mg,{className:"w-8 h-8 text-white"})}),h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800 mb-3",children:"Finalizar Compra Segura"}),h.jsx("p",{className:"text-gray-500 text-sm mb-8 leading-relaxed max-w-xs mx-auto",children:"Libere seu acesso agora via PIX ou Carto de Crdito."}),r?h.jsx("button",{onClick:f,disabled:o,className:"w-full bg-nutriGreen text-white font-bold py-4 rounded-xl shadow-xl shadow-green-200 hover:bg-green-600 transition-all hover:-translate-y-1 flex items-center justify-center gap-2 group relative overflow-hidden",children:o?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processando..."]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Pagar R$ 9,90"}),h.jsx(Fo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}):h.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-gray-900 text-white font-bold py-4 rounded-xl shadow-xl hover:bg-black transition-all hover:-translate-y-1 flex items-center justify-center gap-2 group",children:[h.jsx(o_,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),"Criar Conta para Continuar"]}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-400 font-medium",children:[h.jsx(Dr,{className:"w-3 h-3"}),h.jsx("span",{children:"Ambiente Seguro e Criptografado"})]}),h.jsxs("div",{className:"mt-4 flex justify-center gap-3 opacity-60",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[h.jsx(e_,{className:"w-3 h-3"})," PIX"]}),h.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[h.jsx(Fx,{className:"w-3 h-3"})," Carto"]})]})]}),r&&h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-xs text-gray-400",children:["Logado como ",h.jsx("strong",{className:"text-gray-600",children:r.email})]})})]})]}),h.jsx(gc,{isOpen:u,onClose:()=>c(!1)})]})},yk=()=>{const{user:t,logout:e}=it(),n=gn();return t?h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-10 text-center sm:text-left",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-nutriGreen to-emerald-600 rounded-full flex items-center justify-center shadow-lg text-white font-bold text-3xl",children:t.name.charAt(0).toUpperCase()}),h.jsxs("div",{children:[h.jsxs("h1",{className:"font-header text-3xl font-bold text-gray-800",children:["Ol, ",t.name]}),h.jsx("p",{className:"text-gray-500 mb-2",children:t.email}),h.jsxs("div",{className:"inline-flex items-center gap-2 bg-gray-100 px-3 py-1 rounded-full text-xs font-medium text-gray-600",children:[h.jsx(Ux,{className:"w-3 h-3"}),"Membro desde ",t.joinedAt]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[h.jsxs("h2",{className:"font-header text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(Zx,{className:"w-5 h-5 text-nutriOrange"}),"Seu Acesso"]}),h.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:"Status"}),t.isPro?h.jsx("span",{className:"px-3 py-1 bg-nutriText text-white text-xs font-bold rounded-full uppercase",children:"Vitalcio"}):h.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-600 text-xs font-bold rounded-full uppercase",children:"Gratuito"})]}),t.isPro&&h.jsxs("div",{className:"flex justify-between items-center mt-2",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:"Cobranas Futuras"}),h.jsx("span",{className:"text-gray-800 text-sm font-bold",children:"Nenhuma"})]})]}),t.isPro?h.jsxs("div",{className:"flex items-center gap-3 text-green-600 bg-green-50 p-3 rounded-lg border border-green-100",children:[h.jsx(ps,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium",children:"Voc possui acesso completo e ilimitado ao app."})]}):h.jsx("button",{onClick:()=>n("/checkout"),className:"w-full bg-nutriOrange text-white py-2.5 rounded-lg hover:bg-orange-600 transition-colors font-bold text-sm",children:"Desbloquear Acesso Vitalcio (R$ 9,90)"})]})}),h.jsx("div",{className:"mt-8 border-t border-gray-100 pt-8",children:h.jsxs("button",{onClick:e,className:"text-red-500 hover:text-red-700 font-medium flex items-center gap-2 text-sm",children:[h.jsx(jx,{className:"w-4 h-4"}),"Sair da conta"]})})]}):h.jsx(lc,{to:"/",replace:!0})},vk={burn:kg,flex:hs,cardio:Vx},wk={burn:"bg-gradient-to-br from-orange-400 to-red-500",flex:"bg-gradient-to-br from-teal-400 to-emerald-500",cardio:"bg-gradient-to-br from-blue-400 to-indigo-500"},xk={burn:"bg-orange-50",flex:"bg-emerald-50",cardio:"bg-blue-50"},_k=()=>{const{user:t}=it();return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[h.jsxs("div",{className:"bg-nutriGreen text-white py-16 px-4 relative overflow-hidden shadow-lg",children:[h.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl translate-x-1/3 -translate-y-1/3"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-yellow-400/20 rounded-full blur-3xl -translate-x-1/3 translate-y-1/3"}),h.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 text-center",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-1.5 rounded-full mb-6 border border-white/20",children:[h.jsx(Rg,{className:"w-4 h-4 text-white"}),h.jsx("span",{className:"text-xs font-bold tracking-wider uppercase text-white",children:"rea Exclusiva Pro"})]}),h.jsxs("h1",{className:"font-header text-4xl md:text-5xl font-bold mb-4 drop-shadow-sm",children:["Sua rea de ",h.jsx("span",{className:"text-orange-200",children:"Bnus Pro"})]}),h.jsx("p",{className:"text-white/90 max-w-2xl mx-auto text-lg leading-relaxed font-medium",children:"Parabns por investir em voc! Aproveite estes guias de exerccios selecionados para potencializar seus resultados nutricionais."})]})]}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-10 relative z-20",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.values(Kl).map(e=>{const n=vk[e.id],r=wk[e.id]||"bg-gray-500",o=xk[e.id]||"bg-white";return h.jsxs(Rt,{to:`/bonus/${e.id}`,className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 hover:shadow-2xl hover:shadow-orange-100/50 hover:-translate-y-2 transition-all duration-300 group overflow-hidden flex flex-col h-full",children:[h.jsxs("div",{className:`h-32 ${r} p-6 relative flex items-center justify-center`,children:[h.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-50",style:{backgroundImage:"radial-gradient(#fff 1px, transparent 1px)",backgroundSize:"12px 12px"}}),h.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-lg flex items-center justify-center relative z-10 transform group-hover:scale-110 transition-transform duration-300",children:h.jsx(n,{className:`w-8 h-8 ${e.color.includes("orange")?"text-orange-500":e.color.includes("teal")?"text-emerald-500":"text-blue-500"}`})})]}),h.jsxs("div",{className:`p-8 flex-grow flex flex-col ${o}`,children:[h.jsx("h3",{className:"font-header text-xl font-bold text-gray-800 mb-3 text-center group-hover:text-nutriGreen transition-colors",children:e.title}),h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-6 text-center flex-grow",children:e.description}),h.jsx("div",{className:"mt-auto",children:h.jsxs("div",{className:"w-full bg-white border border-gray-100 py-3 rounded-xl flex items-center justify-center text-sm font-bold text-gray-700 group-hover:bg-nutriGreen group-hover:text-white group-hover:border-transparent transition-all shadow-sm",children:["Acessar Guia ",h.jsx(Fo,{className:"w-4 h-4 ml-2"})]})})]})]},e.id)})})})]})},Ek=({isOpen:t,onClose:e,exercise:n})=>!t||!n?null:h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),h.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"bg-gray-50 p-6 flex items-center justify-center relative border-b border-gray-100",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 hover:bg-white rounded-full text-gray-400 hover:text-gray-600 transition-colors shadow-sm",children:h.jsx($r,{className:"w-5 h-5"})}),h.jsx("div",{className:"w-full max-w-[300px] aspect-square bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden flex items-center justify-center",children:h.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})]}),h.jsxs("div",{className:"p-6 overflow-y-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"flex items-center gap-2 mb-1",children:h.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wider ${n.level==="Iniciante"?"bg-green-100 text-green-700":n.level==="Intermedirio"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:n.level})}),h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800 leading-tight",children:n.name}),h.jsx("p",{className:"text-nutriGreen font-bold mt-1 text-lg flex items-center gap-2",children:n.instructionMain})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[h.jsx(ps,{className:"w-4 h-4 text-gray-400"}),"Como fazer"]}),h.jsx("div",{className:"space-y-3",children:n.steps.map((r,o)=>h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-nutriGreen/10 text-nutriGreen text-xs font-bold flex items-center justify-center mt-0.5",children:o+1}),h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r})]},o))})]}),h.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-100",children:[h.jsxs("h3",{className:"text-sm font-bold text-orange-700 uppercase tracking-wide mb-2 flex items-center gap-2",children:[h.jsx(Mg,{className:"w-4 h-4"}),"Dica de Segurana"]}),h.jsx("p",{className:"text-sm text-gray-600",children:n.safetyTip})]})]})]}),h.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:h.jsx("button",{onClick:e,className:"w-full bg-nutriText text-white font-bold py-3 rounded-xl hover:bg-black transition-colors",children:"Entendido"})})]})]}),Sk=()=>{const{id:t}=xg(),{user:e}=it(),[n,r]=A.useState(null),[o,i]=A.useState(!1);if(!t||!Kl[t])return h.jsx(lc,{to:"/bonus",replace:!0});const s=Kl[t],a=(c,f)=>{f?i(!0):r(c)},u=t==="burn";return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:`bg-gradient-to-r ${s.color} py-12 px-4 text-white shadow-lg`,children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs(Rt,{to:"/bonus",className:"inline-flex items-center text-white/80 hover:text-white mb-6 text-sm font-medium transition-colors",children:[h.jsx(Bs,{className:"w-4 h-4 mr-1"})," Voltar para Bnus"]}),h.jsxs("h1",{className:"font-header text-3xl md:text-4xl font-bold flex items-center gap-3",children:[s.title," ",h.jsx("span",{className:"text-2xl",children:""})]}),h.jsx("p",{className:"text-white/90 mt-2 max-w-xl",children:s.description})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-10",children:[!(e!=null&&e.isPro)&&u&&h.jsxs("div",{className:"mb-8 bg-blue-50 border border-blue-100 rounded-xl p-4 flex items-center gap-3 text-blue-800 shadow-sm",children:[h.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:h.jsx(r_,{className:"w-4 h-4"})}),h.jsxs("p",{className:"text-sm font-medium",children:["Voc tem ",h.jsx("strong",{children:"1 amostra grtis"})," liberada (Burpees). Assine o Pro para acessar o restante!"]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.items.map((c,f)=>{const m=t==="burn"&&f===0,p=!(e!=null&&e.isPro)&&!m;return h.jsxs("div",{onClick:()=>a(c,p),className:`bg-white rounded-xl shadow-sm transition-all duration-300 cursor-pointer group overflow-hidden border border-gray-100 flex flex-col h-full relative ${p?"hover:shadow-md":"hover:shadow-lg hover:-translate-y-1"}`,children:[h.jsx("div",{className:"absolute top-3 left-3 z-30",children:p?h.jsxs("span",{className:"bg-gray-900 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm flex items-center gap-1",children:[h.jsx(Dr,{className:"w-3 h-3"})," PRO"]}):h.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm",children:"AMOSTRA"})}),h.jsxs("div",{className:"aspect-video bg-gray-50 relative overflow-hidden flex items-center justify-center p-6",children:[p&&h.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[3px] z-20 flex flex-col items-center justify-center p-4 text-center",children:[h.jsx("div",{className:"bg-gray-900 p-3 rounded-full mb-2 shadow-lg scale-90 group-hover:scale-100 transition-transform",children:h.jsx(Dr,{className:"w-6 h-6 text-white"})}),h.jsx("span",{className:"text-xs font-bold text-gray-800 uppercase tracking-wider",children:"Bloqueado"})]}),h.jsx("div",{className:`absolute inset-0 bg-black/5 z-10 transition-colors ${!p&&"group-hover:bg-transparent"}`}),h.jsx("img",{src:c.image,alt:c.name,className:`w-full h-full object-contain transition-transform duration-700 ${!p&&"group-hover:scale-110"}`}),!p&&h.jsx("div",{className:"absolute bottom-3 right-3 z-20 bg-white/90 p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 backdrop-blur-sm",children:h.jsx(zx,{className:"w-4 h-4 text-nutriText fill-current"})})]}),h.jsxs("div",{className:`p-5 flex flex-col flex-grow ${p?"opacity-50 grayscale-[0.5]":""}`,children:[h.jsx("div",{className:"flex justify-between items-start mb-2",children:h.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${c.level==="Iniciante"?"bg-green-100 text-green-700":c.level==="Intermedirio"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:c.level})}),h.jsx("h3",{className:`font-header font-bold text-lg text-gray-800 mb-3 transition-colors ${!p&&"group-hover:text-nutriOrange"}`,children:c.name}),h.jsxs("div",{className:"flex items-center text-xs text-gray-500 gap-4 mt-auto",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ox,{className:"w-3 h-3"}),h.jsx("span",{children:"Treino"})]}),h.jsx("span",{className:"font-medium text-gray-700",children:p?"???":c.instructionMain})]})]})]},c.id)})})]}),h.jsx(Ek,{isOpen:!!n,onClose:()=>r(null),exercise:n}),o&&h.jsx("div",{className:"fixed inset-0 z-[80]",children:h.jsx(yc,{onClose:()=>i(!1)})})]})},Tk=()=>{const{user:t}=it(),[e,n]=A.useState([]),[r,o]=A.useState(""),[i,s]=A.useState(!1),a=t!=null&&t.email?`nutriguia_shopping_${t.email}`:"nutriguia_shopping_guest";A.useEffect(()=>{const p=localStorage.getItem(a);if(p)try{n(JSON.parse(p))}catch(g){console.error("Erro ao carregar lista",g)}else n([])},[t,a]);const u=()=>{s(!0),localStorage.setItem(a,JSON.stringify(e)),setTimeout(()=>s(!1),800)},c=p=>{if(p.preventDefault(),!r.trim())return;const g={id:Date.now(),text:r,completed:!1};n([...e,g]),o("")},f=p=>{n(e.map(g=>g.id===p?{...g,completed:!g.completed}:g))},m=p=>{n(e.filter(g=>g.id!==p))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(Rt,{to:"/",className:"text-gray-500 hover:text-nutriGreen flex items-center gap-1 transition-colors",children:[h.jsx(Bs,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),h.jsxs("h1",{className:"font-header text-xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Ul,{className:"w-5 h-5 text-nutriOrange"}),"Lista de Compras"]}),h.jsx("button",{onClick:u,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-sm transition-all ${i?"bg-green-100 text-green-700":"bg-nutriGreen text-white hover:bg-green-600 shadow-lg shadow-green-200"}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx(Sr,{className:"w-4 h-4"})," Salvo!"]}):h.jsxs(h.Fragment,{children:[h.jsx(Pg,{className:"w-4 h-4"})," Salvar"]})})]})}),h.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-8",children:[!t&&h.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6 text-blue-800 text-sm flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["Voc est usando como visitante. ",h.jsx("strong",{children:"Faa login"})," para sincronizar sua lista entre dispositivos."]})]}),h.jsxs("form",{onSubmit:c,className:"mb-8 relative",children:[h.jsx("input",{type:"text",value:r,onChange:p=>o(p.target.value),placeholder:"Adicionar item (ex: 1kg de Peito de Frango)...",className:"w-full pl-6 pr-14 py-4 bg-white border border-gray-200 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 text-lg"}),h.jsx("button",{type:"submit",className:"absolute right-2 top-2 bottom-2 bg-gray-900 hover:bg-black text-white px-4 rounded-xl transition-colors flex items-center justify-center",children:h.jsx(Jx,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"space-y-3",children:e.length===0?h.jsxs("div",{className:"text-center py-12 text-gray-400",children:[h.jsx(Ul,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),h.jsx("p",{children:"Sua lista est vazia. Adicione itens acima!"})]}):e.map(p=>h.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all duration-200 ${p.completed?"bg-gray-100 border-transparent opacity-75":"bg-white border-gray-100 shadow-sm hover:shadow-md"}`,children:[h.jsx("button",{onClick:()=>f(p.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${p.completed?"bg-nutriGreen border-nutriGreen text-white":"border-gray-300 hover:border-nutriGreen text-transparent"}`,children:h.jsx(Sr,{className:"w-3 h-3 stroke-[4]"})}),h.jsx("span",{className:`flex-grow text-lg ${p.completed?"line-through text-gray-500":"text-gray-800"}`,children:p.text}),h.jsx("button",{onClick:()=>m(p.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(n_,{className:"w-5 h-5"})})]},p.id))})]})]})},tp=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],Ck=[{key:"breakfast",label:"Caf da Manh",icon:Fi},{key:"lunch",label:"Almoo",icon:$i},{key:"snack",label:"Lanche",icon:kx},{key:"dinner",label:"Jantar",icon:go}],Nk=()=>{const{user:t}=it(),[e,n]=A.useState({}),[r,o]=A.useState(!1),[i,s]=A.useState("Segunda"),[a,u]=A.useState(!1),[c,f]=A.useState(!1),[m,p]=A.useState(!1),[g,y]=A.useState(!1),_=t!=null&&t.email?`nutriguia_menu_${t.email}`:"nutriguia_menu_guest";A.useEffect(()=>{const S=localStorage.getItem(_);if(S)try{n(JSON.parse(S))}catch(T){console.error("Erro ao carregar cardpio",T)}else{const T={};tp.forEach(C=>{T[C]={breakfast:"",lunch:"",snack:"",dinner:""}}),n(T)}},[t,_]);const E=(S,T,C)=>{n(N=>({...N,[S]:{...N[S],[T]:C}}))},v=()=>{o(!0),localStorage.setItem(_,JSON.stringify(e)),setTimeout(()=>o(!1),800)},w=()=>{t?t.isPro?u(!0):p(!0):y(!0)},x=async S=>{u(!1),f(!0);try{const T=await hk(S);if(T){const C=JSON.parse(T);n(C),localStorage.setItem(_,T)}}catch(T){console.error("Erro no parse do JSON",T),alert("Ocorreu um erro ao gerar o cardpio. Tente novamente.")}finally{f(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12 relative",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(Rt,{to:"/",className:"text-gray-500 hover:text-nutriGreen flex items-center gap-1 transition-colors",children:[h.jsx(Bs,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),h.jsxs("h1",{className:"font-header text-xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(uc,{className:"w-5 h-5 text-nutriGreen"}),"Planejador Semanal"]}),h.jsx("button",{onClick:v,disabled:c,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-sm transition-all ${r?"bg-green-100 text-green-700":"bg-nutriGreen text-white hover:bg-green-600 shadow-lg shadow-green-200"}`,children:r?h.jsxs(h.Fragment,{children:[h.jsx(Sr,{className:"w-4 h-4"})," Salvo!"]}):h.jsxs(h.Fragment,{children:[h.jsx(Pg,{className:"w-4 h-4"})," Salvar"]})})]})}),h.jsxs("div",{className:"max-w-4xl mx-auto px-4 mt-8",children:[!t&&h.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6 text-blue-800 text-sm flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Visitante: Suas alteraes sero salvas neste navegador."})]}),h.jsxs("div",{className:"mb-8 bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-6 text-white shadow-xl flex flex-col sm:flex-row items-center justify-between gap-6 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2 pointer-events-none"}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Ll,{className:"w-5 h-5 text-yellow-400 fill-yellow-400 animate-pulse"}),h.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase tracking-widest",children:"Funcionalidade Pro"})]}),h.jsx("h2",{className:"font-header text-xl font-bold",children:"Sem ideias para cozinhar?"}),h.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Deixe nossa IA criar sua semana inteira em 1 clique."})]}),h.jsx("button",{onClick:w,disabled:c,className:"relative z-10 bg-white text-gray-900 px-6 py-3 rounded-xl font-bold text-sm shadow-lg hover:bg-gray-50 hover:scale-105 transition-all flex items-center gap-2 whitespace-nowrap disabled:opacity-70 disabled:cursor-not-allowed",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Bx,{className:"w-4 h-4 animate-spin"}),"Criando Cardpio..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ll,{className:"w-4 h-4 text-nutriOrange"}),"Gerar com IA"]})})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 scrollbar-hide",children:tp.map(S=>h.jsx("button",{onClick:()=>s(S),className:`px-5 py-2 rounded-full font-bold text-sm whitespace-nowrap transition-all ${i===S?"bg-gray-800 text-white shadow-md transform scale-105":"bg-white text-gray-500 hover:bg-gray-200"}`,children:S},S))}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 sm:p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[h.jsx("h2",{className:"font-header text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2 border-b border-gray-100 pb-4",children:h.jsx("span",{className:"text-nutriGreen",children:i})}),h.jsx("div",{className:"grid gap-6",children:Ck.map(S=>{var C;const T=S.icon;return h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 sm:w-40 flex-shrink-0",children:[h.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-gray-400",children:h.jsx(T,{className:"w-5 h-5"})}),h.jsx("label",{className:"font-bold text-gray-600 text-sm uppercase tracking-wide",children:S.label})]}),h.jsx("div",{className:"flex-grow",children:h.jsx("textarea",{value:((C=e[i])==null?void 0:C[S.key])||"",onChange:N=>E(i,S.key,N.target.value),placeholder:`O que voc vai comer no ${S.label.toLowerCase()}?`,className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-gray-800 focus:outline-none focus:ring-2 focus:ring-nutriGreen/50 focus:bg-white transition-all resize-none h-20"})})]},S.key)})})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx("p",{className:"text-sm text-gray-400",children:"Dica: Salve sempre que fizer alteraes para manter seu planejamento atualizado na sua conta."})})]}),a&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>u(!1)}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden p-6 animate-in zoom-in-95",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"font-header font-bold text-lg",children:"Defina seu Objetivo"}),h.jsx("button",{onClick:()=>u(!1),children:h.jsx($r,{className:"w-5 h-5 text-gray-400"})})]}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"A IA ir criar um plano semanal completo baseado na sua escolha:"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>x("lose"),className:"w-full p-4 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700 transition-all font-bold text-gray-700 text-left flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:""})," Emagrecimento"]}),h.jsxs("button",{onClick:()=>x("gain"),className:"w-full p-4 rounded-xl border border-gray-100 bg-gray-50 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700 transition-all font-bold text-gray-700 text-left flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:""})," Ganho de Massa"]}),h.jsxs("button",{onClick:()=>x("maintain"),className:"w-full p-4 rounded-xl border border-gray-100 bg-gray-50 hover:bg-green-50 hover:border-green-200 hover:text-green-700 transition-all font-bold text-gray-700 text-left flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:""})," Manuteno / Sade"]})]})]})]}),m&&h.jsx("div",{className:"fixed inset-0 z-[60]",children:h.jsx(yc,{onClose:()=>p(!1)})}),h.jsx(gc,{isOpen:g,onClose:()=>y(!1)})]})};function Ak(){return h.jsx(VS,{children:h.jsx(Sx,{children:h.jsxs(GS,{children:[h.jsxs(mx,{children:[h.jsx(Tt,{path:"/",element:h.jsx(QS,{})}),h.jsx(Tt,{path:"/category/:id",element:h.jsx(eT,{})}),h.jsx(Tt,{path:"/checkout",element:h.jsx(gk,{})}),h.jsx(Tt,{path:"/profile",element:h.jsx(yk,{})}),h.jsx(Tt,{path:"/bonus",element:h.jsx(_k,{})}),h.jsx(Tt,{path:"/bonus/:id",element:h.jsx(Sk,{})}),h.jsx(Tt,{path:"/shopping-list",element:h.jsx(Tk,{})}),h.jsx(Tt,{path:"/weekly-menu",element:h.jsx(Nk,{})})]}),h.jsx(pk,{})]})})})}const Wy=document.getElementById("root");if(!Wy)throw new Error("Could not find root element to mount to");const Ik=Fa.createRoot(Wy);Ik.render(h.jsx(fp.StrictMode,{children:h.jsx(Ak,{})}));
